<!doctype html>

<!-- source code at https://github.com/swellbastion/ld37 -->

<html>
  <head>
    <style>
      html {
        background: black;
        color: #b7b4ae;
        font-family: monospace;
        text-align: center;
      }
      canvas {
        display: block;
        margin: auto;
      }
      a {
        color: #70a68c;
      }
    </style>
    <meta charset="utf-8">
    <script>
function ba(){return function b(g,e,h){function k(a,d){if(!e[a]){if(!g[a]){var c="function"==typeof require&&require;if(!d&&c)return c(a,!0);if(l)return l(a,!0);throw Error("Cannot find module '"+a+"'");}c=e[a]={V:{}};g[a][0].call(c.V,function(c){var b=g[a][1][c];return k(b?b:c)},c,c.V,b,g,e,h)}return e[a].V}for(var l="function"==typeof require&&require,a=0;a<h.length;a++)k(h[a]);return k}({1:[function(b,g){function e(){}var h=b("./Scalar");g.V=e;e.G3=function(b,e,a){var c,d,f,m,p,r,l,g=[0,0];return c=
b[1][1]-b[0][1],d=b[0][0]-b[1][0],f=c*b[0][0]+d*b[0][1],m=e[1][1]-e[0][1],p=e[0][0]-e[1][0],r=m*e[0][0]+p*e[0][1],l=c*p-m*d,h.EQ(l,a||0)||(g[0]=(p*f-d*r)/l,g[1]=(c*r-m*f)/l),g};e.b5=function(b,e,a,c){var d=e[0]-b[0];e=e[1]-b[1];var f=c[0]-a[0],m=c[1]-a[1];if(0==f*e-m*d)return!1;c=(d*(a[1]-b[1])+e*(b[0]-a[0]))/(f*e-m*d);b=(f*(b[1]-a[1])+m*(a[0]-b[0]))/(m*d-f*e);return 0<=c&&1>=c&&0<=b&&1>=b}},{"./Scalar":4}],2:[function(b,g){function e(){}g.V=e;e.ra=function(b,a,c){return(a[0]-b[0])*(c[1]-b[1])-(c[0]-
b[0])*(a[1]-b[1])};e.left=function(b,a,c){return 0<e.ra(b,a,c)};e.E3=function(b,a,c){return 0<=e.ra(b,a,c)};e.right=function(b,a,c){return 0>e.ra(b,a,c)};e.V4=function(b,a,c){return 0>=e.ra(b,a,c)};var h=[],k=[];e.g2=function(b,a,c,d){return d?(h[0]=a[0]-b[0],h[1]=a[1]-b[1],k[0]=c[0]-a[0],k[1]=c[1]-a[1],Math.acos((h[0]*k[0]+h[1]*k[1])/(Math.sqrt(h[0]*h[0]+h[1]*h[1])*Math.sqrt(k[0]*k[0]+k[1]*k[1])))<d):0==e.ra(b,a,c)};e.n5=function(b,a){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}},{}],3:[function(b,
g){function e(){this.u=[]}b("./Line");b("./Point");b("./Scalar");g.V=e;e.prototype.first=function(){return this.u[0]};e.prototype.Ef=function(){return this.u[this.u.length-1]};e.prototype.clear=function(){this.u.length=0};e.prototype.append=function(b,e,l){if("undefined"==typeof e)throw Error("From is not given!");if("undefined"==typeof l)throw Error("To is not given!");if(l-1<e)throw Error("lol1");if(l>b.u.length)throw Error("lol2");if(0>e)throw Error("lol3");for(;e<l;e++)this.u.push(b.u[e])};e.prototype.reverse=
function(){for(var b=[],e=0,l=this.u.length;e!==l;e++)b.push(this.u.pop());this.u=b};e.prototype.O=function(b,g,l){l=l||new e;if(l.clear(),b<g)for(var a=b;a<=g;a++)l.u.push(this.u[a]);else{for(a=0;a<=g;a++)l.u.push(this.u[a]);for(a=b;a<this.u.length;a++)l.u.push(this.u[a])}return l};e.prototype.slice=function(b){if(0==b.length)return[this];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2==b[0].length&&b[0][0]instanceof Array){for(var e=[this],l=0;l<b.length;l++)for(var a=b[l],c=0;c<e.length;c++){var d=
e[c].slice(a);if(d){e.splice(c,1);e.push(d[0],d[1]);break}}return e}a=b;l=this.u.indexOf(a[0]);c=this.u.indexOf(a[1]);return-1!=l&&-1!=c&&[this.O(l,c),this.O(c,l)]}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(b,g){function e(){}g.V=e;e.EQ=function(b,e){return e=e||0,Math.abs(b-0)<e}},{}],5:[function(b,g){g.V={sg:b("./Polygon"),h:b("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(b,g){g.V={name:"p2",version:"0.7.0",description:"A JavaScript 2D physics engine.",N1:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",
B3:["p2.js","p2","physics","engine","2d"],I3:"./src/p2.js",w2:{node:"*"},R4:{type:"git",url:"https://github.com/schteppe/p2.js.git"},Y1:{url:"https://github.com/schteppe/p2.js/issues"},F3:[{type:"MIT"}],o2:{b3:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},n2:{"poly-decomp":"0.1.0"}}},{}],7:[function(b,g){function e(b){this.lowerBound=h.create();
b&&b.lowerBound&&h.O(this.lowerBound,b.lowerBound);this.upperBound=h.create();b&&b.upperBound&&h.O(this.upperBound,b.upperBound)}var h=b("../math/vec2");b("../utils/Utils");g.V=e;var k=h.create();e.prototype.Xv=function(b,a,c,d){var f=this.lowerBound,m=this.upperBound;"number"!=typeof c&&(c=0);0!==c?h.rotate(f,b[0],c):h.O(f,b[0]);h.O(m,f);for(var p=Math.cos(c),r=Math.sin(c),e=1;e<b.length;e++){var l=b[e];if(0!==c){var g=l[0],l=l[1];k[0]=p*g-r*l;k[1]=r*g+p*l;l=k}for(g=0;2>g;g++)l[g]>m[g]&&(m[g]=l[g]),
l[g]<f[g]&&(f[g]=l[g])}a&&(h.add(this.lowerBound,this.lowerBound,a),h.add(this.upperBound,this.upperBound,a));d&&(this.lowerBound[0]-=d,this.lowerBound[1]-=d,this.upperBound[0]+=d,this.upperBound[1]+=d)};e.prototype.O=function(b){h.O(this.lowerBound,b.lowerBound);h.O(this.upperBound,b.upperBound)};e.prototype.extend=function(b){for(var a=2;a--;){var c=b.lowerBound[a];this.lowerBound[a]>c&&(this.lowerBound[a]=c);c=b.upperBound[a];this.upperBound[a]<c&&(this.upperBound[a]=c)}};e.prototype.kr=function(b){var a=
this.lowerBound,c=this.upperBound,d=b.lowerBound;b=b.upperBound;return(d[0]<=c[0]&&c[0]<=b[0]||a[0]<=b[0]&&b[0]<=c[0])&&(d[1]<=c[1]&&c[1]<=b[1]||a[1]<=b[1]&&b[1]<=c[1])};e.prototype.ju=function(b){var a=this.lowerBound,c=this.upperBound;return a[0]<=b[0]&&b[0]<=c[0]&&a[1]<=b[1]&&b[1]<=c[1]};e.prototype.cU=function(b){var a=1/b.direction[0],c=1/b.direction[1],d=(this.lowerBound[0]-b.from[0])*a,a=(this.upperBound[0]-b.from[0])*a,f=(this.lowerBound[1]-b.from[1])*c,c=(this.upperBound[1]-b.from[1])*c;
b=Math.max(Math.max(Math.min(d,a),Math.min(f,c)));d=Math.min(Math.min(Math.max(d,a),Math.max(f,c)));return 0>d?-1:b>d?-1:b}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(b,g){function e(a){this.type=a;this.result=[];this.g=null;this.eF=e.Aw}var h=b("../math/vec2"),k=b("../objects/Body");g.V=e;e.Aw=1;e.sL=2;e.prototype.RJ=function(a){this.g=a};e.prototype.wz=function(){};var l=h.create();e.NO=function(a,c){h.sub(l,a.position,c.position);var b=a.be+c.be;return h.ff(l)<=b*b};e.HN=function(a,
c){return a.Cq().kr(c.Cq())};e.prototype.dF=function(a,c){var b;switch(this.eF){case e.sL:b=e.NO(a,c);break;case e.Aw:b=e.HN(a,c);break;default:throw Error("Bounding volume type not recognized: "+this.eF);}return b};e.lF=function(a,c){var b=k.ih,f=k.hd;return(a.type!==f||c.type!==f)&&!(a.type===b&&c.type===f||a.type===f&&c.type===b)&&(a.type!==b||c.type!==b)&&(a.le!==k.lh||c.le!==k.lh)&&!(a.le===k.lh&&c.type===f||c.le===k.lh&&a.type===f)};e.iM=1;e.AM=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(b,
g){function e(){h.call(this,h.iM)}var h=(b("../shapes/Circle"),b("../shapes/Plane"),b("../shapes/Shape"),b("../shapes/Particle"),b("../collision/Broadphase"));b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.wz=function(b){b=b.Qa;for(var e=this.result,a=e.length=0,c=b.length;a!==c;a++)for(var d=b[a],f=0;f<a;f++){var m=b[f];h.lF(d,m)&&this.dF(d,m)&&e.push(d,m)}return e};e.prototype.zE=function(b,e,a){a=a||[];b=b.Qa;for(var c=0;c<b.length;c++){var d=b[c];d.Gj&&d.Nr();
d.we.kr(e)&&a.push(d)}return a}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(b,g){function e(){this.ua=[];this.Ua=[];this.ez=this.gb=!0;this.VJ=10;this.yq=.3;this.eo=0;this.QF=new f({size:32});this.IG=new m({size:64});this.jg=0;this.Qd=r.Io;this.ci=r.Ho;this.un=r.Io;this.tn=r.Ho;this.ge=!0;this.Ly=new p;this.iu=.01}function h(a,c){l.set(a.u[0],.5*-c.length,-c.w);l.set(a.u[1],.5*c.length,-c.w);
l.set(a.u[2],.5*c.length,c.w);l.set(a.u[3],.5*-c.length,c.w)}function k(b,d,f,m){var p=Oa,r=Pa,e=Qa,g=Ra;d=d.u;for(var u=null,k=0;k!==d.length+1;k++){var h=d[(k+1)%d.length];l.rotate(p,d[k%d.length],m);l.rotate(r,h,m);c(p,p,f);c(r,r,f);a(e,p,b);a(g,r,b);h=l.ec(e,g);if(null===u&&(u=h),0>=h*u)return!1;u=h}return!0}var l=b("../math/vec2"),a=l.sub,c=l.add,d=l.Mb,f=(b("../utils/Utils"),b("../utils/ContactEquationPool")),m=b("../utils/FrictionEquationPool"),p=b("../utils/TupleDictionary"),r=b("../equations/Equation"),
u=(b("../equations/ContactEquation"),b("../equations/FrictionEquation"),b("../shapes/Circle")),w=b("../shapes/Convex"),q=b("../shapes/Shape"),t=(b("../objects/Body"),b("../shapes/Box"));g.V=e;var y=l.T(0,1),v=l.T(0,0),x=l.T(0,0),A=l.T(0,0),B=l.T(0,0),z=l.T(0,0),D=l.T(0,0),E=l.T(0,0),H=l.T(0,0),I=l.T(0,0),G=l.T(0,0),P=l.T(0,0),Q=l.T(0,0),N=l.T(0,0),J=l.T(0,0),Z=l.T(0,0),U=l.T(0,0),R=l.T(0,0),K=l.T(0,0),L=[],O=l.create(),M=l.create();e.prototype.JO=function(a,c){for(var b=0,d=a.wb.length;b!==d;b++){var f=
a.wb[b];a.cm(O,f.position);for(var m=0,p=c.wb.length;m!==p;m++){var r=c.wb[m];if(c.cm(M,r.position),this[f.type|r.type](a,f,O,f.angle+a.angle,c,r,M,r.angle+c.angle,!0))return!0}}return!1};e.prototype.FP=function(a,c){return!!this.Ly.get(0|a.id,0|c.id)};e.prototype.reset=function(){this.Ly.reset();for(var a=this.ua,c=a.length;c--;){var b=a[c];this.Ly.set(b.aa.id,b.ca.id,!0)}a=this.ua;c=this.Ua;for(b=0;b<a.length;b++)this.QF.release(a[b]);for(b=0;b<c.length;b++)this.IG.release(c[b]);this.ua.length=
this.Ua.length=0};e.prototype.We=function(a,c,b,d){var f=this.QF.get();return f.aa=a,f.ca=c,f.Dc=b,f.Ec=d,f.jg=this.jg,f.lz=!this.FP(a,c),f.Qd=this.Qd,f.ci=this.ci,f.fk=!0,f.enabled=this.ez,f.offset=this.iu,f};e.prototype.VF=function(a,c,b,d){var f=this.IG.get();return f.aa=a,f.ca=c,f.Dc=b,f.Ec=d,f.Yv(this.VJ),f.yq=this.yq,f.UA=this.eo,f.enabled=this.ez,f.fk=!0,f.Qd=this.un,f.ci=this.tn,f.ua.length=0,f};e.prototype.Xe=function(a){var c=this.VF(a.aa,a.ca,a.Dc,a.Ec);return l.O(c.J,a.J),l.O(c.M,a.M),
l.Xg(c.t,a.fa),c.ua.push(a),c};e.prototype.hq=function(a){var c=this.ua[this.ua.length-1],b=this.VF(c.aa,c.ca,c.Dc,c.Ec),d=c.aa;c.ca;l.set(b.J,0,0);l.set(b.M,0,0);l.set(b.t,0,0);for(var f=0;f!==a;f++)c=this.ua[this.ua.length-1-f],c.aa===d?(l.add(b.t,b.t,c.fa),l.add(b.J,b.J,c.J),l.add(b.M,b.M,c.M)):(l.sub(b.t,b.t,c.fa),l.add(b.J,b.J,c.M),l.add(b.M,b.M,c.J)),b.ua.push(c);a=1/a;return l.scale(b.J,b.J,a),l.scale(b.M,b.M,a),l.normalize(b.t,b.t),l.Xg(b.t,b.t),b};e.prototype[q.kh|q.ni]=function(a,c,b,d,
f,m,p,r,e){return!e&&0};e.prototype[q.kh|q.hh]=function(a,c,b,d,f,m,p,r,e){return!e&&0};var Ha=new t({width:1,height:1}),S=l.create();e.prototype[q.mi|q.ni]=e.prototype[q.mi|q.hh]=e.prototype.SF=function(a,c,b,d,f,m,p,r,e){l.set(S,m.length/2,0);l.rotate(S,S,r);l.add(S,S,p);var g=this.yF(f,m,S,r,a,c,b,d,e,m.w);l.set(S,-m.length/2,0);l.rotate(S,S,r);l.add(S,S,p);var u=this.yF(f,m,S,r,a,c,b,d,e,m.w);if(e&&(g||u))return!0;h(Ha,m);return this.TF(a,c,b,d,f,Ha,p,r,e)+g+u};e.prototype[q.mi|q.kh]=function(a,
c,b,d,f,m,p,r,e){return!e&&0};var ka=l.create(),la=l.create(),ua=new t({width:1,height:1});e.prototype[q.mi|q.mi]=function(a,c,b,d,f,m,p,r,e){for(var g,u=0,k=0;2>k;k++){l.set(ka,(0===k?-1:1)*c.length/2,0);l.rotate(ka,ka,d);l.add(ka,ka,b);for(var q=0;2>q;q++){l.set(la,(0===q?-1:1)*m.length/2,0);l.rotate(la,la,r);l.add(la,la,p);this.ge&&(g=this.gb,this.gb=!1);var w=this.xP(a,c,ka,d,f,m,la,r,e,c.w,m.w);if(this.ge&&(this.gb=g),e&&w)return!0;u+=w}}this.ge&&(g=this.gb,this.gb=!1);h(ua,c);k=this.SF(a,ua,
b,d,f,m,p,r,e);if(this.ge&&(this.gb=g),e&&k)return!0;if(u+=k,this.ge)g=this.gb,this.gb=!1;h(ua,m);a=this.SF(f,ua,p,r,a,c,b,d,e);return this.ge&&(this.gb=g),!(!e||!a)||(u+=a,this.ge&&u&&this.gb&&this.Ua.push(this.hq(u)),u)};e.prototype[q.kh|q.kh]=function(a,c,b,d,f,m,p,r,e){return!e&&0};e.prototype[q.Jk|q.kh]=function(b,f,m,p,r,e,g,u,k){var h=0;l.set(v,-e.length/2,0);l.set(x,e.length/2,0);l.rotate(A,v,u);l.rotate(B,x,u);c(A,A,g);c(B,B,g);l.O(v,A);l.O(x,B);a(z,x,v);l.normalize(D,z);l.Xg(I,D);l.rotate(H,
y,p);L[0]=v;L[1]=x;for(p=0;p<L.length;p++){u=L[p];a(E,u,m);var q=d(E,H);if(0>q){if(k)return!0;var w=this.We(b,r,f,e);h++;l.O(w.fa,H);l.normalize(w.fa,w.fa);l.scale(E,H,q);a(w.J,u,E);a(w.J,w.J,b.position);a(w.M,u,g);c(w.M,w.M,g);a(w.M,w.M,r.position);this.ua.push(w);this.ge||this.gb&&this.Ua.push(this.Xe(w))}}return!k&&(this.ge||h&&this.gb&&this.Ua.push(this.hq(h)),h)};e.prototype[q.qm|q.mi]=e.prototype.iU=function(a,c,b,d,f,m,p,r,e){return this.zF(a,c,b,d,f,m,p,r,e,m.w,0)};e.prototype[q.Nf|q.kh]=
e.prototype.zF=function(b,f,m,p,r,e,g,u,k,h,w){h=h||0;w="undefined"!=typeof w?w:f.w;l.set(H,-e.length/2,0);l.set(I,e.length/2,0);l.rotate(G,H,u);l.rotate(P,I,u);c(G,G,g);c(P,P,g);l.O(H,G);l.O(I,P);a(D,I,H);l.normalize(E,D);l.Xg(z,E);a(Q,m,H);u=d(Q,z);a(B,H,g);a(N,m,g);p=w+h;if(Math.abs(u)<p){l.scale(v,z,u);a(A,m,v);l.scale(x,z,d(z,N));l.normalize(x,x);l.scale(x,x,h);c(A,A,x);u=d(E,A);var q=d(E,H),t=d(E,I);if(u>q&&u<t){if(k)return!0;f=this.We(b,r,f,e);return l.scale(f.fa,v,-1),l.normalize(f.fa,f.fa),
l.scale(f.J,f.fa,w),c(f.J,f.J,m),a(f.J,f.J,b.position),a(f.M,A,g),c(f.M,f.M,g),a(f.M,f.M,r.position),this.ua.push(f),this.gb&&this.Ua.push(this.Xe(f)),1}}L[0]=H;L[1]=I;for(q=0;q<L.length;q++)if(u=L[q],a(Q,u,m),l.ff(Q)<Math.pow(p,2)){if(k)return!0;f=this.We(b,r,f,e);return l.O(f.fa,Q),l.normalize(f.fa,f.fa),l.scale(f.J,f.fa,w),c(f.J,f.J,m),a(f.J,f.J,b.position),a(f.M,u,g),l.scale(J,f.fa,-h),c(f.M,f.M,J),c(f.M,f.M,g),a(f.M,f.M,r.position),this.ua.push(f),this.gb&&this.Ua.push(this.Xe(f)),1}return 0};
e.prototype[q.Nf|q.mi]=function(a,c,b,d,f,m,p,r,e){return this.zF(a,c,b,d,f,m,p,r,e,m.w)};e.prototype[q.Nf|q.ni]=e.prototype[q.Nf|q.hh]=e.prototype.yF=function(b,d,f,m,p,r,e,g,u,h){h="number"==typeof h?h:d.w;m=!1;for(var w=Number.MAX_VALUE,q=r.u,t=0;t!==q.length+1;t++){var y=q[(t+1)%q.length];if(l.rotate(v,q[t%q.length],g),l.rotate(x,y,g),c(v,v,e),c(x,x,e),a(A,x,v),l.normalize(B,A),l.Xg(z,B),l.scale(J,z,-d.w),c(J,J,f),k(J,r,e,g))l.sub(Z,v,J),y=Math.abs(l.Mb(Z,z)),y<w&&(l.O(U,J),w=y,l.scale(N,z,y),
l.add(N,N,J),m=!0)}if(m){if(u)return!0;d=this.We(b,p,d,r);return l.sub(d.fa,U,f),l.normalize(d.fa,d.fa),l.scale(d.J,d.fa,h),c(d.J,d.J,f),a(d.J,d.J,b.position),a(d.M,N,e),c(d.M,d.M,e),a(d.M,d.M,p.position),this.ua.push(d),this.gb&&this.Ua.push(this.Xe(d)),1}if(0<h)for(t=0;t<q.length;t++)if(l.rotate(P,q[t],g),c(P,P,e),a(G,P,f),l.ff(G)<Math.pow(h,2)){if(u)return!0;d=this.We(b,p,d,r);return l.O(d.fa,G),l.normalize(d.fa,d.fa),l.scale(d.J,d.fa,h),c(d.J,d.J,f),a(d.J,d.J,b.position),a(d.M,P,e),c(d.M,d.M,
e),a(d.M,d.M,p.position),this.ua.push(d),this.gb&&this.Ua.push(this.Xe(d)),1}return 0};var Oa=l.create(),Pa=l.create(),Qa=l.create(),Ra=l.create();e.prototype[q.qm|q.ni]=e.prototype[q.qm|q.hh]=e.prototype.jU=function(b,f,m,p,r,e,g,u,h){p=Number.MAX_VALUE;var w=!1,q=e.u;if(!k(m,e,g,u))return 0;if(h)return!0;for(h=0;h!==q.length+1;h++){var t=q[(h+1)%q.length];l.rotate(v,q[h%q.length],u);l.rotate(x,t,u);c(v,v,g);c(x,x,g);a(A,x,v);l.normalize(B,A);l.Xg(z,B);a(G,m,v);d(G,z);a(D,v,g);a(E,m,g);l.sub(R,v,
m);t=Math.abs(l.Mb(R,z));t<p&&(p=t,l.scale(N,z,t),l.add(N,N,m),l.O(K,z),w=!0)}return w?(f=this.We(b,r,f,e),l.scale(f.fa,K,-1),l.normalize(f.fa,f.fa),l.set(f.J,0,0),c(f.J,f.J,m),a(f.J,f.J,b.position),a(f.M,N,g),c(f.M,f.M,g),a(f.M,f.M,r.position),this.ua.push(f),this.gb&&this.Ua.push(this.Xe(f)),1):0};e.prototype[q.Nf]=e.prototype.xP=function(b,d,f,m,p,r,e,g,u,k,h){k=k||d.w;h=h||r.w;a(v,f,e);if(l.ff(v)>Math.pow(k+h,2))return 0;if(u)return!0;d=this.We(b,p,d,r);return a(d.fa,e,f),l.normalize(d.fa,d.fa),
l.scale(d.J,d.fa,k),l.scale(d.M,d.fa,-h),c(d.J,d.J,f),a(d.J,d.J,b.position),c(d.M,d.M,e),a(d.M,d.M,p.position),this.ua.push(d),this.gb&&this.Ua.push(this.Xe(d)),1};e.prototype[q.Jk|q.ni]=e.prototype[q.Jk|q.hh]=function(b,f,m,p,r,e,g,u,k){var h=0;l.rotate(x,y,p);for(p=0;p!==e.u.length;p++)if(l.rotate(v,e.u[p],u),c(v,v,g),a(A,v,m),0>=d(A,x)){if(k)return!0;h++;var q=this.We(b,r,f,e);a(A,v,m);l.O(q.fa,x);var w=d(A,q.fa);l.scale(A,q.fa,w);a(q.M,v,r.position);a(q.J,v,A);a(q.J,q.J,b.position);this.ua.push(q);
this.ge||this.gb&&this.Ua.push(this.Xe(q))}return this.ge&&this.gb&&h&&this.Ua.push(this.hq(h)),h};e.prototype[q.qm|q.Jk]=e.prototype.lU=function(c,b,f,m,p,r,e,g,u){g=g||0;a(v,f,e);l.rotate(x,y,g);m=d(v,x);if(0<m)return 0;if(u)return!0;b=this.We(p,c,r,b);return l.O(b.fa,x),l.scale(v,b.fa,m),a(b.J,f,v),a(b.J,b.J,p.position),a(b.M,f,c.position),this.ua.push(b),this.gb&&this.Ua.push(this.Xe(b)),1};e.prototype[q.Nf|q.qm]=e.prototype.yP=function(b,d,f,m,p,r,e,g,u){if(a(v,e,f),l.ff(v)>Math.pow(d.w,2))return 0;
if(u)return!0;m=this.We(b,p,d,r);return l.O(m.fa,v),l.normalize(m.fa,m.fa),l.scale(m.J,m.fa,d.w),c(m.J,m.J,f),a(m.J,m.J,b.position),a(m.M,e,p.position),this.ua.push(m),this.gb&&this.Ua.push(this.Xe(m)),1};var Da=new u({w:1}),ma=l.create(),na=l.create();l.create();e.prototype[q.Jk|q.mi]=function(a,b,d,f,m,p,r,e,g){l.set(ma,-p.length/2,0);l.rotate(ma,ma,e);c(ma,ma,r);l.set(na,p.length/2,0);l.rotate(na,na,e);c(na,na,r);Da.w=p.w;var u;this.ge&&(u=this.gb,this.gb=!1);p=this.AF(m,Da,ma,0,a,b,d,f,g);a=this.AF(m,
Da,na,0,a,b,d,f,g);if(this.ge&&(this.gb=u),g)return p||a;g=p+a;return this.ge&&g&&this.Ua.push(this.hq(g)),g};e.prototype[q.Nf|q.Jk]=e.prototype.AF=function(b,f,m,p,r,e,g,u,k){p=u||0;a(v,m,g);l.rotate(x,y,p);p=d(x,v);if(p>f.w)return 0;if(k)return!0;e=this.We(r,b,e,f);return l.O(e.fa,x),l.scale(e.M,e.fa,-f.w),c(e.M,e.M,m),a(e.M,e.M,b.position),l.scale(A,e.fa,p),a(e.J,v,A),c(e.J,e.J,g),a(e.J,e.J,r.position),this.ua.push(e),this.gb&&this.Ua.push(this.Xe(e)),1};e.prototype[q.ni]=e.prototype[q.ni|q.hh]=
e.prototype[q.hh]=e.prototype.TF=function(b,f,m,p,r,g,u,k,h,q){var w=0;q="number"==typeof q?q:0;if(!e.IQ(f,m,p,g,u,k,v))return 0;a(H,u,m);0<d(v,H)&&l.scale(v,v,-1);var t=e.QG(f,p,v,!0),y=e.QG(g,k,v);if(-1===t||-1===y)return 0;for(var P=0;2>P;P++){var Q=t,S=y,D=f,N=g,J=m,O=u,U=p,L=k,R=b,Z=r;if(0===P){var K;K=Q;Q=S;S=K;K=D;D=N;N=K;K=J;J=O;O=K;K=U;U=L;L=K;K=R;R=Z;Z=K}for(K=S;K<S+2;K++){l.rotate(x,N.u[(K+N.u.length)%N.u.length],L);c(x,x,O);for(var G=0,M=Q-1;M<Q+2;M++){var ca=D.u[(M+D.u.length)%D.u.length],
Ca=D.u[(M+1+D.u.length)%D.u.length];l.rotate(A,ca,U);l.rotate(B,Ca,U);c(A,A,J);c(B,B,J);a(z,B,A);l.Xg(I,z);l.normalize(I,I);a(H,x,A);ca=d(I,H);(M===Q&&ca<=q||M!==Q&&0>=ca)&&G++}if(3<=G){if(h)return!0;G=this.We(R,Z,D,N);w++;ca=D.u[Q%D.u.length];Ca=D.u[(Q+1)%D.u.length];l.rotate(A,ca,U);l.rotate(B,Ca,U);c(A,A,J);c(B,B,J);a(z,B,A);l.Xg(G.fa,z);l.normalize(G.fa,G.fa);a(H,x,A);ca=d(G.fa,H);l.scale(E,G.fa,ca);a(G.J,x,J);a(G.J,G.J,E);c(G.J,G.J,J);a(G.J,G.J,R.position);a(G.M,x,O);c(G.M,G.M,O);a(G.M,G.M,Z.position);
this.ua.push(G);this.ge||this.gb&&this.Ua.push(this.Xe(G))}}}return this.ge&&this.gb&&w&&this.Ua.push(this.hq(w)),w};var ra=l.T(0,0);e.Iv=function(a,c,b,f,m){var p,r=null,e=null;l.rotate(ra,f,-b);for(b=0;b<a.u.length;b++)p=a.u[b],p=d(p,ra),(null===r||p>r)&&(r=p),(null===e||p<e)&&(e=p);e>r&&(a=e,e=r,r=a);c=d(c,f);l.set(m,e+c,r+c)};var Ia=l.T(0,0),Ja=l.T(0,0),Ka=l.T(0,0),V=l.T(0,0),da=l.T(0,0),ea=l.T(0,0);e.IQ=function(c,b,d,f,m,p,r){var g=null,u,k=!1;if(c instanceof t&&f instanceof t)for(var h=0;2!==
h;h++){var q,w=d;1===h&&(w=p);for(var v=0;2!==v;v++){0===v?l.set(V,0,1):1===v&&l.set(V,1,0);0!==w&&l.rotate(V,V,w);e.Iv(c,b,d,V,da);e.Iv(f,m,p,V,ea);u=da;var y=ea;da[0]>ea[0]&&(y=da,u=ea);y=y[0]-u[1];u=0>=y;(null===g||y>g)&&(l.O(r,V),g=y,k=u)}}else for(h=0;2!==h;h++)for(q=c,w=d,1===h&&(q=f,w=p),v=0;v!==q.u.length;v++)l.rotate(Ja,q.u[v],w),l.rotate(Ka,q.u[(v+1)%q.u.length],w),a(Ia,Ka,Ja),l.Xg(V,Ia),l.normalize(V,V),e.Iv(c,b,d,V,da),e.Iv(f,m,p,V,ea),u=da,y=ea,da[0]>ea[0]&&(y=da,u=ea),y=y[0]-u[1],u=
0>=y,(null===g||y>g)&&(l.O(r,V),g=y,k=u);return k};var va=l.T(0,0),La=l.T(0,0),wa=l.T(0,0);e.QG=function(c,b,f,m){l.rotate(va,f,-b);m&&l.scale(va,va,-1);b=-1;f=c.u.length;m=-1;for(var p=0;p!==f;p++){a(La,c.u[(p+1)%f],c.u[p%f]);l.Xg(wa,La);l.normalize(wa,wa);var r=d(wa,va);(-1===b||r>m)&&(b=p%f,m=r)}return b};var fa=l.create(),ga=l.create(),W=l.create(),sa=l.create(),Ma=l.create(),aa=l.create(),Na=l.create();e.prototype[q.Nf|q.vs]=function(b,d,f,m,p,r,e,g,u,k){m=r.Pg;k=k||d.w;g=r.tl;var h=Math.floor((f[0]-
k-e[0])/g),q=Math.ceil((f[0]+k-e[0])/g);0>h&&(h=0);q>=m.length&&(q=m.length-1);for(var w=m[h],t=m[q],v=h;v<q;v++)m[v]<t&&(t=m[v]),m[v]>w&&(w=m[v]);if(f[1]-k>w)return!u&&0;for(v=h;v<q;v++)if(l.set(W,v*g,m[v]),l.set(sa,(v+1)*g,m[v+1]),l.add(W,W,e),l.add(sa,sa,e),l.sub(aa,sa,W),l.rotate(aa,aa,Math.PI/2),l.normalize(aa,aa),l.scale(fa,aa,-k),l.add(fa,fa,f),l.sub(ga,fa,W),w=l.Mb(ga,aa),fa[0]>=W[0]&&fa[0]<sa[0]&&0>=w){if(u)return!0;l.scale(ga,aa,-w);l.add(Ma,fa,ga);l.O(Na,aa);t=this.We(p,b,r,d);l.O(t.fa,
Na);l.scale(t.M,t.fa,-k);c(t.M,t.M,f);a(t.M,t.M,b.position);l.O(t.J,Ma);l.sub(t.J,t.J,p.position);this.ua.push(t);this.gb&&this.Ua.push(this.Xe(t))}if(w=!1,0<k)for(v=h;v<=q;v++)if(l.set(W,v*g,m[v]),l.add(W,W,e),l.sub(ga,f,W),l.ff(ga)<Math.pow(k,2)){if(u)return!0;w=!0;t=this.We(p,b,r,d);l.O(t.fa,ga);l.normalize(t.fa,t.fa);l.scale(t.M,t.fa,-k);c(t.M,t.M,f);a(t.M,t.M,b.position);a(t.J,W,e);c(t.J,t.J,e);a(t.J,t.J,p.position);this.ua.push(t);this.gb&&this.Ua.push(this.Xe(t))}return w?1:0};var oa=l.create(),
pa=l.create(),xa=l.create(),X=new w({u:[l.create(),l.create(),l.create(),l.create()]});e.prototype[q.hh|q.vs]=e.prototype[q.ni|q.vs]=function(a,c,b,d,f,m,p,r,e){r=m.Pg;m=m.tl;var g=Math.floor((a.we.lowerBound[0]-p[0])/m),u=Math.ceil((a.we.upperBound[0]-p[0])/m);0>g&&(g=0);u>=r.length&&(u=r.length-1);for(var k=r[g],h=r[u],q=g;q<u;q++)r[q]<h&&(h=r[q]),r[q]>k&&(k=r[q]);if(a.we.lowerBound[1]>k)return!e&&0;k=0;for(q=g;q<u;q++)l.set(oa,q*m,r[q]),l.set(pa,(q+1)*m,r[q+1]),l.add(oa,oa,p),l.add(pa,pa,p),l.set(xa,
.5*(pa[0]+oa[0]),.5*(pa[1]+oa[1]-100)),l.sub(X.u[0],pa,xa),l.sub(X.u[1],oa,xa),l.O(X.u[2],X.u[1]),l.O(X.u[3],X.u[0]),X.u[2][1]-=100,X.u[3][1]-=100,k+=this.TF(a,c,b,d,f,X,xa,0,e);return k}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,
"../utils/Utils":57}],11:[function(b,g){function e(a){a=a||{};this.from=a.from?h.T(a.from[0],a.from[1]):h.create();this.Sd=a.Sd?h.T(a.Sd[0],a.Sd[1]):h.create();this.Dy=void 0===a.Dy||a.Dy;this.TJ=!!a.TJ;this.yf=void 0!==a.yf?a.yf:-1;this.zh=void 0!==a.zh?a.zh:-1;this.mode=void 0!==a.mode?a.mode:e.Bw;this.pc=a.pc||function(){};this.direction=h.create();this.length=1;this.update()}g.V=e;var h=b("../math/vec2");b("../collision/RaycastResult");b("../shapes/Shape");b("../collision/AABB");e.prototype.constructor=
e;e.xL=1;e.Bw=2;e.oC=4;e.prototype.update=function(){var a=this.direction;h.sub(a,this.Sd,this.from);this.length=h.length(a);h.normalize(a,a)};e.prototype.WR=function(a,b){for(var c=0,d=b.length;!a.gj(this)&&c<d;c++){var p=b[c],r=p.Cq();(0<=r.cU(this)||r.ju(this.from))&&this.XR(a,p)}};var k=h.create();e.prototype.XR=function(a,b){var c=this.Dy;if(!c||b.Eg)for(var d=0,p=b.wb.length;d<p;d++){var r=b.wb[d];if((!c||r.Eg)&&0!==(this.zh&r.yf)&&0!==(r.zh&this.yf)&&(h.rotate(k,r.position,b.angle),h.add(k,
k,b.position),this.YR(a,r,r.angle+b.angle,k,b),a.gj(this)))break}};e.prototype.YR=function(c,b,f,m,p){var d=this.from,e=this.direction;h.sub(l,m,d);(h.scale(a,e,h.Mb(l,e)),h.add(a,a,d),h.co(m,a))>b.be*b.be||(this.GD=p,this.HD=b,b.ej(c,this,m,f),this.GD=this.HD=null)};e.prototype.Cq=function(a){var c=this.Sd,b=this.from;h.set(a.lowerBound,Math.min(c[0],b[0]),Math.min(c[1],b[1]));h.set(a.upperBound,Math.max(c[0],b[0]),Math.max(c[1],b[1]))};h.create();e.prototype.Wg=function(a,b,f,m){var c=(this.from,
this.Sd,this.HD),d=this.GD;if(!(this.TJ&&0<h.Mb(f,this.direction)))switch(this.mode){case e.oC:a.set(f,c,d,b,m);this.pc(a);break;case e.xL:(b<a.sn||!a.eH())&&a.set(f,c,d,b,m);break;case e.Bw:a.set(f,c,d,b,m)}};var l=h.create(),a=h.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(b,g){function e(){this.tA=h.create();this.body=this.shape=null;this.sn=-1;this.Vz=!1}var h=b("../math/vec2"),k=b("../collision/Ray");g.V=e;e.prototype.reset=
function(){h.set(this.tA,0,0);this.body=this.shape=null;this.sn=-1;this.Vz=!1};e.prototype.eH=function(){return-1!==this.sn};e.prototype.jR=function(b,a){h.je(b,a.from,a.Sd,this.sn)};e.prototype.stop=function(){this.Vz=!0};e.prototype.gj=function(b){return this.Vz||-1!==this.sn&&b.mode===k.Bw};e.prototype.set=function(b,a,c,d){h.O(this.tA,b);this.shape=a;this.body=c;this.sn=d}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(b,g){function e(){k.call(this,k.AM);this.Jj=[];this.uy=0;var b=this;
this.wD=function(a){b.Jj.push(a.body)};this.jE=function(a){a=b.Jj.indexOf(a.body);-1!==a&&b.Jj.splice(a,1)}}var h=b("../utils/Utils"),k=b("../collision/Broadphase");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.RJ=function(b){this.Jj.length=0;h.Tp(this.Jj,b.Qa);b.Xq("addBody",this.wD).Xq("removeBody",this.jE);b.af("addBody",this.wD).af("removeBody",this.jE);this.g=b};e.sW=function(b,a){a|=0;for(var c=1,d=b.length;c<d;c++){for(var f=b[c],m=c-1;0<=m&&!(b[m].we.lowerBound[a]<=f.we.lowerBound[a]);m--)b[m+
1]=b[m];b[m+1]=f}};e.prototype.YJ=function(){e.sW(this.Jj,this.uy)};e.prototype.wz=function(){var b=this.Jj,a=this.result,c=this.uy;a.length=0;for(var d=b.length;d--;){var f=b[d];f.Gj&&f.Nr()}this.YJ();d=0;for(f=0|b.length;d!==f;d++)for(var m=b[d],p=d+1;p<f;p++){var r=b[p];if(!(r.we.lowerBound[c]<=m.we.upperBound[c]))break;k.lF(m,r)&&this.dF(m,r)&&a.push(m,r)}return a};e.prototype.zE=function(b,a,c){c=c||[];this.YJ();b=this.uy;var d="x";1===b&&(d="y");2===b&&(d="z");b=this.Jj;for(d=(a.lowerBound[d],
a.upperBound[d],0);d<b.length;d++){var f=b[d];f.Gj&&f.Nr();f.we.kr(a)&&c.push(f)}return c}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(b,g){function e(b,e,a,c){this.type=a;c=h.Sy(c,{Hy:!0,LX:!0});this.sa=[];this.aa=b;this.ca=e;this.Hy=c.Hy;c.LX&&(b&&b.dC(),e&&e.dC())}g.V=e;var h=b("../utils/Utils");e.prototype.update=function(){throw Error("method update() not implmemented in this Constraint subclass!");};e.EL=1;e.NL=2;e.eM=3;e.rM=4;e.vM=5},{"../utils/Utils":57}],15:[function(b,
g){function e(c,b,d){d=a.Sy(d,{td:[0,0],ud:[0,0]});h.call(this,c,b,h.EL,d);this.td=l.T(d.td[0],d.td[1]);this.ud=l.T(d.ud[0],d.ud[1]);var f=this.td,m=this.ud;if(this.fb=0,"number"==typeof d.fb)this.fb=d.fb;else{var p=l.create(),r=l.create(),e=l.create();l.rotate(p,f,c.angle);l.rotate(r,m,b.angle);l.add(e,b.position,r);l.sub(e,e,p);l.sub(e,e,c.position);this.fb=l.length(e)}d="undefined"==typeof d.hb?Number.MAX_VALUE:d.hb;c=new k(c,b,-d,d);this.sa=[c];this.hb=d;var e=l.create(),g=l.create(),x=l.create(),
A=this;c.Hg=function(){var a=this.aa,c=this.ca,b=a.position,d=c.position;return l.rotate(g,f,a.angle),l.rotate(x,m,c.angle),l.add(e,d,x),l.sub(e,e,g),l.sub(e,e,b),l.length(e)-A.fb};this.mB(d);this.mo=!1;this.lj=1;this.zn=!1;this.position=this.Ui=0}var h=b("./Constraint"),k=b("../equations/Equation"),l=b("../math/vec2"),a=b("../utils/Utils");g.V=e;e.prototype=new h;e.prototype.constructor=e;var c=l.create(),d=l.create(),f=l.create();e.prototype.update=function(){var a=this.sa[0],b=this.aa,r=this.ca,
e=(this.fb,b.position),g=r.position,k=this.sa[0],a=a.za;l.rotate(d,this.td,b.angle);l.rotate(f,this.ud,r.angle);l.add(c,g,f);l.sub(c,c,d);l.sub(c,c,e);this.position=l.length(c);b=!1;if(this.mo&&this.position>this.lj&&(k.hb=0,k.Hf=-this.hb,this.fb=this.lj,b=!0),this.zn&&this.position<this.Ui&&(k.hb=this.hb,k.Hf=0,this.fb=this.Ui,b=!0),(this.zn||this.mo)&&!b)return void(k.enabled=!1);k.enabled=!0;l.normalize(c,c);k=l.ec(d,c);b=l.ec(f,c);a[0]=-c[0];a[1]=-c[1];a[2]=-k;a[3]=c[0];a[4]=c[1];a[5]=b};e.prototype.mB=
function(a){var c=this.sa[0];c.Hf=-a;c.hb=a}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(b,g){function e(b,a,c){c=c||{};h.call(this,b,a,h.NL,c);this.ratio=void 0!==c.ratio?c.ratio:1;this.angle=void 0!==c.angle?c.angle:a.angle-this.ratio*b.angle;c.angle=this.angle;c.ratio=this.ratio;this.sa=[new k(b,a,c)];void 0!==c.CS&&this.nB(c.CS)}var h=b("./Constraint"),k=(b("../equations/Equation"),b("../equations/AngleLockEquation"));b("../math/vec2");g.V=
e;e.prototype=new h;e.prototype.constructor=e;e.prototype.update=function(){var b=this.sa[0];b.ratio!==this.ratio&&b.PJ(this.ratio);b.angle=this.angle};e.prototype.nB=function(b){this.sa[0].nB(b)}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(b,g){function e(a,c,b){b=b||{};h.call(this,a,c,h.eM,b);var d="undefined"==typeof b.hb?Number.MAX_VALUE:b.hb,f=(b.bk||0,new l(a,c,-d,d)),m=new l(a,c,-d,d),p=new l(a,c,-d,d),e=k.create(),r=k.create(),
g=this;f.Hg=function(){return k.rotate(e,g.fg,a.angle),k.sub(r,c.position,a.position),k.sub(r,r,e),r[0]};m.Hg=function(){return k.rotate(e,g.fg,a.angle),k.sub(r,c.position,a.position),k.sub(r,r,e),r[1]};var u=k.create(),z=k.create();p.Hg=function(){return k.rotate(u,g.fg,c.angle-g.bk),k.scale(u,u,-1),k.sub(r,a.position,c.position),k.add(r,r,u),k.rotate(z,u,-Math.PI/2),k.normalize(z,z),k.Mb(r,z)};this.fg=k.create();b.fg?k.O(this.fg,b.fg):(k.sub(this.fg,c.position,a.position),k.rotate(this.fg,this.fg,
-a.angle));this.bk=0;"number"==typeof b.bk?this.bk=b.bk:this.bk=c.angle-a.angle;this.sa.push(f,m,p);this.mB(d)}var h=b("./Constraint"),k=b("../math/vec2"),l=b("../equations/Equation");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.mB=function(a){for(var c=this.sa,b=0;b<this.sa.length;b++)c[b].hb=a,c[b].Hf=-a};var a=k.create(),c=k.create(),d=k.create(),f=k.T(1,0),m=k.T(0,1);e.prototype.update=function(){var b=this.sa[0],r=this.sa[1],e=this.sa[2],g=this.ca;k.rotate(a,this.fg,this.aa.angle);
k.rotate(c,this.fg,g.angle-this.bk);k.scale(c,c,-1);k.rotate(d,c,Math.PI/2);k.normalize(d,d);b.za[0]=-1;b.za[1]=0;b.za[2]=-k.ec(a,f);b.za[3]=1;r.za[0]=0;r.za[1]=-1;r.za[2]=-k.ec(a,m);r.za[4]=1;e.za[0]=-d[0];e.za[1]=-d[1];e.za[3]=d[0];e.za[4]=d[1];e.za[5]=k.ec(c,d)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(b,g){function e(b,d,f){f=f||{};h.call(this,b,d,h.rM,f);var m=a.T(0,0),p=a.T(1,0),e=a.T(0,0);f.td&&a.O(m,f.td);f.cv&&a.O(p,f.cv);f.ud&&a.O(e,f.ud);this.td=m;
this.ud=e;this.cv=p;var r=this.hb="undefined"!=typeof f.hb?f.hb:Number.MAX_VALUE,g=new l(b,d,-r,r),u=new a.create,q=new a.create,w=new a.create,t=new a.create;(g.Hg=function(){return a.Mb(w,t)},g.nX=function(){var c=this.za,f=b.position,r=d.position;a.rotate(u,m,b.angle);a.rotate(q,e,d.angle);a.add(w,r,q);a.sub(w,w,f);a.sub(w,w,u);a.rotate(t,p,b.angle+Math.PI/2);c[0]=-t[0];c[1]=-t[1];c[2]=-a.ec(u,t)+a.ec(t,w);c[3]=t[0];c[4]=t[1];c[5]=a.ec(q,t)},this.sa.push(g),f.iQ)||(g=new c(b,d,-r,r),this.sa.push(g));
this.i=this.position=0;this.zn="undefined"!=typeof f.Ui;this.mo="undefined"!=typeof f.lj;this.Ui="undefined"!=typeof f.Ui?f.Ui:0;this.lj="undefined"!=typeof f.lj?f.lj:1;this.no=new k(b,d);this.An=new k(b,d);this.no.Hf=this.An.Hf=0;this.no.hb=this.An.hb=r;this.lA=new l(b,d);this.bI=!1;this.KS=0;var I=this;f=this.lA;f.ol;f.Hg=function(){return 0};f.ol=function(){var a=this.aa,c=this.ca;return this.Fq(this.za,a.i,a.Pa,c.i,c.Pa)+I.KS}}var h=b("./Constraint"),k=b("../equations/ContactEquation"),l=b("../equations/Equation"),
a=b("../math/vec2"),c=b("../equations/RotationalLockEquation");g.V=e;e.prototype=new h;e.prototype.constructor=e;var d=a.create(),f=a.create(),m=a.create(),p=a.create(),r=a.create(),u=a.create();e.prototype.update=function(){var c=this.sa,b=this.lj,e=this.Ui,g=this.no,k=this.An,h=this.aa,l=this.ca,B=this.cv,z=this.td,D=this.ud;c[0].nX();a.rotate(d,B,h.angle);a.rotate(p,z,h.angle);a.add(f,p,h.position);a.rotate(r,D,l.angle);a.add(m,r,l.position);B=this.position=a.Mb(m,d)-a.Mb(f,d);this.bI&&(z=this.lA.za,
z[0]=d[0],z[1]=d[1],z[2]=a.ec(d,r),z[3]=-d[0],z[4]=-d[1],z[5]=-a.ec(d,p));this.mo&&B>b?(a.scale(g.fa,d,-1),a.sub(g.J,f,h.position),a.sub(g.M,m,l.position),a.scale(u,d,b),a.add(g.J,g.J,u),-1===c.indexOf(g)&&c.push(g)):(b=c.indexOf(g),-1!==b&&c.splice(b,1));this.zn&&B<e?(a.scale(k.fa,d,1),a.sub(k.J,f,h.position),a.sub(k.M,m,l.position),a.scale(u,d,e),a.sub(k.M,k.M,u),-1===c.indexOf(k)&&c.push(k)):(b=c.indexOf(k),-1!==b&&c.splice(b,1))}},{"../equations/ContactEquation":21,"../equations/Equation":22,
"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(b,g){function e(b,e,g){g=g||{};h.call(this,b,e,h.vM,g);var u=this.hb="undefined"!=typeof g.hb?g.hb:Number.MAX_VALUE;this.Jl=c.create();this.Kl=c.create();g.gC?(c.sub(this.Jl,g.gC,b.position),c.sub(this.Kl,g.gC,e.position),c.rotate(this.Jl,this.Jl,-b.angle),c.rotate(this.Kl,this.Kl,-e.angle)):(c.O(this.Jl,g.uS),c.O(this.Kl,g.vS));var q=this.sa=[new k(b,e,-u,u),new k(b,e,-u,u)];g=q[0];var q=q[1],w=this;g.Hg=
function(){return c.rotate(d,w.Jl,b.angle),c.rotate(f,w.Kl,e.angle),c.add(r,e.position,f),c.sub(r,r,b.position),c.sub(r,r,d),c.Mb(r,m)};q.Hg=function(){return c.rotate(d,w.Jl,b.angle),c.rotate(f,w.Kl,e.angle),c.add(r,e.position,f),c.sub(r,r,b.position),c.sub(r,r,d),c.Mb(r,p)};q.Hf=g.Hf=-u;q.hb=g.hb=u;this.lA=new l(b,e);this.bI=!1;this.angle=0;this.mo=this.zn=!1;this.lj=this.Ui=0;this.no=new a(b,e);this.An=new a(b,e);this.no.Hf=0;this.An.hb=0}var h=b("./Constraint"),k=b("../equations/Equation"),l=
b("../equations/RotationalVelocityEquation"),a=b("../equations/RotationalLockEquation"),c=b("../math/vec2");g.V=e;var d=c.create(),f=c.create(),m=c.T(1,0),p=c.T(0,1),r=c.create();e.prototype=new h;e.prototype.constructor=e;e.prototype.update=function(){var a=this.aa,b=this.ca,e=this.Jl,r=this.Kl,g=this.sa,k=(g[0],g[1],g[0]),h=g[1],l=this.lj,B=this.Ui,z=this.no,D=this.An,E=this.angle=b.angle-a.angle;this.mo&&E>l?(z.angle=l,-1===g.indexOf(z)&&g.push(z)):(l=g.indexOf(z),-1!==l&&g.splice(l,1));this.zn&&
E<B?(D.angle=B,-1===g.indexOf(D)&&g.push(D)):(l=g.indexOf(D),-1!==l&&g.splice(l,1));c.rotate(d,e,a.angle);c.rotate(f,r,b.angle);k.za[0]=-1;k.za[1]=0;k.za[2]=-c.ec(d,m);k.za[3]=1;k.za[4]=0;k.za[5]=c.ec(f,m);h.za[0]=0;h.za[1]=-1;h.za[2]=-c.ec(d,p);h.za[3]=0;h.za[4]=1;h.za[5]=c.ec(f,p)}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(b,g){function e(b,e,a){a=a||{};h.call(this,b,e,-Number.MAX_VALUE,
Number.MAX_VALUE);this.angle=a.angle||0;this.ratio="number"==typeof a.ratio?a.ratio:1;this.PJ(this.ratio)}var h=b("./Equation");b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.Hg=function(){return this.ratio*this.aa.angle-this.ca.angle+this.angle};e.prototype.PJ=function(b){var e=this.za;e[2]=b;e[5]=-1;this.ratio=b};e.prototype.nB=function(b){this.hb=b;this.Hf=-b}},{"../math/vec2":30,"./Equation":22}],21:[function(b,g){function e(b,a){h.call(this,b,a,0,Number.MAX_VALUE);
this.J=k.create();this.nU=k.create();this.M=k.create();this.fa=k.create();this.jg=0;this.lz=!1;this.Ec=this.Dc=null}var h=b("./Equation"),k=b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.gu=function(b,a,c){var d=this.J,f=this.M,m=this.aa.position,p=this.ca.position,e=this.nU,g=this.fa,h=this.za,l=k.ec(d,g),t=k.ec(f,g);h[0]=-g[0];h[1]=-g[1];h[2]=-l;h[3]=g[0];h[4]=g[1];h[5]=t;k.add(e,p,f);k.sub(e,e,m);k.sub(e,e,d);var y,v;this.lz&&0!==this.jg?(v=0,y=1/a*(1+this.jg)*
this.ol()):(v=k.Mb(g,e)+this.offset,y=this.ol());d=this.hu();return-v*b-y*a-c*d}},{"../math/vec2":30,"./Equation":22}],22:[function(b,g){function e(a,c,b,d){this.Hf="undefined"==typeof b?-Number.MAX_VALUE:b;this.hb="undefined"==typeof d?Number.MAX_VALUE:d;this.aa=a;this.ca=c;this.Qd=e.Io;this.ci=e.Ho;this.za=new k.Mf(6);for(a=0;6>a;a++)this.za[a]=0;this.xu=this.L=this.R=this.offset=0;this.PB=1/60;this.fk=!0;this.UA=this.Dn=0;this.enabled=!0}g.V=e;var h=b("../math/vec2"),k=b("../utils/Utils");b("../objects/Body");
e.prototype.constructor=e;e.Io=1E6;e.Ho=4;e.prototype.update=function(){var a=this.Qd,c=this.ci,b=this.PB;this.R=4/(b*(1+4*c));this.L=4*c/(1+4*c);this.xu=4/(b*b*a*(1+4*c));this.fk=!1};e.prototype.Fq=function(a,c,b,d,f){return a[0]*c[0]+a[1]*c[1]+a[2]*b+a[3]*d[0]+a[4]*d[1]+a[5]*f};e.prototype.gu=function(a,c,b){var d=this.ol(),f=this.Hg(),m=this.hu();return-f*a-d*c-m*b};var l=h.create(),a=h.create();e.prototype.Hg=function(){var c=this.za,b=this.aa,d=this.ca,b=(b.position,d.position,b.angle);return this.Fq(c,
l,b,a,d.angle)+this.offset};e.prototype.ol=function(){var a=this.aa,c=this.ca;return this.Fq(this.za,a.i,a.Pa,c.i,c.Pa)+this.UA};e.prototype.JP=function(){var a=this.aa,c=this.ca;return this.Fq(this.za,a.Dk,a.Ek,c.Dk,c.Ek)};var c=h.create(),d=h.create();e.prototype.hu=function(){var a=this.aa,b=this.ca,f=a.pd,m=b.force,p=b.pd,e=b.Yj,g=a.Xj,k=b.Xj,l=this.za;return h.scale(c,a.force,a.Yj),h.multiply(c,a.Uh,c),h.scale(d,m,e),h.multiply(d,b.Uh,d),this.Fq(l,c,f*g,d,p*k)};e.prototype.KP=function(){var a=
this.aa,c=this.ca,b=a.Yj,d=c.Yj,f=this.za;return f[0]*f[0]*b*a.Uh[0]+f[1]*f[1]*b*a.Uh[1]+f[2]*f[2]*a.Xj+f[3]*f[3]*d*c.Uh[0]+f[4]*f[4]*d*c.Uh[1]+f[5]*f[5]*c.Xj};var f=h.create(),m=h.create(),p=h.create();h.create();h.create();h.create();e.prototype.VN=function(a){var c=this.aa,b=this.ca,d=c.Yj,e=b.Yj,r=c.Xj,g=b.Xj,k=this.za;m[0]=k[0];m[1]=k[1];p[0]=k[3];p[1]=k[4];h.scale(f,m,d*a);h.multiply(f,f,c.Uh);h.add(c.Dk,c.Dk,f);c.Ek+=r*k[2]*a;h.scale(f,p,e*a);h.multiply(f,f,b.Uh);h.add(b.Dk,b.Dk,f);b.Ek+=g*
k[5]*a};e.prototype.LP=function(a){return 1/(this.KP()+a)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(b,g){function e(b,a,c){k.call(this,b,a,-c,c);this.J=h.create();this.M=h.create();this.t=h.create();this.ua=[];this.Ec=this.Dc=null;this.yq=.3}var h=b("../math/vec2"),k=b("./Equation");b("../utils/Utils");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.Yv=function(b){this.hb=b;this.Hf=-b};e.prototype.gu=function(b,a,c){b=(this.aa,this.ca,this.J);var d=
this.M,f=this.t,m=this.za;m[0]=-f[0];m[1]=-f[1];m[2]=-h.ec(b,f);m[3]=f[0];m[4]=f[1];m[5]=h.ec(d,f);b=this.ol();d=this.hu();return-b*a-c*d}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(b,g){function e(a,c,b){b=b||{};h.call(this,a,c,-Number.MAX_VALUE,Number.MAX_VALUE);this.angle=b.angle||0;a=this.za;a[2]=1;a[5]=-1}var h=b("./Equation"),k=b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;var l=k.create(),a=k.create(),c=k.T(1,0),d=k.T(0,1);e.prototype.Hg=function(){return k.rotate(l,
c,this.aa.angle+this.angle),k.rotate(a,d,this.ca.angle),k.Mb(l,a)}},{"../math/vec2":30,"./Equation":22}],25:[function(b,g){function e(b,e){h.call(this,b,e,-Number.MAX_VALUE,Number.MAX_VALUE);this.ratio=this.UA=1}var h=b("./Equation");b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.gu=function(b,e,a){b=this.za;b[2]=-1;b[5]=this.ratio;b=this.hu();return-this.ol()*e-a*b}},{"../math/vec2":30,"./Equation":22}],26:[function(b,g){function e(){}g.V=e;e.prototype={constructor:e,
af:function(b,e,g){e.context=g||this;void 0===this.Aj&&(this.Aj={});g=this.Aj;return void 0===g[b]&&(g[b]=[]),-1===g[b].indexOf(e)&&g[b].push(e),this},has:function(b,e){if(void 0===this.Aj)return!1;var g=this.Aj;if(e){if(void 0!==g[b]&&-1!==g[b].indexOf(e))return!0}else if(void 0!==g[b])return!0;return!1},Xq:function(b,e){if(void 0===this.Aj)return this;var g=this.Aj,a=g[b].indexOf(e);return-1!==a&&g[b].splice(a,1),this},Ih:function(b){if(void 0===this.Aj)return this;var e=this.Aj[b.type];if(void 0!==
e){b.target=this;for(var g=0,a=e.length;g<a;g++){var c=e[g];c.call(c.context,b)}}return this}}},{}],27:[function(b,g){function e(b,a,c){if(c=c||{},!(b instanceof h&&a instanceof h))throw Error("First two arguments must be Material instances.");this.id=e.Jq++;this.OH=b;this.PH=a;this.ag="undefined"!=typeof c.ag?Number(c.ag):.3;this.jg="undefined"!=typeof c.jg?Number(c.jg):0;this.Qd="undefined"!=typeof c.Qd?Number(c.Qd):k.Io;this.ci="undefined"!=typeof c.ci?Number(c.ci):k.Ho;this.un="undefined"!=typeof c.un?
Number(c.un):k.Io;this.tn="undefined"!=typeof c.tn?Number(c.tn):k.Ho;this.eo="undefined"!=typeof c.eo?Number(c.eo):0;this.iu=.005}var h=b("./Material"),k=b("../equations/Equation");g.V=e;e.Jq=0},{"../equations/Equation":22,"./Material":28}],28:[function(b,g){function e(b){this.id=b||e.Jq++}g.V=e;e.Jq=0},{}],29:[function(b,g){var e={yZ:function(b){if(6>b.length)return 0;for(var e=b.length-2,g=0,a=0;a<e;a+=2)g+=(b[a+2]-b[a])*(b[a+1]+b[a+3]);return g+=(b[0]-b[e])*(b[e+1]+b[1]),.5*-g},Qs:function(b){var g=
b.length>>1;if(3>g)return[];for(var h=[],a=[],c=0;c<g;c++)a.push(c);for(c=0;3<g;){var d=a[(c+0)%g],f=a[(c+1)%g],m=a[(c+2)%g],p=b[2*d],r=b[2*d+1],u=b[2*f],w=b[2*f+1],q=b[2*m],t=b[2*m+1],y=!1;if(e.SM(p,r,u,w,q,t))for(var y=!0,v=0;v<g;v++){var x=a[v];if(x!=d&&x!=f&&x!=m&&e.OM(b[2*x],b[2*x+1],p,r,u,w,q,t)){y=!1;break}}if(y)h.push(d,f,m),a.splice((c+1)%g,1),g--,c=0;else if(c++>3*g)break}return h.push(a[0],a[1],a[2]),h},OM:function(b,e,g,a,c,d,f,m){f-=g;m-=a;c-=g;d-=a;b-=g;g=e-a;e=f*f+m*m;a=f*c+m*d;f=f*
b+m*g;m=c*c+d*d;c=c*b+d*g;d=1/(e*m-a*a);m=(m*f-a*c)*d;f=(e*c-a*f)*d;return 0<=m&&0<=f&&1>m+f},SM:function(b,e,g,a,c,d){return 0<=(e-a)*(c-g)+(g-b)*(d-a)}};g.V=e},{}],30:[function(b,g){var e=g.V={},h=b("../utils/Utils");e.ec=function(b,e){return b[0]*e[1]-b[1]*e[0]};e.k2=function(b,g,a){return e.rotate(b,g,-Math.PI/2),e.scale(b,b,a),b};e.XF=function(b,g,a){e.rotate(b,a,Math.PI/2);e.scale(b,b,g)};e.rotate=function(b,e,a){if(0!==a){var c=Math.cos(a);a=Math.sin(a);var d=e[0];e=e[1];b[0]=c*d-a*e;b[1]=
a*d+c*e}else b[0]=e[0],b[1]=e[1]};e.Xg=function(b,e){var a=e[0];b[0]=e[1];b[1]=-a};e.gi=function(b,g,a,c){e.O(b,g);e.sub(b,b,a);e.rotate(b,b,-c)};e.io=function(b,g,a,c){e.O(b,g);e.rotate(b,b,c);e.add(b,b,a)};e.TK=function(b,g,a){e.rotate(b,g,-a)};e.IX=function(b,g,a){e.rotate(b,g,a)};e.qF=function(b,g,a,c){return e.add(b,g,a),e.add(b,b,c),e.scale(b,b,1/3),b};e.create=function(){var b=new h.Mf(2);return b[0]=0,b[1]=0,b};e.clone=function(b){var e=new h.Mf(2);return e[0]=b[0],e[1]=b[1],e};e.T=function(b,
e){var a=new h.Mf(2);return a[0]=b,a[1]=e,a};e.O=function(b,e){return b[0]=e[0],b[1]=e[1],b};e.set=function(b,e,a){return b[0]=e,b[1]=a,b};e.add=function(b,e,a){return b[0]=e[0]+a[0],b[1]=e[1]+a[1],b};e.lw=function(b,e,a){return b[0]=e[0]-a[0],b[1]=e[1]-a[1],b};e.sub=e.lw;e.multiply=function(b,e,a){return b[0]=e[0]*a[0],b[1]=e[1]*a[1],b};e.Z3=e.multiply;e.ru=function(b,e,a){return b[0]=e[0]/a[0],b[1]=e[1]/a[1],b};e.t2=e.ru;e.scale=function(b,e,a){return b[0]=e[0]*a,b[1]=e[1]*a,b};e.fb=function(b,
e){var a=e[0]-b[0],c=e[1]-b[1];return Math.sqrt(a*a+c*c)};e.q2=e.fb;e.co=function(b,e){var a=e[0]-b[0],c=e[1]-b[1];return a*a+c*c};e.o5=e.co;e.length=function(b){var e=b[0];b=b[1];return Math.sqrt(e*e+b*b)};e.mS=e.length;e.ff=function(b){var e=b[0];b=b[1];return e*e+b*b};e.p5=e.ff;e.c4=function(b,e){return b[0]=-e[0],b[1]=-e[1],b};e.normalize=function(b,e){var a=e[0],c=e[1],a=a*a+c*c;return 0<a&&(a=1/Math.sqrt(a),b[0]=e[0]*a,b[1]=e[1]*a),b};e.Mb=function(b,e){return b[0]*e[0]+b[1]*e[1]};e.s5=function(b){return"vec2("+
b[0]+", "+b[1]+")"};e.je=function(b,e,a,c){var d=e[0];e=e[1];return b[0]=d+c*(a[0]-d),b[1]=e+c*(a[1]-e),b};e.TA=function(b,e,a){var c=e[0]*a[0]+e[1]*a[1];b[0]=e[0]-2*a[0]*c;b[1]=e[1]-2*a[1]*c};e.R2=function(b,g,a,c,d){c=e.Dq(g,a,c,d);return!(0>c)&&(b[0]=g[0]+c*(a[0]-g[0]),b[1]=g[1]+c*(a[1]-g[1]),!0)};e.Dq=function(b,e,a,c){var d,f,m=e[0]-b[0];e=e[1]-b[1];var p=c[0]-a[0];c=c[1]-a[1];return d=(-e*(b[0]-a[0])+m*(b[1]-a[1]))/(-p*e+m*c),f=(p*(b[1]-a[1])-c*(b[0]-a[0]))/(-p*e+m*c),0<=d&&1>=d&&0<=f&&1>=f?
f:-1}},{"../utils/Utils":57}],31:[function(b,g){function e(b){b=b||{};c.call(this);this.id=b.id||++e.$M;this.g=null;this.wb=[];this.wa=b.wa||0;this.Xj=this.Yj=this.Oq=this.Nq=this.Wu=0;this.Ni=!!b.Ni;this.xG=!!b.xG;this.yG=!!b.yG;this.Uh=h.create();this.position=h.T(0,0);b.position&&h.O(this.position,b.position);this.TR=h.T(0,0);this.SR=0;this.cj=h.T(0,0);this.PA=0;this.i=h.T(0,0);b.i&&h.O(this.i,b.i);this.Dk=h.T(0,0);this.Ek=0;this.angle=b.angle||0;this.Pa=b.Pa||0;this.force=h.create();b.force&&
h.O(this.force,b.force);this.pd=b.pd||0;this.zf="number"==typeof b.zf?b.zf:.1;this.Vm="number"==typeof b.Vm?b.Vm:.1;this.type=e.hd;"undefined"!=typeof b.type?this.type=b.type:b.wa?this.type=e.te:this.type=e.hd;this.be=0;this.we=new a;this.Gj=!0;this.Hj=void 0===b.Hj||b.Hj;this.Vr=!1;this.le=e.im;this.Sl=void 0!==b.Sl?b.Sl:.2;this.yB=void 0!==b.yB?b.yB:1;this.Gz=void 0!==b.Gz?b.Gz:1;this.Eg=void 0===b.Eg||b.Eg;this.Lq=0;this.bu=void 0!==b.bu?b.bu:-1;this.Cy=void 0!==b.Cy?b.Cy:10;this.It=!1;this.YB()}
var h=b("../math/vec2");b("poly-decomp");b("../shapes/Convex");var k=b("../collision/RaycastResult"),l=b("../collision/Ray"),a=b("../collision/AABB"),c=b("../events/EventEmitter");g.V=e;e.prototype=new c;e.prototype.constructor=e;e.$M=0;e.prototype.wX=function(){this.le===e.lh||this.type===e.ih?(this.Yj=0,this.Xj=0):(this.Yj=this.Wu,this.Xj=this.Oq)};e.prototype.Cq=function(){return this.Gj&&this.Nr(),this.we};var d=new a,f=h.create();e.prototype.Nr=function(){for(var a=this.wb,c=a.length,b=this.angle,
m=0;m!==c;m++){var p=a[m],e=p.angle+b;h.rotate(f,p.position,b);h.add(f,f,this.position);p.Gi(d,f,e);0===m?this.we.O(d):this.we.extend(d)}this.Gj=!1};e.prototype.mg=function(){for(var a=this.wb,c=a.length,b=0,d=0;d!==c;d++){var f=a[d],m=h.length(f.position),f=f.be;m+f>b&&(b=m+f)}this.be=b};e.prototype.Pp=function(a,c,b){if(a.body)throw Error("A shape can only be added to one body.");a.body=this;c?h.O(a.position,c):h.set(a.position,0,0);a.angle=b||0;this.wb.push(a);this.YB();this.mg();this.Gj=!0};e.prototype.XA=
function(a){var c=this.wb.indexOf(a);return-1!==c&&(this.wb.splice(c,1),this.Gj=!0,a.body=null,!0)};e.prototype.YB=function(){if(this.type===e.hd||this.type===e.ih)this.wa=Number.MAX_VALUE,this.Wu=0,this.Nq=Number.MAX_VALUE,this.Oq=0;else{var a=this.wb,c=a.length,b=this.wa/c,d=0;if(this.Ni)this.Nq=Number.MAX_VALUE,this.Oq=0;else{for(var f=0;f<c;f++)var m=a[f],d=d+(m.Hi(b)+b*h.ff(m.position));this.Nq=d;this.Oq=0<d?1/d:0}this.Wu=1/this.wa;h.set(this.Uh,this.xG?0:1,this.yG?0:1)}};h.create();e.prototype.el=
function(a,c){if(h.add(this.force,this.force,a),c)this.pd+=h.ec(c,a)};h.create();h.create();h.create();h.create();h.create();h.create();h.create();e.prototype.gi=function(a,c){h.gi(a,c,this.position,this.angle)};e.prototype.cm=function(a,c){h.io(a,c,this.position,this.angle)};e.prototype.TK=function(a,c){h.TK(a,c,this.angle)};e.prototype.bC=function(a,c){h.IX(a,c,this.angle)};h.T(0,0);h.T(0,0);h.T(0,0);h.T(0,0);e.prototype.aw=function(){h.set(this.force,0,0);this.pd=0};e.prototype.xJ=function(){h.set(this.Dk,
0,0);this.Ek=0};e.prototype.KN=function(){var a=this.i;h.add(a,a,this.Dk);this.Pa+=this.Ek};e.prototype.dl=function(a){if(this.type===e.te){var c=this.i;h.scale(c,c,Math.pow(1-this.zf,a));this.Pa*=Math.pow(1-this.Vm,a)}};e.prototype.dC=function(){var a=this.le;this.le=e.im;this.Lq=0;a!==e.im&&this.Ih(e.MX)};e.prototype.dw=function(){this.le=e.lh;this.pd=this.Pa=0;h.set(this.i,0,0);h.set(this.force,0,0);this.Ih(e.pW)};e.prototype.UJ=function(a,c){this.Hj&&this.type!==e.lh&&(this.Vr=!1,(this.le,h.ff(this.i)+
Math.pow(this.Pa,2))>=Math.pow(this.Sl,2)?(this.Lq=0,this.le=e.im):(this.Lq+=c,this.le=e.CM),this.Lq>this.yB&&(a?this.Vr=!0:this.dw()))};e.prototype.kr=function(a){return this.g.gr.IO(this,a)};var m=h.create(),p=h.create();e.prototype.PR=function(a){var c=this.Wu,b=this.force,d=this.position,f=this.i;h.O(this.cj,this.position);this.PA=this.angle;this.Ni||(this.Pa+=this.pd*this.Oq*a);h.scale(m,b,a*c);h.multiply(m,this.Uh,m);h.add(f,m,f);this.QR(a)||(h.scale(p,f,a),h.add(d,d,p),this.Ni||(this.angle+=
this.Pa*a));this.Gj=!0};var r=new k,u=new l({mode:l.oC}),w=h.create(),q=h.create(),t=h.create(),y=h.create();e.prototype.QR=function(a){if(0>this.bu||h.ff(this.i)<Math.pow(this.bu,2))return!1;h.normalize(w,this.i);h.scale(q,this.i,a);h.add(q,q,this.position);h.sub(t,q,this.position);var c;a*=this.Pa;var b=h.length(t),d=1,f=this;if(r.reset(),u.pc=function(a){a.body!==f&&(c=a.body,a.jR(q,u),h.sub(t,q,f.position),d=h.length(t)/b,a.stop())},h.O(u.from,this.position),h.O(u.Sd,q),u.update(),this.g.ej(r,
u),!c)return!1;var m=this.angle;h.O(y,this.position);for(var e=0,g=0,k=0,l=d;l>=g&&e<this.Cy;)e++,k=(l-g)/2,h.scale(p,t,d),h.add(this.position,y,p),this.angle=m+a*d,this.Nr(),this.we.kr(c.we)&&this.g.qA.JO(this,c)?g=k:l=k;return d=k,h.O(this.position,y),this.angle=m,h.scale(p,t,d),h.add(this.position,this.position,p),this.Ni||(this.angle+=a*d),!0};e.i5={type:"sleepy"};e.pW={type:"sleep"};e.MX={type:"wakeup"};e.te=1;e.hd=2;e.ih=4;e.im=0;e.CM=1;e.lh=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,
"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(b,g){function e(a,c,b){b=b||{};k.call(this,a,c,b);this.td=h.T(0,0);this.ud=h.T(0,0);b.td&&h.O(this.td,b.td);b.ud&&h.O(this.ud,b.ud);b.dL&&this.eW(b.dL);b.eL&&this.fW(b.eL);a=h.create();c=h.create();this.bH(a);this.cH(c);a=h.fb(a,c);this.Sv="number"==typeof b.Sv?b.Sv:a}var h=b("../math/vec2"),k=b("./Spring");b("../utils/Utils");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.eW=function(a){this.aa.gi(this.td,
a)};e.prototype.fW=function(a){this.ca.gi(this.ud,a)};e.prototype.bH=function(a){this.aa.cm(a,this.td)};e.prototype.cH=function(a){this.ca.cm(a,this.ud)};var l=h.create(),a=h.create(),c=h.create(),d=h.create(),f=h.create(),m=h.create(),p=h.create(),r=h.create(),u=h.create();e.prototype.el=function(){var b=this.Qd,e=this.zf,g=this.Sv,k=this.aa,v=this.ca;this.bH(f);this.cH(m);h.sub(p,f,k.position);h.sub(r,m,v.position);h.sub(l,m,f);var x=h.mS(l);h.normalize(a,l);h.sub(c,v.i,k.i);h.XF(u,v.Pa,r);h.add(c,
c,u);h.XF(u,k.Pa,p);h.sub(c,c,u);h.scale(d,a,-b*(x-g)-e*h.Mb(c,a));h.sub(k.force,k.force,d);h.add(v.force,v.force,d);b=h.ec(r,d);k.pd-=h.ec(p,d);v.pd+=b}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(b,g){function e(b,e,a){a=a||{};h.call(this,b,e,a);this.Rv="number"==typeof a.Rv?a.Rv:e.angle-b.angle}var h=(b("../math/vec2"),b("./Spring"));g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.el=function(){var b=this.aa,e=this.ca,a=-this.Qd*(e.angle-b.angle-this.Rv)-
this.zf*(e.Pa-b.Pa)*0;b.pd-=a;e.pd+=a}},{"../math/vec2":30,"./Spring":34}],34:[function(b,g){function e(b,e,a){a=h.Sy(a,{Qd:100,zf:1});this.Qd=a.Qd;this.zf=a.zf;this.aa=b;this.ca=e}var h=(b("../math/vec2"),b("../utils/Utils"));g.V=e;e.prototype.el=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(b,g){function e(a){this.Lj=a;this.ro=[];this.Gq=new c({wa:0});this.g=null;var b=this;this.dJ=function(){b.update()}}function h(c,b){b=b||{};this.Ur=c;this.Jg=new a(c.Lj,c.Gq);this.hj=new a(c.Lj,
c.Gq);this.AQ=this.aK=0;this.ZV(void 0!==b.mW?b.mW:5);this.Rq=k.T(0,1);b.Rq&&k.O(this.Rq,b.Rq);this.Sq=k.T(0,0);b.Sq&&k.O(this.Sq,b.Sq);l.apply(this,c.Lj,c.Gq);this.sa.push(this.Jg,this.hj);this.PV()}var k=b("../math/vec2"),l=(b("../utils/Utils"),b("../constraints/Constraint")),a=b("../equations/FrictionEquation"),c=b("../objects/Body");g.V=e;e.prototype.Qp=function(a){this.g=a;a.Tm(this.Gq);a.af("preStep",this.dJ);for(var c=0;c<this.ro.length;c++)a.iy(this.ro[c])};e.prototype.Ov=function(){var a=
this.g;a.pk(this.Gq);a.Xq("preStep",this.dJ);for(var c=0;c<this.ro.length;c++)a.sr(this.ro[c]);this.g=null};e.prototype.update=function(){for(var a=0;a<this.ro.length;a++)this.ro[a].update()};h.prototype=new l;h.prototype.PV=function(){this.Jg.Yv(0)};h.prototype.ZV=function(a){this.hj.Yv(a)};k.create();k.create();var d=k.create();h.prototype.update=function(){this.Ur.Lj.bC(this.Jg.t,this.Rq);k.rotate(this.hj.t,this.Rq,Math.PI/2);this.Ur.Lj.bC(this.hj.t,this.hj.t);k.rotate(this.Jg.t,this.Jg.t,this.aK);
k.rotate(this.hj.t,this.hj.t,this.aK);this.Ur.Lj.cm(this.Jg.M,this.Sq);k.O(this.hj.M,this.Jg.M);this.Ur.Lj.bC(this.Jg.J,this.Sq);k.O(this.hj.J,this.Jg.J);k.normalize(d,this.Jg.t);k.scale(d,d,this.AQ);this.Ur.Lj.el(d,this.Jg.J)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(b,g){var e=g.V={Aw:b("./collision/AABB"),nY:b("./equations/AngleLockEquation"),Body:b("./objects/Body"),GY:b("./collision/Broadphase"),
zL:b("./shapes/Capsule"),ob:b("./shapes/Circle"),RY:b("./constraints/Constraint"),SY:b("./equations/ContactEquation"),TY:b("./utils/ContactEquationPool"),km:b("./material/ContactMaterial"),CL:b("./shapes/Convex"),mm:b("./constraints/DistanceConstraint"),bZ:b("./equations/Equation"),cZ:b("./events/EventEmitter"),vZ:b("./equations/FrictionEquation"),wZ:b("./utils/FrictionEquationPool"),nm:b("./constraints/GearConstraint"),xZ:b("./solver/GSSolver"),GZ:b("./shapes/Heightfield"),sb:b("./shapes/Line"),
om:b("./constraints/LockConstraint"),pm:b("./material/Material"),p_:b("./collision/Narrowphase"),o_:b("./collision/NaiveBroadphase"),sj:b("./shapes/Particle"),YC:b("./shapes/Plane"),$_:b("./utils/Pool"),tm:b("./constraints/RevoluteConstraint"),sm:b("./constraints/PrismaticConstraint"),n0:b("./collision/Ray"),o0:b("./collision/RaycastResult"),Gw:b("./shapes/Box"),p0:b("./equations/RotationalVelocityEquation"),gD:b("./collision/SAPBroadphase"),A0:b("./shapes/Shape"),C0:b("./solver/Solver"),Lk:b("./objects/Spring"),
T0:b("./objects/TopDownVehicle"),fM:b("./objects/LinearSpring"),dx:b("./objects/RotationalSpring"),nc:b("./utils/Utils"),ld:b("./world/World"),SK:b("./math/vec2"),version:b("../package.json").version};Object.defineProperty(e,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Gw}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,
"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,
"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(b,
g){function e(a,c){"number"==typeof a&&"number"==typeof c&&(a={width:a,height:c},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })"));a=a||{};var b=this.width=a.width||1,f=this.height=a.height||1,b=[h.T(-b/2,-f/2),h.T(b/2,-f/2),h.T(b/2,f/2),h.T(-b/2,f/2)],f=[h.T(1,0),h.T(0,1)];a.u=b;a.axes=f;a.type=k.hh;l.call(this,a)}var h=b("../math/vec2"),k=b("./Shape"),l=b("./Convex");g.V=e;e.prototype=
new l;e.prototype.constructor=e;e.prototype.Hi=function(a){var c=this.width,b=this.height;return a*(b*b+c*c)/12};e.prototype.mg=function(){var a=this.width,c=this.height;this.be=Math.sqrt(a*a+c*c)/2};h.create();h.create();h.create();h.create();e.prototype.Gi=function(a,c,b){a.Xv(this.u,c,b,0)};e.prototype.Bk=function(){this.ra=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(b,g){function e(a,c){"number"==typeof a&&"number"==typeof c&&(a={length:a,w:c},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })"));
a=a||{};this.length=a.length||1;this.w=a.w||1;a.type=h.mi;h.call(this,a)}var h=b("./Shape"),k=b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.Hi=function(a){var c=this.w,b=this.length+c,c=2*c;return a*(c*c+b*b)/12};e.prototype.mg=function(){this.be=this.w+this.length/2};e.prototype.Bk=function(){this.ra=Math.PI*this.w*this.w+2*this.w*this.length};var l=k.create();e.prototype.Gi=function(a,c,b){var d=this.w;k.set(l,this.length/2,0);0!==b&&k.rotate(l,l,b);k.set(a.upperBound,
Math.max(l[0]+d,-l[0]+d),Math.max(l[1]+d,-l[1]+d));k.set(a.lowerBound,Math.min(l[0]-d,-l[0]-d),Math.min(l[1]-d,-l[1]-d));k.add(a.lowerBound,a.lowerBound,c);k.add(a.upperBound,a.upperBound,c)};var a=k.create(),c=k.create(),d=k.create(),f=k.create(),m=k.T(0,1);e.prototype.ej=function(b,e,g,h){for(var p=e.from,r=e.Sd,u=(e.direction,a),l=this.length/2,w=0;2>w;w++){var A=this.w*(2*w-1);k.set(d,-l,A);k.set(f,l,A);k.io(d,d,g,h);k.io(f,f,g,h);var B=k.Dq(p,r,d,f);if(0<=B&&(k.rotate(c,m,h),k.scale(c,c,2*w-
1),e.Wg(b,B,c,-1),b.gj(e)))return}A=Math.pow(this.w,2)+Math.pow(l,2);for(w=0;2>w;w++){k.set(d,l*(2*w-1),0);k.io(d,d,g,h);var z=Math.pow(r[0]-p[0],2)+Math.pow(r[1]-p[1],2),D=2*((r[0]-p[0])*(p[0]-d[0])+(r[1]-p[1])*(p[1]-d[1])),B=Math.pow(D,2)-4*z*(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2)-Math.pow(this.w,2));if(!(0>B))if(0===B){if(k.je(u,p,r,B),k.co(u,g)>A&&(k.sub(c,u,d),k.normalize(c,c),e.Wg(b,B,c,-1),b.gj(e)))break}else{var B=Math.sqrt(B),E=1/(2*z),z=(-D-B)*E,D=(-D+B)*E;if(0<=z&&1>=z&&(k.je(u,p,
r,z),k.co(u,g)>A&&(k.sub(c,u,d),k.normalize(c,c),e.Wg(b,z,c,-1),b.gj(e))))break;if(0<=D&&1>=D&&(k.je(u,p,r,D),k.co(u,g)>A&&(k.sub(c,u,d),k.normalize(c,c),e.Wg(b,D,c,-1),b.gj(e))))break}}}},{"../math/vec2":30,"./Shape":45}],39:[function(b,g){function e(a){"number"==typeof a&&(a={w:a},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })"));a=a||{};this.w=a.w||1;a.type=h.Nf;h.call(this,a)}var h=b("./Shape"),k=b("../math/vec2");g.V=e;e.prototype=
new h;e.prototype.constructor=e;e.prototype.Hi=function(a){var c=this.w;return a*c*c/2};e.prototype.mg=function(){this.be=this.w};e.prototype.Bk=function(){this.ra=Math.PI*this.w*this.w};e.prototype.Gi=function(a,b){var c=this.w;k.set(a.upperBound,c,c);k.set(a.lowerBound,-c,-c);b&&(k.add(a.lowerBound,a.lowerBound,b),k.add(a.upperBound,a.upperBound,b))};var l=k.create(),a=k.create();e.prototype.ej=function(c,b,f){var d=b.from,p=b.Sd,e=Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2),g=2*((p[0]-d[0])*(d[0]-
f[0])+(p[1]-d[1])*(d[1]-f[1])),h=Math.pow(g,2)-4*e*(Math.pow(d[0]-f[0],2)+Math.pow(d[1]-f[1],2)-Math.pow(this.w,2));if(!(0>h))if(0===h)k.je(l,d,p,h),k.sub(a,l,f),k.normalize(a,a),b.Wg(c,h,a,-1);else{var h=Math.sqrt(h),q=1/(2*e),e=(-g-h)*q,g=(-g+h)*q;0<=e&&1>=e&&(k.je(l,d,p,e),k.sub(a,l,f),k.normalize(a,a),b.Wg(c,e,a,-1),c.gj(b))||0<=g&&1>=g&&(k.je(l,d,p,g),k.sub(a,l,f),k.normalize(a,a),b.Wg(c,g,a,-1))}}},{"../math/vec2":30,"./Shape":45}],40:[function(b,g){function e(a,c){Array.isArray(a)&&(a={u:a,
axes:c},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })"));a=a||{};this.u=[];for(var b=void 0!==a.u?a.u:[],d=0;d<b.length;d++){var f=k.create();k.O(f,b[d]);this.u.push(f)}if(this.axes=[],a.axes)for(d=0;d<a.axes.length;d++)b=k.create(),k.O(b,a.axes[d]),this.axes.push(b);else for(d=0;d<this.u.length;d++){var b=this.u[d],f=this.u[(d+1)%this.u.length],m=k.create();k.sub(m,f,b);k.Xg(m,m);k.normalize(m,m);this.axes.push(m)}if(this.oP=
k.T(0,0),this.Mr=[],this.u.length&&(this.OK(),this.iX()),this.be=0,a.type=h.ni,h.call(this,a),this.mg(),this.Bk(),0>this.ra)throw Error("Convex vertices must be given in conter-clockwise winding.");}var h=b("./Shape"),k=b("../math/vec2"),l=b("../math/polyk");b("poly-decomp");g.V=e;e.prototype=new h;e.prototype.constructor=e;k.create();k.create();e.prototype.OK=function(){this.Mr.length=0;for(var a=[],c=0;c<this.u.length;c++){var b=this.u[c];a.push(b[0],b[1])}a=l.Qs(a);for(c=0;c<a.length;c+=3)this.Mr.push([a[c],
a[c+1],a[c+2]])};var a=k.create(),c=k.create();k.create();k.create();k.create();k.create();k.create();k.create();k.create();e.prototype.iX=function(){var b=this.Mr,d=this.u,f=this.oP,m,g,h;k.set(f,0,0);for(var l=0,v=0;v!==b.length;v++)h=b[v],m=d[h[0]],g=d[h[1]],h=d[h[2]],k.qF(a,m,g,h),m=e.AK(m,g,h),l+=m,k.scale(c,a,m),k.add(f,f,c);k.scale(f,f,1/l)};e.prototype.Hi=function(a){for(var c=0,b=0,d=this.u.length,f=d-1,m=0;m<d;f=m,m++)var f=this.u[f],p=this.u[m],e=Math.abs(k.ec(f,p)),c=c+e*(k.Mb(p,p)+k.Mb(p,
f)+k.Mb(f,f)),b=b+e;return a/6*(c/b)};e.prototype.mg=function(){for(var a=this.u,c=0,b=0;b!==a.length;b++){var d=k.ff(a[b]);d>c&&(c=d)}this.be=Math.sqrt(c)};e.AK=function(a,c,b){return.5*((c[0]-a[0])*(b[1]-a[1])-(b[0]-a[0])*(c[1]-a[1]))};e.prototype.Bk=function(){this.OK();this.ra=0;for(var a=this.Mr,c=this.u,b=0;b!==a.length;b++){var d=a[b];this.ra+=e.AK(c[d[0]],c[d[1]],c[d[2]])}};e.prototype.Gi=function(a,c,b){a.Xv(this.u,c,b,0)};var d=k.create(),f=k.create(),m=k.create();e.prototype.ej=function(a,
c,b,e){var p=this.u;k.gi(d,c.from,b,e);k.gi(f,c.Sd,b,e);b=p.length;for(var g=0;g<b&&!a.gj(c);g++){var r=p[g],h=p[(g+1)%b],u=k.Dq(d,f,r,h);0<=u&&(k.sub(m,h,r),k.rotate(m,m,-Math.PI/2+e),k.normalize(m,m),c.Wg(a,u,m,g))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(b,g){function e(a,c){if(Array.isArray(a)){if(a={Pg:a},"object"==typeof c)for(var b in c)a[b]=c[b];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}a=
a||{};this.Pg=a.Pg?a.Pg.slice(0):[];this.maxValue=a.maxValue||null;this.minValue=a.minValue||null;this.tl=a.tl||.1;void 0!==a.maxValue&&void 0!==a.minValue||this.pX();a.type=h.vs;h.call(this,a)}var h=b("./Shape"),k=b("../math/vec2");b("../utils/Utils");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.pX=function(){for(var a=this.Pg,c=a[0],b=a[0],d=0;d!==a.length;d++){var f=a[d];f>c&&(c=f);f<b&&(b=f)}this.maxValue=c;this.minValue=b};e.prototype.Hi=function(){return Number.MAX_VALUE};e.prototype.mg=
function(){this.be=Number.MAX_VALUE};e.prototype.Bk=function(){for(var a=this.Pg,c=0,b=0;b<a.length-1;b++)c+=(a[b]+a[b+1])/2*this.tl;this.ra=c};var l=[k.create(),k.create(),k.create(),k.create()];e.prototype.Gi=function(a,c,b){k.set(l[0],0,this.maxValue);k.set(l[1],this.tl*this.Pg.length,this.maxValue);k.set(l[2],this.tl*this.Pg.length,this.minValue);k.set(l[3],0,this.minValue);a.Xv(l,c,b)};e.prototype.mR=function(a,c,b){var d=this.Pg,f=this.tl;k.set(a,b*f,d[b]);k.set(c,(b+1)*f,d[b+1])};var a=(k.create(),
k.create()),c=k.create(),d=k.create(),f=k.create(),m=k.create();k.T(0,1);e.prototype.ej=function(b,e,g,h){var p=e.from,r=e.Sd,u=(e.direction,a);k.gi(f,p,g,h);k.gi(m,r,g,h);for(g=0;g<this.Pg.length-1&&!(this.mR(c,d,g),p=k.Dq(f,m,c,d),0<=p&&(k.sub(u,d,c),k.rotate(u,u,h+Math.PI/2),k.normalize(u,u),e.Wg(b,p,u,-1),b.gj(e)));g++);}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(b,g){function e(a){"number"==typeof a&&(a={length:a},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })"));
a=a||{};this.length=a.length||1;a.type=h.kh;h.call(this,a)}var h=b("./Shape"),k=b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.Hi=function(a){return a*Math.pow(this.length,2)/12};e.prototype.mg=function(){this.be=this.length/2};var l=[k.create(),k.create()];e.prototype.Gi=function(a,c,b){var d=this.length/2;k.set(l[0],-d,0);k.set(l[1],d,0);a.Xv(l,c,b,0)};var a=(k.create(),k.create()),c=k.create(),d=k.create(),f=k.T(0,1);e.prototype.ej=function(b,p,e,g){var m=p.from,
r=p.Sd,h=this.length/2;k.set(c,-h,0);k.set(d,h,0);k.io(c,c,e,g);k.io(d,d,e,g);e=k.Dq(c,d,m,r);0<=e&&(k.rotate(a,f,g),p.Wg(b,e,a,-1))}},{"../math/vec2":30,"./Shape":45}],43:[function(b,g){function e(b){b=b||{};b.type=h.qm;h.call(this,b)}var h=b("./Shape"),k=b("../math/vec2");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.Hi=function(){return 0};e.prototype.mg=function(){this.be=0};e.prototype.Gi=function(b,a){k.O(b.lowerBound,a);k.O(b.upperBound,a)}},{"../math/vec2":30,"./Shape":45}],
44:[function(b,g){function e(a){a=a||{};a.type=h.Jk;h.call(this,a)}var h=b("./Shape"),k=b("../math/vec2");b("../utils/Utils");g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.Hi=function(){return 0};e.prototype.mg=function(){this.be=Number.MAX_VALUE};e.prototype.Gi=function(a,c,b){b%=2*Math.PI;var d=k.set,f=Number.MAX_VALUE,m=a.lowerBound;a=a.upperBound;0===b?(d(m,-f,-f),d(a,f,0)):b===Math.PI/2?(d(m,0,-f),d(a,f,f)):b===Math.PI?(d(m,-f,0),d(a,f,f)):b===3*Math.PI/2?(d(m,-f,-f),d(a,0,f)):
(d(m,-f,-f),d(a,f,f));k.add(m,m,c);k.add(a,a,c)};e.prototype.Bk=function(){this.ra=Number.MAX_VALUE};var l=k.create(),a=(k.create(),k.create(),k.create()),c=k.create();e.prototype.ej=function(b,f,m,p){var d=f.from,e=f.Sd,g=f.direction;k.set(a,0,1);k.rotate(a,a,p);k.sub(c,d,m);p=k.Mb(c,a);k.sub(c,e,m);0<p*k.Mb(c,a)||k.co(d,e)<p*p||(e=k.Mb(a,g),k.sub(l,d,m),f.Wg(b,-k.Mb(a,l)/e/f.length,a,-1))}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(b,g){function e(b){b=b||{};this.body=null;
this.position=h.T(0,0);b.position&&h.O(this.position,b.position);this.angle=b.angle||0;this.type=b.type||0;this.id=e.Jq++;this.be=0;this.zh=void 0!==b.zh?b.zh:1;this.Eg=void 0===b.Eg||b.Eg;this.yf=void 0!==b.yf?b.yf:1;this.Uq=b.Uq||null;this.ra=0;this.Vv=void 0!==b.Vv&&b.Vv;this.type&&this.mg();this.Bk()}g.V=e;var h=b("../math/vec2");e.Jq=0;e.Nf=1;e.qm=2;e.Jk=4;e.ni=8;e.kh=16;e.hh=32;Object.defineProperty(e,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),
e.hh}});e.mi=64;e.vs=128;e.prototype.Hi=function(){};e.prototype.mg=function(){};e.prototype.Bk=function(){};e.prototype.Gi=function(){};e.prototype.ej=function(){}},{"../math/vec2":30}],46:[function(b,g){function e(a){k.call(this,a,k.PL);a=a||{};this.DH=a.DH||10;this.mK=a.mK||1E-7;this.Wm=30;this.$z=new l.Mf(this.Wm);this.sC=new l.Mf(this.Wm);this.uH=new l.Mf(this.Wm);this.GX=!1;this.WQ=0}var h=b("../math/vec2"),k=b("./Solver"),l=b("../utils/Utils"),a=b("../equations/FrictionEquation");g.V=e;e.prototype=
new k;e.prototype.constructor=e;e.prototype.CB=function(c,b){this.uW();var d,m=this.DH,p=this.WQ,g=this.sa,u=g.length,k=Math.pow(this.mK*u,2),q=b.Qa,t=b.Qa.length,y=(h.add,h.set,this.GX),v=this.$z;if(u)for(var x=0;x!==t;x++)d=q[x],d.wX();v.length<u&&(v=this.$z=new l.Mf(u+this.Wm),this.sC=new l.Mf(u+this.Wm),this.uH=new l.Mf(u+this.Wm));for(var A=v.length;A--;)v[A]=0;for(var A=this.uH,B=this.sC,v=this.$z,x=0;x!==g.length;x++){var z=g[x];(z.PB!==c||z.fk)&&(z.PB=c,z.update());B[x]=z.gu(z.R,z.L,c);A[x]=
z.LP(z.xu)}var D;if(0!==u){for(x=0;x!==t;x++)d=q[x],d.xJ();if(p){for(d=0;d!==p;d++){for(x=D=0;x!==u;x++)z=g[x],z=e.CH(x,z,z.xu,B,A,v,y,c),D+=Math.abs(z);if(D*D<=k)break}e.JK(g,v,1/c);for(x=0;x!==u;x++)if(p=g[x],p instanceof a){for(z=d=0;z!==p.ua.length;z++)d+=p.ua[z].Dn;d*=p.yq/p.ua.length;p.hb=d;p.Hf=-d}}for(d=0;d!==m;d++){for(x=D=0;x!==u;x++)z=g[x],z=e.CH(x,z,z.xu,B,A,v,y,c),D+=Math.abs(z);if(D*D<=k)break}for(x=0;x!==t;x++)q[x].KN();e.JK(g,v,1/c)}};e.JK=function(a,b,f){for(var c=a.length;c--;)a[c].Dn=
b[c]*f};e.CH=function(a,b,f,m,p,e,g,h){var c=m[a],d=p[a];p=e[a];var r=b.JP();m=b.hb;var u=b.Hf;g&&(c=0);f=d*(c-r-f*p);g=p+f;return g<u*h?f=u*h-p:g>m*h&&(f=m*h-p),e[a]+=f,b.VN(f),f}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(b,g){function e(b,a){b=b||{};h.call(this);this.type=a;this.sa=[];this.gz=b.gz||!1}var h=(b("../utils/Utils"),b("../events/EventEmitter"));g.V=e;e.prototype=new h;e.prototype.constructor=e;e.prototype.CB=function(){throw Error("Solver.solve should be implemented by subclasses!");
};var k={Qa:[]};e.prototype.rW=function(b,a){this.Lv();a.sa.length&&(this.Mt(a.sa),k.Qa.length=0,a.OG(k.Qa),k.Qa.length&&this.CB(b,k))};e.prototype.uW=function(){this.gz&&this.sa.sort(this.gz)};e.prototype.Mt=function(b){for(var a=0,c=b.length;a!==c;a++){var d=b[a];d.enabled&&this.sa.push(d)}};e.prototype.Lv=function(){this.sa.length=0};e.PL=1;e.JZ=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(b,g){function e(){k.apply(this,arguments)}var h=b("../equations/ContactEquation"),k=
b("./Pool");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.create=function(){return new h};e.prototype.j=function(b){return b.aa=b.ca=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(b,g){function e(){k.apply(this,arguments)}var h=b("../equations/FrictionEquation"),k=b("./Pool");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.create=function(){return new h};e.prototype.j=function(b){return b.aa=b.ca=null,this}},{"../equations/FrictionEquation":23,
"./Pool":55}],50:[function(b,g){function e(){k.apply(this,arguments)}var h=b("../world/IslandNode"),k=b("./Pool");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.create=function(){return new h};e.prototype.j=function(b){return b.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(b,g){function e(){k.apply(this,arguments)}var h=b("../world/Island"),k=b("./Pool");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.create=function(){return new h};e.prototype.j=
function(b){return b.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(b,g){function e(){this.jr=new h;this.Ln=new h;this.oJ=new k({size:16});new h}var h=b("./TupleDictionary"),k=(b("./OverlapKeeperRecord"),b("./OverlapKeeperRecordPool"));b("./Utils");g.V=e;e.prototype.hf=function(){for(var b=this.jr,a=this.Ln,c=b.keys.length;c--;){var d=b.PG(b.keys[c]);d&&this.oJ.release(d)}b.reset();b.O(a);a.reset()};e.prototype.WV=function(b,a,c,d){var f=(this.jr,this.Ln);if(!f.get(a.id,d.id)){var m=
this.oJ.get();m.set(b,a,c,d);f.set(a.id,d.id,m)}};e.prototype.gR=function(b){this.fR(this.Ln,this.jr,b)};e.prototype.IO=function(b,a){for(var c=this.Ln,d=c.keys.length;d--;){var f=c.data[c.keys[d]];if(f.aa===b&&f.ca===a||f.aa===a&&f.ca===b)return!0}return!1};e.prototype.fR=function(b,a,c){c=c||[];c.length=0;for(var d=a.keys.length;d--;){var f=a.keys[d],m=a.data[f];if(!m)throw Error("Key "+f+" had no data!");b.data[f]||c.push(m)}};e.prototype.dS=function(b,a){var c=0|b.id,d=0|a.id,f=this.Ln;return!this.jr.get(c,
d)&&!!f.get(c,d)}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(b,g){function e(b,e,g,a){this.Dc=e;this.Ec=a;this.aa=b;this.ca=g}g.V=e;e.prototype.set=function(b,g,l,a){e.call(this,b,g,l,a)}},{}],54:[function(b,g){function e(){k.apply(this,arguments)}var h=b("./OverlapKeeperRecord"),k=b("./Pool");g.V=e;e.prototype=new k;e.prototype.constructor=e;e.prototype.create=function(){return new h};e.prototype.j=function(b){return b.aa=b.ca=b.Dc=
b.Ec=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(b,g){function e(b){b=b||{};this.ga=[];void 0!==b.size&&this.resize(b.size)}g.V=e;e.prototype.resize=function(b){for(var e=this.ga;e.length>b;)e.pop();for(;e.length<b;)e.push(this.create());return this};e.prototype.get=function(){var b=this.ga;return b.length?b.pop():this.create()};e.prototype.release=function(b){return this.j(b),this.ga.push(b),this}},{}],56:[function(b,g){function e(){this.data={};this.keys=[]}var h=b("./Utils");
g.V=e;e.prototype.getKey=function(b,e){return b|=0,e|=0,(0|b)===(0|e)?-1:0|((0|b)>(0|e)?b<<16|65535&e:e<<16|65535&b)};e.prototype.PG=function(b){return b|=0,this.data[b]};e.prototype.get=function(b,e){return this.data[this.getKey(b,e)]};e.prototype.set=function(b,e,a){if(!a)throw Error("No data!");b=this.getKey(b,e);return this.data[b]||this.keys.push(b),this.data[b]=a,b};e.prototype.reset=function(){for(var b=this.data,e=this.keys,a=e.length;a--;)delete b[e[a]];e.length=0};e.prototype.O=function(b){this.reset();
h.Tp(this.keys,b.keys);for(var e=b.keys.length;e--;){var a=b.keys[e];this.data[a]=b.data[a]}}},{"./Utils":57}],57:[function(b,g){function e(){}g.V=e;e.Tp=function(b,e){if(15E4>e.length)b.push.apply(b,e);else for(var g=0,a=e.length;g!==a;++g)b.push(e[g])};e.splice=function(b,e,g){g=g||1;for(var a=b.length-g;e<a;e++)b[e]=b[e+g];b.length=a};"undefined"!=typeof P2_ARRAY_TYPE?e.Mf=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?e.Mf=Float32Array:e.Mf=Array;e.extend=function(b,e){for(var g in e)b[g]=e[g]};
e.Sy=function(b,e){b=b||{};for(var g in e)g in b||(b[g]=e[g]);return b}},{}],58:[function(b,g){function e(){this.sa=[];this.Qa=[]}var h=b("../objects/Body");g.V=e;e.prototype.reset=function(){this.sa.length=this.Qa.length=0};var k=[];e.prototype.OG=function(b){b=b||[];for(var a=this.sa,c=k.length=0;c!==a.length;c++){var d=a[c];-1===k.indexOf(d.aa.id)&&(b.push(d.aa),k.push(d.aa.id));-1===k.indexOf(d.ca.id)&&(b.push(d.ca),k.push(d.ca.id))}return b};e.prototype.Vr=function(){for(var b=0;b<this.Qa.length;b++){var a=
this.Qa[b];if(a.type===h.te&&!a.Vr)return!1}return!0};e.prototype.dw=function(){for(var b=0;b<this.Qa.length;b++)this.Qa[b].dw();return!0}},{"../objects/Body":31}],59:[function(b,g){function e(){this.mI=new h({size:16});this.BH=new k({size:8});this.sa=[];this.Qq=[];this.Zb=[];this.OU=[]}var h=(b("../math/vec2"),b("./Island"),b("./IslandNode"),b("./../utils/IslandNodePool")),k=b("./../utils/IslandPool"),l=b("../objects/Body");g.V=e;e.$G=function(a){for(var c=a.length,b=0;b!==c;b++){var f=a[b];if(!f.tw&&
f.body.type===l.te)return f}return!1};e.prototype.WK=function(a,c,b){c.push(a.body);c=a.sa.length;for(var d=0;d!==c;d++){var m=a.sa[d];-1===b.indexOf(m)&&b.push(m)}};e.prototype.vO=function(a,c,b){var d=this.OU;d.length=0;d.push(a);a.tw=!0;for(this.WK(a,c,b);d.length;)for(var m=d.pop();a=e.$G(m.jv);)a.tw=!0,this.WK(a,c,b),a.body.type===l.te&&d.push(a)};e.prototype.split=function(a){var c=a.Qa;a=this.Zb;for(var b=this.sa;a.length;)this.mI.release(a.pop());for(var f=0;f!==c.length;f++){var m=this.mI.get();
m.body=c[f];a.push(m)}for(m=0;m!==b.length;m++){var p=b[m],f=c.indexOf(p.aa),f=a[f],g=a[c.indexOf(p.ca)];f.jv.push(g);g.jv.push(f);f.sa.push(p);g.sa.push(p)}c=this.Qq;for(f=0;f<c.length;f++)this.BH.release(c[f]);for(c.length=0;b=e.$G(a);)f=this.BH.get(),this.vO(b,f.Qa,f.sa),c.push(f);return c}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(b,g){function e(b){this.body=b;this.jv=[];this.sa=[];this.tw=
!1}g.V=e;e.prototype.reset=function(){this.sa.length=0;this.jv.length=0;this.tw=!1;this.body=null}},{}],61:[function(b,g){function e(a){m.apply(this);a=a||{};this.bo=[];this.Qa=[];this.jQ=[];this.uk=a.uk||new h;this.qA=new t(this);this.Xz=new x;this.Ab=k.T(0,-9.78);a.Ab&&k.O(this.Ab,a.Ab);this.JG=k.length(this.Ab)||10;this.DX=this.EX=!0;this.bn=a.bn||new q;this.bn.RJ(this);this.kn=[];this.eG=new r;this.pl=new u(this.eG,this.eG);this.DB=this.my=this.dl=this.ny=!0;this.fq=[];this.Sm=this.time=0;this.Hr=
!1;this.bF=[];this.av="undefined"==typeof a.av||!!a.av;this.bz=!0;this.CU={type:"postStep"};this.JN={type:"addBody",body:null};this.VA={type:"removeBody",body:null};this.JR={type:"impact",aa:null,ca:null,Dc:null,Ec:null,MP:null};this.LA={type:"postBroadphase",OI:null};this.ew=e.kM;this.tO={type:"beginContact",Dc:null,Ec:null,aa:null,ca:null,ua:[]};this.zQ={type:"endContact",Dc:null,Ec:null,aa:null,ca:null};this.DU={type:"preSolve",ua:null,Ua:null};this.jr={keys:[]};this.Ln={keys:[]};this.gr=new v}
var h=b("../solver/GSSolver"),k=(b("../solver/Solver"),b("../collision/Ray"),b("../math/vec2")),l=b("../shapes/Circle"),a=b("../shapes/Convex"),c=(b("../shapes/Line"),b("../shapes/Plane")),d=b("../shapes/Capsule"),f=b("../shapes/Particle"),m=b("../events/EventEmitter"),p=b("../objects/Body"),r=(b("../shapes/Shape"),b("../objects/LinearSpring"),b("../material/Material")),u=b("../material/ContactMaterial"),w=(b("../constraints/DistanceConstraint"),b("../constraints/Constraint"),b("../constraints/LockConstraint"),
b("../constraints/RevoluteConstraint"),b("../constraints/PrismaticConstraint"),b("../constraints/GearConstraint"),b("../../package.json"),b("../collision/Broadphase"),b("../collision/AABB")),q=b("../collision/SAPBroadphase"),t=b("../collision/Narrowphase"),y=b("../utils/Utils"),v=b("../utils/OverlapKeeper"),x=b("./IslandManager");b("../objects/RotationalSpring");g.V=e;e.prototype=Object(m.prototype);e.prototype.constructor=e;e.kM=1;e.oL=2;e.VL=4;e.prototype.iy=function(a){this.kn.push(a)};e.prototype.Mv=
function(a){a=this.fq.indexOf(a);-1!==a&&y.splice(this.fq,a,1)};e.prototype.xz=function(a,c){for(var b=this.fq,d=0,f=b.length;d!==f;d++){var m=b[d];if(m.OH.id===a.id&&m.PH.id===c.id||m.OH.id===c.id&&m.PH.id===a.id)return m}return!1};e.prototype.sr=function(a){a=this.kn.indexOf(a);-1!==a&&y.splice(this.kn,a,1)};var A=(k.create(),k.create(),k.create(),k.create(),k.create(),k.create(),k.create()),B=k.T(0,0),z=k.T(0,0);k.T(0,0);k.T(0,0);e.prototype.step=function(a,c,b){if(b=b||10,c=c||0,0===c)this.qH(a),
this.time+=a;else{this.Sm+=c;for(c=0;this.Sm>=a&&c<b;)this.qH(a),this.time+=a,this.Sm-=a,c++;a=this.Sm%a/a;for(b=0;b!==this.Qa.length;b++)c=this.Qa[b],k.je(c.TR,c.cj,c.position,a),c.SR=c.PA+a*(c.angle-c.PA)}};var D=[];e.prototype.qH=function(a){this.Hr=!0;var c=this.bo.length,b=this.bo,d=this.Qa,f=this.Ab,m=this.uk,g=this.Qa.length,r=this.bn,h=this.qA,u=this.kn,l=(k.scale,k.add),q=(k.rotate,this.Xz);if(this.gr.hf(),this.EX){var w=k.length(this.Ab);0===w&&this.DX||(this.JG=w)}if(this.my)for(w=0;w!==
g;w++){var t=d[w],v=t.force;t.type===p.te&&t.le!==p.lh&&(k.scale(A,f,t.wa*t.Gz),l(v,v,A))}if(this.ny)for(w=0;w!==c;w++)b[w].el();if(this.dl)for(w=0;w!==g;w++)t=d[w],t.type===p.te&&t.dl(a);c=r.wz(this);f=this.jQ;for(w=f.length-2;0<=w;w-=2)for(b=c.length-2;0<=b;b-=2)(f[w]===c[b]&&f[w+1]===c[b+1]||f[w+1]===c[b]&&f[w]===c[b+1])&&c.splice(b,2);f=u.length;for(w=0;w!==f;w++)if(r=u[w],!r.Hy)for(b=c.length-2;0<=b;b-=2)(r.aa===c[b]&&r.ca===c[b+1]||r.ca===c[b]&&r.aa===c[b+1])&&c.splice(b,2);this.LA.OI=c;this.Ih(this.LA);
this.LA.OI=null;h.reset(this);w=0;for(f=c.length;w!==f;w+=2)for(r=c[w],l=c[w+1],t=0,v=r.wb.length;t!==v;t++)for(var x=r.wb[t],z=x.position,B=x.angle,b=0,P=l.wb.length;b!==P;b++){var E=l.wb[b],G=E.position,H=E.angle,I=this.pl;if(x.Uq&&E.Uq){var ra=this.xz(x.Uq,E.Uq);ra&&(I=ra)}this.GV(h,r,x,z,B,l,E,G,H,I,this.JG)}for(w=0;w!==g;w++)c=d[w],c.It&&(c.dC(),c.It=!1);if(this.has("endContact")){this.gr.gR(D);w=this.zQ;for(b=D.length;b--;)c=D[b],w.Dc=c.Dc,w.Ec=c.Ec,w.aa=c.aa,w.ca=c.ca,this.Ih(w);D.length=0}w=
this.DU;w.ua=h.ua;w.Ua=h.Ua;this.Ih(w);w.ua=w.Ua=null;f=u.length;for(w=0;w!==f;w++)u[w].update();if(h.ua.length||h.Ua.length||f)if(this.av){q.sa.length=0;y.Tp(q.sa,h.ua);y.Tp(q.sa,h.Ua);for(w=0;w!==f;w++)y.Tp(q.sa,u[w].sa);q.split(this);for(w=0;w!==q.Qq.length;w++)u=q.Qq[w],u.sa.length&&m.rW(a,u)}else{m.Mt(h.ua);m.Mt(h.Ua);for(w=0;w!==f;w++)m.Mt(u[w].sa);this.DB&&m.CB(a,this);m.Lv()}for(w=0;w!==g;w++)c=d[w],c.PR(a);for(w=0;w!==g;w++)d[w].aw();if(this.bz&&this.has("impact"))for(m=this.JR,w=0;w!==h.ua.length;w++)q=
h.ua[w],q.lz&&(m.aa=q.aa,m.ca=q.ca,m.Dc=q.Dc,m.Ec=q.Ec,m.MP=q,this.Ih(m));if(this.ew===e.oL)for(w=0;w!==g;w++)d[w].UJ(!1,a);else if(this.ew===e.VL&&this.av){for(w=0;w!==g;w++)d[w].UJ(!0,a);for(w=0;w<this.Xz.Qq.length;w++)u=this.Xz.Qq[w],u.Vr()&&u.dw()}this.Hr=!1;a=this.bF;for(w=0;w!==a.length;w++)this.pk(a[w]);a.length=0;this.Ih(this.CU)};e.prototype.GV=function(a,c,b,d,f,m,e,g,r,h,u){if(0!==(b.zh&e.yf)&&0!==(e.zh&b.yf)&&(k.rotate(B,d,c.angle),k.rotate(z,g,m.angle),k.add(B,B,c.position),k.add(z,z,
m.position),d=f+c.angle,r+=m.angle,a.gb=0<h.ag,a.yq=h.ag,a.VJ=h.ag*u*(c.type===p.hd||c.type===p.ih?m.wa:m.type===p.hd||m.type===p.ih?c.wa:c.wa*m.wa/(c.wa+m.wa)),a.jg=h.jg,a.eo=h.eo,a.un=h.un,a.tn=h.tn,a.Qd=h.Qd,a.ci=h.ci,a.iu=h.iu,a.ez=c.Eg&&m.Eg&&b.Eg&&e.Eg,u=a[b.type|e.type])&&(f=b.Vv||e.Vv,h=a.Ua.length,u=b.type<e.type?u.call(a,c,b,B,d,m,e,z,r,f):u.call(a,m,e,z,r,c,b,B,d,f),h=a.Ua.length-h,u)){c.Hj&&c.type===p.te&&c.le===p.lh&&m.le===p.im&&m.type!==p.hd&&k.ff(m.i)+Math.pow(m.Pa,2)>=2*Math.pow(m.Sl,
2)&&(c.It=!0);m.Hj&&m.type===p.te&&m.le===p.lh&&c.le===p.im&&c.type!==p.hd&&k.ff(c.i)+Math.pow(c.Pa,2)>=2*Math.pow(c.Sl,2)&&(m.It=!0);if(this.gr.WV(c,b,m,e),this.has("beginContact")&&this.gr.dS(b,e)){d=this.tO;if(d.Dc=b,d.Ec=e,d.aa=c,d.ca=m,d.ua.length=0,"number"==typeof u)for(c=a.ua.length-u;c<a.ua.length;c++)d.ua.push(a.ua[c]);this.Ih(d)}if("number"==typeof u&&1<h)for(c=a.Ua.length-h;c<a.Ua.length;c++)b=a.Ua[c],b.Yv(b.hb/h)}};e.prototype.tr=function(a){a=this.bo.indexOf(a);-1!==a&&y.splice(this.bo,
a,1)};e.prototype.Tm=function(a){if(-1===this.Qa.indexOf(a)){this.Qa.push(a);a.g=this;var c=this.JN;c.body=a;this.Ih(c);c.body=null}};e.prototype.pk=function(a){if(this.Hr)this.bF.push(a);else{a.g=null;var c=this.Qa.indexOf(a);-1!==c&&(y.splice(this.Qa,c,1),this.VA.body=a,a.xJ(),this.Ih(this.VA),this.VA.body=null)}};e.prototype.clear=function(){this.time=0;this.uk&&this.uk.sa.length&&this.uk.Lv();for(var a=this.kn,c=a.length-1;0<=c;c--)this.sr(a[c]);a=this.Qa;for(c=a.length-1;0<=c;c--)this.pk(a[c]);
a=this.bo;for(c=a.length-1;0<=c;c--)this.tr(a[c]);a=this.fq;for(c=a.length-1;0<=c;c--)this.Mv(a[c]);e.apply(this)};var E=k.create(),H=(k.T(0,0),k.T(0,0));e.prototype.zl=function(b,m,e){e=e||0;var g=new p({position:b}),r=new f;g.Pp(r);for(var h=this.qA,u=[],w=0,q=m.length;w!==q;w++)for(var t=m[w],v=0,y=t.wb.length;v!==y;v++){var x=t.wb[v];k.rotate(E,x.position,t.angle);k.add(E,E,t.position);var z=x.angle+t.angle;(x instanceof l&&h.yP(t,x,E,z,g,r,b,0,!0)||x instanceof a&&h.jU(g,r,b,0,t,x,E,z,!0)||x instanceof
c&&h.lU(g,r,b,0,t,x,E,z,!0)||x instanceof d&&h.iU(g,r,b,0,t,x,E,z,!0)||x instanceof f&&k.ff(k.sub(H,E,b))<e*e)&&u.push(t)}return u};var I=new w,G=[];e.prototype.ej=function(a,c){return c.Cq(I),this.bn.zE(this,I,G),c.WR(a,G),G.length=0,a.eH()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,
"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,
"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)}if("object"==typeof exports)module.V=ba();else{"function"==typeof define;var ha;"undefined"!=typeof window?ha=window:"undefined"!=typeof global?ha=global:"undefined"!=typeof self&&(ha=self);ha.Va=ba()}!0;
(function(){var n=n||{};return n.a=null,n.Mk=0,n.vL=1,n.VERSION="v2.2.9",n.Pf=0,"undefined"!=typeof Float32Array?(n.Float32Array=Float32Array,n.Uint16Array=Uint16Array,n.Uint32Array=Uint32Array,n.ArrayBuffer=ArrayBuffer):(n.Float32Array=Array,n.Uint16Array=Array),n.oM=2*Math.PI,n.h0=180/Math.PI,n.UY=Math.PI/180,n.i0="@2x",n.zd=function(){this.position=new n.h(0,0);this.scale=new n.h(1,1);this.Zh=new n.h(0,0);this.rotation=0;this.alpha=1;this.visible=!0;this.Iq=null;this.df=!1;this.parent=null;this.Tc=
1;this.na=new n.rg;this.Yr=new n.h(0,0);this.Zr=new n.h(1,1);this.jz=null;this.Ux=0;this.mx=1;this.xc=new n.v(0,0,0,0);this.Ta=this.wg=null;this.ph=!1},n.zd.prototype.constructor=n.zd,n.zd.prototype={j:function(){if(this.children){for(var b=this.children.length;b--;)this.children[b].j();this.children=[]}this.jz=this.na=this.parent=this.Iq=null;this.df=!1;this.Ta=this.wg=this.xc=null;this.ID()},Cb:function(b){if(!b&&!this.parent&&!this.a)return this;var g=this.parent;b?g=b:this.parent||(g=this.a.g);
var e,h,k,l,a,c;b=g.na;var d=this.na;return this.rotation%n.oM?(this.rotation!==this.DV&&(this.DV=this.rotation,this.Ux=Math.sin(this.rotation),this.mx=Math.cos(this.rotation)),e=this.mx*this.scale.x,h=this.Ux*this.scale.x,k=-this.Ux*this.scale.y,l=this.mx*this.scale.y,a=this.position.x,c=this.position.y,(this.Zh.x||this.Zh.y)&&(a-=this.Zh.x*e+this.Zh.y*k,c-=this.Zh.x*h+this.Zh.y*l),d.R=e*b.R+h*b.ha,d.L=e*b.L+h*b.d,d.ha=k*b.R+l*b.ha,d.d=k*b.L+l*b.d,d.qa=a*b.R+c*b.ha+b.qa,d.oa=a*b.L+c*b.d+b.oa):(e=
this.scale.x,l=this.scale.y,a=this.position.x-this.Zh.x*e,c=this.position.y-this.Zh.y*l,d.R=e*b.R,d.L=e*b.L,d.ha=l*b.ha,d.d=l*b.d,d.qa=a*b.R+c*b.ha+b.qa,d.oa=a*b.L+c*b.d+b.oa),this.Tc=this.alpha*g.Tc,this.Yr.set(d.qa,d.oa),this.Zr.set(this.scale.x*Math.sqrt(d.R*d.R+d.ha*d.ha),this.scale.y*Math.sqrt(d.L*d.L+d.d*d.d)),this.wg=null,this.rw&&this.rw.call(this.yK,d,b),this},X:function(){},Iu:function(b,g,e){var h=this.Pi();b=new n.Sa(0|h.width,0|h.height,e,g,b);return n.zd.Fd.qa=-h.x,n.zd.Fd.oa=-h.y,b.Xa(this,
n.zd.Fd),b},kE:function(b){this.jb.Tc=this.Tc;b.H?n.ka.prototype.nd.call(this.jb,b):n.ka.prototype.$d.call(this.jb,b)},ft:function(){this.ph=!1;var b=this.Pi();if(b.width=Math.max(1,Math.ceil(b.width)),b.height=Math.max(1,Math.ceil(b.height)),this.Cb(),this.jb)this.jb.c.resize(b.width,b.height);else{var g=new n.Sa(b.width,b.height);this.jb=new n.ka(g);this.jb.na=this.na}g=this.Se;this.Se=null;this.jb.filters=g;n.zd.Fd.qa=-b.x;n.zd.Fd.oa=-b.y;this.jb.c.Xa(this,n.zd.Fd,!0);this.jb.anchor.x=-(b.x/b.width);
this.jb.anchor.y=-(b.y/b.height);this.Se=g;this.ph=!0},ID:function(){this.jb&&(this.jb.c.j(!0),this.jb=null)}},n.zd.prototype.qu=n.zd.prototype.Cb,Object.defineProperties(n.zd.prototype,{x:{get:function(){return this.position.x},set:function(b){this.position.x=b}},y:{get:function(){return this.position.y},set:function(b){this.position.y=b}},RX:{get:function(){if(this.visible){var b=this.parent;if(!b)return this.visible;do{if(!b.visible)return!1;b=b.parent}while(b);return!0}return!1}},Gf:{get:function(){return this.Ta},
set:function(b){this.Ta&&(this.Ta.Xu=!1);(this.Ta=b)&&(this.Ta.Xu=!0)}},filters:{get:function(){return this.Se},set:function(b){if(Array.isArray(b)){for(var g=[],e=0;e<b.length;e++)for(var h=b[e].RI,k=0;k<h.length;k++)g.push(h[k]);this.ct={target:this,pn:g}}this.Se=b;this.cc&&this.cc===n.Ve.Sw&&(this.cc=n.Ve.ui)}}}),n.Ra=function(){n.zd.call(this);this.children=[];this.HR=!1},n.Ra.prototype=Object.create(n.zd.prototype),n.Ra.prototype.constructor=n.Ra,n.Ra.prototype.cl=function(b){return this.CE(b,
this.children.length)},n.Ra.prototype.CE=function(b,g){if(0<=g&&g<=this.children.length)return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(g,0,b),b;throw Error(b+"addChildAt: The index "+g+" supplied is out of bounds "+this.children.length);},n.Ra.prototype.eR=function(b){if(0>b||b>=this.children.length)throw Error("getChildAt: Supplied index "+b+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[b]},n.Ra.prototype.removeChild=
function(b){b=this.children.indexOf(b);if(-1!==b)return this.dV(b)},n.Ra.prototype.dV=function(b){var g=this.eR(b);return g&&(g.parent=void 0,this.children.splice(b,1)),g},n.Ra.prototype.Cb=function(){if(this.visible&&(this.qu(),!this.ph))for(var b=0;b<this.children.length;b++)this.children[b].Cb()},n.Ra.prototype.xa=function(b){var g=b&&b instanceof n.zd,e=!0;g?e=b instanceof n.Ra&&b.contains(this):b=this;var h;if(g){var k=b.na;b.na=n.Kq;for(h=0;h<b.children.length;h++)b.children[h].Cb()}var l,a,
c,d=1/0,f=1/0,m=-(1/0),p=-(1/0),r=!1;for(h=0;h<this.children.length;h++)this.children[h].visible&&(r=!0,l=this.children[h].xa(),d=d<l.x?d:l.x,f=f<l.y?f:l.y,a=l.width+l.x,c=l.height+l.y,m=m>a?m:a,p=p>c?p:c);l=this.xc;if(!r){l=new n.v;c=l.x;m=l.width+l.x;p=l.y;r=l.height+l.y;h=this.na;var u=h.R,w=h.L,q=h.ha,t=h.d,y=h.qa,v=h.oa,d=u*m+q*r+y,f=t*r+w*m+v;h=u*c+q*r+y;r=t*r+w*c+v;a=u*c+q*p+y;c=t*p+w*c+v;u=u*m+q*p+y;w=t*p+w*m+v;m=d;p=f;d=h<d?h:d;d=a<d?a:d;d=u<d?u:d;f=r<f?r:f;f=c<f?c:f;f=w<f?w:f;m=h>m?h:m;
m=a>m?a:m;m=u>m?u:m;p=r>p?r:p;p=c>p?c:p;p=w>p?w:p}if(l.x=d,l.y=f,l.width=m-d,l.height=p-f,g)for(b.na=k,h=0;h<b.children.length;h++)b.children[h].Cb();e||(b=b.xa(),l.x-=b.x,l.y-=b.y);return l},n.Ra.prototype.Pi=function(){return this.xa(this)},n.Ra.prototype.contains=function(b){return!!b&&(b===this||this.contains(b.parent))},n.Ra.prototype.nd=function(b){if(this.visible&&!(0>=this.alpha)){if(this.ph)return void this.kE(b);var g;if(this.Ta||this.Se){this.Se&&(b.Ma.flush(),b.Ze.Jv(this.ct));this.Ta&&
(b.Ma.stop(),b.Pb.dj(this.Gf,b),b.Ma.start());for(g=0;g<this.children.length;g++)this.children[g].nd(b);b.Ma.stop();this.Ta&&b.Pb.bj(this.Ta,b);this.Se&&b.Ze.Dv();b.Ma.start()}else for(g=0;g<this.children.length;g++)this.children[g].nd(b)}},n.Ra.prototype.$d=function(b){if(!1!==this.visible&&0!==this.alpha){if(this.ph)return void this.kE(b);this.Ta&&b.Pb.dj(this.Ta,b);for(var g=0;g<this.children.length;g++)this.children[g].$d(b);this.Ta&&b.Pb.bj(b)}},Object.defineProperty(n.Ra.prototype,"width",{get:function(){return this.Pi().width*
this.scale.x},set:function(b){var g=this.Pi().width;0!==g?this.scale.x=b/g:this.scale.x=1;this.Kb=b}}),Object.defineProperty(n.Ra.prototype,"height",{get:function(){return this.Pi().height*this.scale.y},set:function(b){var g=this.Pi().height;0!==g?this.scale.y=b/g:this.scale.y=1;this.Ib=b}}),n.ka=function(b){n.Ra.call(this);this.anchor=new n.h;this.c=b||n.bb.pG;this.Ib=this.Kb=0;this.Gb=16777215;this.cn=-1;this.Kr=null;this.cc=n.Ve.ui;this.wd=null;this.Ia=!0;this.c.A.ye&&this.AA();this.df=!0},n.ka.prototype=
Object.create(n.Ra.prototype),n.ka.prototype.constructor=n.ka,Object.defineProperty(n.ka.prototype,"width",{get:function(){return this.scale.x*this.c.frame.width},set:function(b){this.scale.x=b/this.c.frame.width;this.Kb=b}}),Object.defineProperty(n.ka.prototype,"height",{get:function(){return this.scale.y*this.c.frame.height},set:function(b){this.scale.y=b/this.c.frame.height;this.Ib=b}}),n.ka.prototype.fj=function(b,g){void 0!==g&&this.c.A.j();this.c.A.$n=!1;this.c=b;this.c.valid=!0;this.cn=-1},
n.ka.prototype.AA=function(){this.Kb&&(this.scale.x=this.Kb/this.c.frame.width);this.Ib&&(this.scale.y=this.Ib/this.c.frame.height)},n.ka.prototype.xa=function(b){var g=this.c.frame.width,e=this.c.frame.height,h=g*(1-this.anchor.x),g=g*-this.anchor.x,k=e*(1-this.anchor.y),l=e*-this.anchor.y,e=b||this.na,a=e.R,c=e.L,d=e.ha;b=e.d;var f=e.qa,m=e.oa,e=-(1/0),p=-(1/0),r=1/0,u=1/0;if(0===c&&0===d)0>a&&(a*=-1,e=h,h=-g,g=-e),0>b&&(b*=-1,e=k,k=-l,l=-e),r=a*g+f,e=a*h+f,u=b*l+m,p=b*k+m;else var w=a*g+d*l+f,
q=b*l+c*g+m,n=a*h+d*l+f,l=b*l+c*h+m,y=a*h+d*k+f,h=b*k+c*h+m,a=a*g+d*k+f,g=b*k+c*g+m,r=w<r?w:r,r=n<r?n:r,r=y<r?y:r,r=a<r?a:r,u=q<u?q:u,u=l<u?l:u,u=h<u?h:u,u=g<u?g:u,e=w>e?w:e,e=n>e?n:e,e=y>e?y:e,e=a>e?a:e,p=q>p?q:p,p=l>p?l:p,p=h>p?h:p,p=g>p?g:p;g=this.xc;return g.x=r,g.width=e-r,g.y=u,g.height=p-u,this.wg=g,g},n.ka.prototype.Pi=function(){var b=this.na;this.na=n.Kq;for(var g=0;g<this.children.length;g++)this.children[g].Cb();var e=this.xa();this.na=b;for(g=0;g<this.children.length;g++)this.children[g].Cb();
return e},n.ka.prototype.nd=function(b,g){if(this.visible&&!(0>=this.alpha)&&this.df){var e=this.na;if(g&&(e=g),this.Ta||this.Se){e=b.Ma;this.Se&&(e.flush(),b.Ze.Jv(this.ct));this.Ta&&(e.stop(),b.Pb.dj(this.Gf,b),e.start());e.Xa(this);for(var h=0;h<this.children.length;h++)this.children[h].nd(b);e.stop();this.Ta&&b.Pb.bj(this.Ta,b);this.Se&&b.Ze.Dv();e.start()}else for(b.Ma.Xa(this),h=0;h<this.children.length;h++)this.children[h].nd(b,e)}},n.ka.prototype.$d=function(b,g){if(!(!this.visible||0===this.alpha||
!this.df||0>=this.c.la.width||0>=this.c.la.height)){var e=this.na;if(g&&(e=g),this.cc!==b.qc&&(b.qc=this.cc,b.context.globalCompositeOperation=n.Yp[b.qc]),this.Ta&&b.Pb.dj(this.Ta,b),this.c.valid){var h=this.c.A.I/b.I;b.context.globalAlpha=this.Tc;b.ao&&b.Qb!==this.c.A.Qb&&(b.Qb=this.c.A.Qb,b.context[b.ao]=b.Qb===n.tc.LINEAR);var k=this.c.trim?this.c.trim.x-this.anchor.x*this.c.trim.width:this.anchor.x*-this.c.frame.width,l=this.c.trim?this.c.trim.y-this.anchor.y*this.c.trim.height:this.anchor.y*
-this.c.frame.height,a=e.qa*b.I+b.Yn,c=e.oa*b.I+b.Zn;b.xr?(b.context.setTransform(e.R,e.L,e.ha,e.d,0|a,0|c),k|=0,l|=0):b.context.setTransform(e.R,e.L,e.ha,e.d,a,c);e=this.c.la.width;a=this.c.la.height;(k/=h,l/=h,16777215!==this.Gb)?((this.c.Nl||this.cn!==this.Gb)&&(this.Kr=n.se.ZG(this,this.Gb),this.cn=this.Gb,this.c.Nl=!1),b.context.drawImage(this.Kr,0,0,e,a,k,l,e/h,a/h)):b.context.drawImage(this.c.A.source,this.c.la.x,this.c.la.y,e,a,k,l,e/h,a/h)}for(h=0;h<this.children.length;h++)this.children[h].$d(b);
this.Ta&&b.Pb.bj(b)}},n.Wd=function(){n.Ra.call(this);this.ready=!1},n.Wd.prototype=Object.create(n.Ra.prototype),n.Wd.prototype.constructor=n.Wd,n.Wd.prototype.NR=function(b){this.Au=new n.ug(b);this.ready=!0},n.Wd.prototype.Cb=function(){this.qu()},n.Wd.prototype.nd=function(b){!this.visible||0>=this.alpha||!this.children.length||(this.ready||this.NR(b.H),this.Au.H!==b.H&&this.Au.Ge(b.H),b.Ma.stop(),b.uc.rk(b.uc.iz),this.Au.Wp(this,b),this.Au.Xa(this),b.Ma.start())},n.Wd.prototype.$d=function(b){if(this.visible&&
!(0>=this.alpha)&&this.children.length){var g=b.context;g.globalAlpha=this.Tc;this.qu();for(var e=this.na,h=!0,k=0;k<this.children.length;k++){var l=this.children[k];if(l.visible){var a=l.c,c=a.frame;if(g.globalAlpha=this.Tc*l.alpha,0===l.rotation%(2*Math.PI))h&&(g.setTransform(e.R,e.L,e.ha,e.d,e.qa,e.oa),h=!1),g.drawImage(a.A.source,c.x,c.y,c.width,c.height,l.anchor.x*-c.width*l.scale.x+l.position.x+.5+b.Yn|0,l.anchor.y*-c.height*l.scale.y+l.position.y+.5+b.Zn|0,c.width*l.scale.x,c.height*l.scale.y);
else{h||(h=!0);l.qu();var d=l.na,f=d.qa*b.I+b.Yn,m=d.oa*b.I+b.Zn;b.xr?g.setTransform(d.R,d.L,d.ha,d.d,0|f,0|m):g.setTransform(d.R,d.L,d.ha,d.d,f,m);g.drawImage(a.A.source,c.x,c.y,c.width,c.height,l.anchor.x*-c.width+.5|0,l.anchor.y*-c.height+.5|0,c.width,c.height)}}}}},n.Rh=function(b){return[(b>>16&255)/255,(b>>8&255)/255,(255&b)/255]},n.U4=function(b){return(255*b[0]<<16)+(255*b[1]<<8)+255*b[2]},n.pF=function(){if(void 0===document)return!1;var b=new Image;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/AP804Oa6AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";
var g=new Image;g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX//wCKxvRFAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";var e=n.ab.create(this,6,1).getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(b,0,0),e.drawImage(g,2,0),!e.getImageData(2,0,1,1))return!1;b=e.getImageData(2,0,1,1).data;return n.ab.remove(this),255===b[0]&&0===b[1]&&0===b[2]},n.WG=function(b){if(0<b&&0===(b&b-1))return b;for(var g=1;g<b;)g<<=1;return g},n.eS=function(b,g){return 0<
b&&0===(b&b-1)&&0<g&&0===(g&g-1)},n.ab={create:function(b,g,e){var h=n.ab.hR();-1===h?(b={parent:b,canvas:document.createElement("canvas")},n.ab.nk.push(b),b=b.canvas):(n.ab.nk[h].parent=b,b=n.ab.nk[h].canvas);return void 0!==g&&(b.width=g,b.height=e),b},hR:function(){for(var b=n.ab.nk,g=0;g<b.length;g++)if(!b[g].parent)return g;return-1},remove:function(b){for(var g=n.ab.nk,e=0;e<g.length;e++)g[e].parent===b&&(g[e].parent=null,g[e].canvas.width=1,g[e].canvas.height=1)},cV:function(b){for(var g=n.ab.nk,
e=0;e<g.length;e++)g[e].canvas===b&&(g[e].parent=null,g[e].canvas.width=1,g[e].canvas.height=1)},Y2:function(){for(var b=n.ab.nk,g=0,e=0;e<b.length;e++)b[e].parent&&g++;return g},P2:function(){for(var b=n.ab.nk,g=0,e=0;e<b.length;e++)b[e].parent||g++;return g}},n.ab.nk=[],n.m3=function(){},n.BL=function(b,g){return n.vD(b,g,b.VERTEX_SHADER)},n.AL=function(b,g){return n.vD(b,g,b.FRAGMENT_SHADER)},n.vD=function(b,g,e){var h=g;Array.isArray(g)&&(h=g.join("\n"));g=b.createShader(e);return b.shaderSource(g,
h),b.compileShader(g),b.getShaderParameter(g,b.COMPILE_STATUS)?g:(window.console.log(b.getShaderInfoLog(g)),null)},n.cq=function(b,g,e){e=n.AL(b,e);g=n.BL(b,g);var h=b.createProgram();return b.attachShader(h,g),b.attachShader(h,e),b.linkProgram(h),b.getProgramParameter(h,b.LINK_STATUS)||(window.console.log(b.getProgramInfoLog(h)),window.console.log("Could not initialise shaders")),h},n.mf=function(b){this.Pf=n.Pf++;this.H=b;this.Ee=null;this.Md=["precision lowp float;","varying vec2 vTextureCoord;",
"varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"];this.ij=0;this.m=!0;this.attributes=[];this.rb()},n.mf.prototype.constructor=n.mf,n.mf.prototype.rb=function(){var b=this.H,g=n.cq(b,this.Ck||n.mf.dQ,this.Md);b.useProgram(g);this.Tg=b.getUniformLocation(g,"projectionVector");this.Vh=b.getUniformLocation(g,"offsetVector");this.ln=b.getUniformLocation(g,"dimensions");this.Hd=b.getAttribLocation(g,"aVertexPosition");
this.uh=b.getAttribLocation(g,"aTextureCoord");this.fe=b.getAttribLocation(g,"aColor");-1===this.fe&&(this.fe=2);this.attributes=[this.Hd,this.uh,this.fe];for(var e in this.nb)this.nb[e].em=b.getUniformLocation(g,e);this.MR();this.Ee=g},n.mf.prototype.MR=function(){this.ij=1;var b,g=this.H,e;for(e in this.nb){b=this.nb[e];var h=b.type;"sampler2D"===h?(b.MD=!1,null!==b.value&&this.pH(b)):"mat2"===h||"mat3"===h||"mat4"===h?(b.zR=!0,b.Uj=1,"mat2"===h?b.Tj=g.uniformMatrix2fv:"mat3"===h?b.Tj=g.uniformMatrix3fv:
"mat4"===h&&(b.Tj=g.uniformMatrix4fv)):(b.Tj=g["uniform"+h],"2f"===h||"2i"===h?b.Uj=2:"3f"===h||"3i"===h?b.Uj=3:"4f"===h||"4i"===h?b.Uj=4:b.Uj=1)}},n.mf.prototype.pH=function(b){if(b.value&&b.value.A&&b.value.A.ye){var g=this.H;if(g.activeTexture(g["TEXTURE"+this.ij]),g.bindTexture(g.TEXTURE_2D,b.value.A.Dd[g.id]),b.Jr){var e=b.Jr,h=e.wS?e.wS:g.LINEAR,k=e.FS?e.FS:g.LINEAR,l=e.SX?e.SX:g.CLAMP_TO_EDGE,a=e.TX?e.TX:g.CLAMP_TO_EDGE,c=e.H3?g.LUMINANCE:g.RGBA;(e.repeat&&(l=g.REPEAT,a=g.REPEAT),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
!!e.Rj),e.width)?g.texImage2D(g.TEXTURE_2D,0,c,e.width?e.width:512,e.height?e.height:2,e.border?e.border:0,c,g.UNSIGNED_BYTE,null):g.texImage2D(g.TEXTURE_2D,0,c,g.RGBA,g.UNSIGNED_BYTE,b.value.A.source);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,h);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,k);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,l);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,a)}g.uniform1i(b.em,this.ij);b.MD=!0;this.ij++}},n.mf.prototype.KB=function(){this.ij=1;var b,g=this.H,
e;for(e in this.nb)b=this.nb[e],1===b.Uj?!0===b.zR?b.Tj.call(g,b.em,b.z5,b.value):b.Tj.call(g,b.em,b.value):2===b.Uj?b.Tj.call(g,b.em,b.value.x,b.value.y):3===b.Uj?b.Tj.call(g,b.em,b.value.x,b.value.y,b.value.z):4===b.Uj?b.Tj.call(g,b.em,b.value.x,b.value.y,b.value.z,b.value.qo):"sampler2D"===b.type&&(b.MD?(g.activeTexture(g["TEXTURE"+this.ij]),b.value.A.Uk[g.id]?n.Qz[g.id].ng(b.value.A):g.bindTexture(g.TEXTURE_2D,b.value.A.Dd[g.id]),g.uniform1i(b.em,this.ij),this.ij++):this.pH(b))},n.mf.prototype.j=
function(){this.H.deleteProgram(this.Ee);this.attributes=this.H=this.nb=null},n.mf.dQ=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);",
"}"],n.So=function(b){this.Pf=n.Pf++;this.H=b;this.Ee=null;this.Md=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"];this.Ck=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;",
"uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;",
"}"];this.ij=0;this.rb()},n.So.prototype.constructor=n.So,n.So.prototype.rb=function(){var b=this.H,g=n.cq(b,this.Ck,this.Md);b.useProgram(g);this.Tg=b.getUniformLocation(g,"projectionVector");this.Vh=b.getUniformLocation(g,"offsetVector");this.ln=b.getUniformLocation(g,"dimensions");this.eX=b.getUniformLocation(g,"uMatrix");this.Hd=b.getAttribLocation(g,"aVertexPosition");this.wE=b.getAttribLocation(g,"aPositionCoord");this.yE=b.getAttribLocation(g,"aScale");this.xE=b.getAttribLocation(g,"aRotation");
this.uh=b.getAttribLocation(g,"aTextureCoord");this.fe=b.getAttribLocation(g,"aColor");-1===this.fe&&(this.fe=2);this.attributes=[this.Hd,this.wE,this.yE,this.xE,this.uh,this.fe];this.Ee=g},n.So.prototype.j=function(){this.H.deleteProgram(this.Ee);this.attributes=this.H=this.nb=null},n.$o=function(b){this.Pf=n.Pf++;this.H=b;this.Ee=null;this.Md=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;",
"}"];this.Ck=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"];this.rb()},n.$o.prototype.constructor=n.$o,
n.$o.prototype.rb=function(){var b=this.H,g=n.cq(b,this.Ck,this.Md);b.useProgram(g);this.Tg=b.getUniformLocation(g,"projectionVector");this.Vh=b.getUniformLocation(g,"offsetVector");this.fe=b.getAttribLocation(g,"aColor");this.Hd=b.getAttribLocation(g,"aVertexPosition");this.uh=b.getAttribLocation(g,"aTextureCoord");this.attributes=[this.Hd,this.uh];this.jo=b.getUniformLocation(g,"translationMatrix");this.alpha=b.getUniformLocation(g,"alpha");this.Ee=g},n.$o.prototype.j=function(){this.H.deleteProgram(this.Ee);
this.H=this.nb=null},n.Uo=function(b){this.Pf=n.Pf++;this.H=b;this.Ee=null;this.Md=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"];this.Ck=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);",
"   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"];this.rb()},n.Uo.prototype.constructor=n.Uo,n.Uo.prototype.rb=function(){var b=this.H,g=n.cq(b,this.Ck,this.Md);b.useProgram(g);this.Tg=b.getUniformLocation(g,"projectionVector");this.Vh=b.getUniformLocation(g,"offsetVector");this.qw=b.getUniformLocation(g,"tint");this.Rj=b.getUniformLocation(g,"flipY");this.Hd=
b.getAttribLocation(g,"aVertexPosition");this.fe=b.getAttribLocation(g,"aColor");this.attributes=[this.Hd,this.fe];this.jo=b.getUniformLocation(g,"translationMatrix");this.alpha=b.getUniformLocation(g,"alpha");this.Ee=g},n.Uo.prototype.j=function(){this.H.deleteProgram(this.Ee);this.attributes=this.H=this.nb=null},n.Fo=function(b){this.Pf=n.Pf++;this.H=b;this.Ee=null;this.Md=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"];this.Ck=["attribute vec2 aVertexPosition;",
"uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"];this.rb()},n.Fo.prototype.constructor=
n.Fo,n.Fo.prototype.rb=function(){var b=this.H,g=n.cq(b,this.Ck,this.Md);b.useProgram(g);this.Tg=b.getUniformLocation(g,"projectionVector");this.Vh=b.getUniformLocation(g,"offsetVector");this.qw=b.getUniformLocation(g,"tint");this.color=b.getUniformLocation(g,"color");this.Rj=b.getUniformLocation(g,"flipY");this.Hd=b.getAttribLocation(g,"aVertexPosition");this.attributes=[this.Hd,this.fe];this.jo=b.getUniformLocation(g,"translationMatrix");this.alpha=b.getUniformLocation(g,"alpha");this.Ee=g},n.Fo.prototype.j=
function(){this.H.deleteProgram(this.Ee);this.H=this.nb=null},n.Dz=[],n.Qz=[],n.pf=function(b){this.a=b;n.lq||(n.lq=this);this.type=n.Mk;this.I=b.I;this.Ie=b.Ie;this.sy=!1;this.preserveDrawingBuffer=b.preserveDrawingBuffer;this.gn=b.gn;this.width=b.width;this.height=b.height;this.view=b.canvas;this.FD={alpha:this.Ie,antialias:b.antialias,premultipliedAlpha:this.Ie&&"notMultiplied"!==this.Ie,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer};this.vd=new n.h;this.offset=new n.h;this.uc=new n.Ok;
this.Ma=new n.vg;this.Pb=new n.Nk;this.Ze=new n.mh;this.gf=new n.Pk;this.vh=new n.ym;this.N={};this.N.a=this.a;this.N.H=this.H;this.N.pq=0;this.N.uc=this.uc;this.N.Pb=this.Pb;this.N.Ze=this.Ze;this.N.vh=this.vh;this.N.Ma=this.Ma;this.N.gf=this.gf;this.N.Ha=this;this.N.I=this.I;this.oH();this.gA()},n.pf.prototype.constructor=n.pf,n.pf.prototype.oH=function(){var b=this.view.getContext("webgl",this.FD)||this.view.getContext("experimental-webgl",this.FD);if(this.H=b,!b)throw Error("This browser does not support webGL. Try using the canvas renderer");
this.yl=b.id=n.pf.yl++;n.Dz[this.yl]=b;n.Qz[this.yl]=this;b.disable(b.DEPTH_TEST);b.disable(b.CULL_FACE);b.enable(b.BLEND);this.uc.Ge(b);this.Ma.Ge(b);this.Pb.Ge(b);this.Ze.Ge(b);this.vh.Ge(b);this.gf.Ge(b);this.N.H=this.H;this.resize(this.width,this.height)},n.pf.prototype.Xa=function(b){if(!this.ku){var g=this.H;g.viewport(0,0,this.width,this.height);g.bindFramebuffer(g.FRAMEBUFFER,null);this.a.gn&&(g.clearColor(b.Cd.r,b.Cd.vb,b.Cd.L,b.Cd.R),g.clear(g.COLOR_BUFFER_BIT));this.offset.x=this.a.K.Ja.x;
this.offset.y=this.a.K.Ja.y;this.ur(b,this.vd)}},n.pf.prototype.ur=function(b,g,e,h){this.N.vh.zr(n.Ve.ui);this.N.pq=0;this.N.Rj=e?-1:1;this.N.vd=g;this.N.offset=this.offset;this.Ma.Wp(this.N);this.Ze.Wp(this.N,e);b.nd(this.N,h);this.Ma.end()},n.pf.prototype.resize=function(b,g){this.width=b*this.I;this.height=g*this.I;this.view.width=this.width;this.view.height=this.height;this.sy&&(this.view.style.width=this.width/this.I+"px",this.view.style.height=this.height/this.I+"px");this.H.viewport(0,0,this.width,
this.height);this.vd.x=this.width/2/this.I;this.vd.y=-this.height/2/this.I},n.pf.prototype.ng=function(b){if(!b.ye)return!1;var g=this.H;return b.Dd[g.id]||(b.Dd[g.id]=g.createTexture()),g.bindTexture(g.TEXTURE_2D,b.Dd[g.id]),g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultipliedAlpha),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,b.source),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,b.Qb===n.tc.LINEAR?g.LINEAR:g.NEAREST),b.JS&&n.eS(b.width,b.height)?(g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,b.Qb===n.tc.LINEAR?g.LINEAR_MIPMAP_LINEAR:g.NEAREST_MIPMAP_NEAREST),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b.Qb===n.tc.LINEAR?g.LINEAR:g.NEAREST),b.eE?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE)),b.Uk[g.id]=!1,!0},n.pf.prototype.j=function(){this.offset=
this.vd=n.Dz[this.yl]=null;this.uc.j();this.Ma.j();this.Pb.j();this.Ze.j();this.N=this.H=this.Ze=this.Pb=this.Ma=this.uc=null;n.ab.remove(this);n.Qz[this.yl]=null;n.pf.yl--},n.pf.prototype.gA=function(){var b=this.H;if(!n.wy){var g=[],e=n.Ve;g[e.ui]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.lC]=[b.SRC_ALPHA,b.DST_ALPHA];g[e.Sw]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];g[e.iD]=[b.SRC_ALPHA,b.ONE];g[e.UC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.yC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.KC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.vC]=
[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.uC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.FC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.jD]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.zC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.CC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.GC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.hD]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.tC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];g[e.MC]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];n.wy=g}},n.pf.yl=0,n.ym=function(){this.qc=99999},n.ym.prototype.constructor=n.ym,n.ym.prototype.Ge=function(b){this.H=b},n.ym.prototype.zr=
function(b){if(this.qc===b)return!1;this.qc=b;b=n.wy[this.qc];return b&&this.H.blendFunc(b[0],b[1]),!0},n.ym.prototype.j=function(){this.H=null},n.Nk=function(){},n.Nk.prototype.constructor=n.Nk,n.Nk.prototype.Ge=function(b){this.H=b},n.Nk.prototype.dj=function(b,g){var e=g.H;b.m&&n.Fa.HK(b,e);void 0!==b.Cg[e.id]&&void 0!==b.Cg[e.id].data&&0!==b.Cg[e.id].data.length&&g.gf.kJ(b,b.Cg[e.id].data[0],g)},n.Nk.prototype.bj=function(b,g){var e=this.H;void 0!==b.Cg[e.id]&&void 0!==b.Cg[e.id].data&&0!==b.Cg[e.id].data.length&&
g.gf.cJ(b,b.Cg[e.id].data[0],g)},n.Nk.prototype.j=function(){this.H=null},n.Pk=function(){this.Gr=[];this.reverse=!0;this.count=0},n.Pk.prototype.Ge=function(b){this.H=b},n.Pk.prototype.kJ=function(b,g,e){var h=this.H;this.VE(b,g,e);0===this.Gr.length&&(h.enable(h.STENCIL_TEST),h.clear(h.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0);this.Gr.push(g);b=this.count;h.colorMask(!1,!1,!1,!1);h.stencilFunc(h.ALWAYS,0,255);h.stencilOp(h.KEEP,h.KEEP,h.INVERT);1===g.mode?(h.drawElements(h.TRIANGLE_FAN,
g.Ea.length-4,h.UNSIGNED_SHORT,0),this.reverse?(h.stencilFunc(h.EQUAL,255-b,255),h.stencilOp(h.KEEP,h.KEEP,h.DECR)):(h.stencilFunc(h.EQUAL,b,255),h.stencilOp(h.KEEP,h.KEEP,h.INCR)),h.drawElements(h.TRIANGLE_FAN,4,h.UNSIGNED_SHORT,2*(g.Ea.length-4)),this.reverse?h.stencilFunc(h.EQUAL,255-(b+1),255):h.stencilFunc(h.EQUAL,b+1,255),this.reverse=!this.reverse):(this.reverse?(h.stencilFunc(h.EQUAL,b,255),h.stencilOp(h.KEEP,h.KEEP,h.INCR)):(h.stencilFunc(h.EQUAL,255-b,255),h.stencilOp(h.KEEP,h.KEEP,h.DECR)),
h.drawElements(h.TRIANGLE_STRIP,g.Ea.length,h.UNSIGNED_SHORT,0),this.reverse?h.stencilFunc(h.EQUAL,b+1,255):h.stencilFunc(h.EQUAL,255-(b+1),255));h.colorMask(!0,!0,!0,!0);h.stencilOp(h.KEEP,h.KEEP,h.KEEP);this.count++},n.Pk.prototype.VE=function(b,g,e){var h,k=this.H,l=e.vd,a=e.offset;1===g.mode?(h=e.uc.OF,e.uc.rk(h),k.uniform1f(h.Rj,e.Rj),k.uniformMatrix3fv(h.jo,!1,b.na.Lr(!0)),k.uniform2f(h.Tg,l.x,-l.y),k.uniform2f(h.Vh,-a.x,-a.y),k.uniform3fv(h.qw,n.Rh(b.Gb)),k.uniform3fv(h.color,g.color),k.uniform1f(h.alpha,
b.Tc*g.alpha),k.bindBuffer(k.ARRAY_BUFFER,g.buffer),k.vertexAttribPointer(h.Hd,2,k.FLOAT,!1,8,0),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,g.ie)):(h=e.uc.Hv,e.uc.rk(h),k.uniformMatrix3fv(h.jo,!1,b.na.Lr(!0)),k.uniform1f(h.Rj,e.Rj),k.uniform2f(h.Tg,l.x,-l.y),k.uniform2f(h.Vh,-a.x,-a.y),k.uniform3fv(h.qw,n.Rh(b.Gb)),k.uniform1f(h.alpha,b.Tc),k.bindBuffer(k.ARRAY_BUFFER,g.buffer),k.vertexAttribPointer(h.Hd,2,k.FLOAT,!1,24,0),k.vertexAttribPointer(h.fe,4,k.FLOAT,!1,24,8),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,
g.ie))},n.Pk.prototype.cJ=function(b,g,e){var h=this.H;if(this.Gr.pop(),this.count--,0===this.Gr.length)h.disable(h.STENCIL_TEST);else{var k=this.count;this.VE(b,g,e);h.colorMask(!1,!1,!1,!1);1===g.mode?(this.reverse=!this.reverse,this.reverse?(h.stencilFunc(h.EQUAL,255-(k+1),255),h.stencilOp(h.KEEP,h.KEEP,h.INCR)):(h.stencilFunc(h.EQUAL,k+1,255),h.stencilOp(h.KEEP,h.KEEP,h.DECR)),h.drawElements(h.TRIANGLE_FAN,4,h.UNSIGNED_SHORT,2*(g.Ea.length-4)),h.stencilFunc(h.ALWAYS,0,255),h.stencilOp(h.KEEP,
h.KEEP,h.INVERT),h.drawElements(h.TRIANGLE_FAN,g.Ea.length-4,h.UNSIGNED_SHORT,0),this.reverse?h.stencilFunc(h.EQUAL,k,255):h.stencilFunc(h.EQUAL,255-k,255)):(this.reverse?(h.stencilFunc(h.EQUAL,k+1,255),h.stencilOp(h.KEEP,h.KEEP,h.DECR)):(h.stencilFunc(h.EQUAL,255-(k+1),255),h.stencilOp(h.KEEP,h.KEEP,h.INCR)),h.drawElements(h.TRIANGLE_STRIP,g.Ea.length,h.UNSIGNED_SHORT,0),this.reverse?h.stencilFunc(h.EQUAL,k,255):h.stencilFunc(h.EQUAL,255-k,255));h.colorMask(!0,!0,!0,!0);h.stencilOp(h.KEEP,h.KEEP,
h.KEEP)}},n.Pk.prototype.j=function(){this.H=this.Gr=null},n.Ok=function(){this.yS=10;this.Vp=[];this.Xl=[];for(var b=0;b<this.yS;b++)this.Vp[b]=!1;this.stack=[]},n.Ok.prototype.constructor=n.Ok,n.Ok.prototype.Ge=function(b){this.H=b;this.Hv=new n.Uo(b);this.OF=new n.Fo(b);this.Fh=new n.mf(b);this.iz=new n.So(b);this.IB=new n.$o(b);this.rk(this.Fh)},n.Ok.prototype.OV=function(b){var g;for(g=0;g<this.Xl.length;g++)this.Xl[g]=!1;for(g=0;g<b.length;g++)this.Xl[b[g]]=!0;b=this.H;for(g=0;g<this.Vp.length;g++)this.Vp[g]!==
this.Xl[g]&&(this.Vp[g]=this.Xl[g],this.Xl[g]?b.enableVertexAttribArray(g):b.disableVertexAttribArray(g))},n.Ok.prototype.rk=function(b){return this.TM!==b.Pf&&(this.TM=b.Pf,this.H.useProgram(b.Ee),this.OV(b.attributes),!0)},n.Ok.prototype.j=function(){this.Xl=this.Vp=null;this.Hv.j();this.OF.j();this.Fh.j();this.iz.j();this.IB.j();this.H=null},n.vg=function(){this.ii=5;this.size=2E3;var b=6*this.size;this.u=new n.ArrayBuffer(16*this.size*this.ii);this.KA=new n.Float32Array(this.u);this.xe=new n.Uint32Array(this.u);
this.Ea=new n.Uint16Array(b);for(var g=0,e=0;g<b;g+=6,e+=4)this.Ea[g+0]=e+0,this.Ea[g+1]=e+1,this.Ea[g+2]=e+2,this.Ea[g+3]=e+0,this.Ea[g+4]=e+2,this.Ea[g+5]=e+3;this.Nc=0;this.Ch=null;this.m=!0;this.Ve=[];this.di=[];this.FB=[];this.Fh=new n.ks(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},n.vg.prototype.Ge=function(b){this.H=b;this.Lf=b.createBuffer();
this.ie=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.ie);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.Ea,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this.Lf);b.bufferData(b.ARRAY_BUFFER,this.u,b.DYNAMIC_DRAW);this.qc=99999;var g=new n.mf(b);g.Md=this.Fh.Md;g.nb={};g.rb();this.Fh.di[b.id]=g},n.vg.prototype.Wp=function(b){this.N=b;this.wd=this.N.uc.Fh;this.start()},n.vg.prototype.end=function(){this.flush()},n.vg.prototype.Xa=function(b,g){var e=b.c,h=b.na;g&&(h=g);this.Nc>=this.size&&(this.flush(),
this.Ch=e.A);var k=e.Gd;if(k){var l,a,c,d;a=b.anchor.x;var f=b.anchor.y;e.trim?(c=e.trim,a=c.x-a*c.width,l=a+e.la.width,d=c.y-f*c.height,c=d+e.la.height):(l=e.frame.width*(1-a),a=e.frame.width*-a,c=e.frame.height*(1-f),d=e.frame.height*-f);var f=4*this.Nc*this.ii,m=e.A.I,e=h.R/m,p=h.L/m,r=h.ha/m,m=h.d/m,u=h.qa,w=h.oa,h=this.xe,q=this.KA;this.N.xr?(q[f]=e*a+r*d+u|0,q[f+1]=m*d+p*a+w|0,q[f+5]=e*l+r*d+u|0,q[f+6]=m*d+p*l+w|0,q[f+10]=e*l+r*c+u|0,q[f+11]=m*c+p*l+w|0,q[f+15]=e*a+r*c+u|0,q[f+16]=m*c+p*a+w|
0):(q[f]=e*a+r*d+u,q[f+1]=m*d+p*a+w,q[f+5]=e*l+r*d+u,q[f+6]=m*d+p*l+w,q[f+10]=e*l+r*c+u,q[f+11]=m*c+p*l+w,q[f+15]=e*a+r*c+u,q[f+16]=m*c+p*a+w);q[f+2]=k.as;q[f+3]=k.zw;q[f+7]=k.bs;q[f+8]=k.uo;q[f+12]=k.cs;q[f+13]=k.fs;q[f+17]=k.ds;q[f+18]=k.gs;k=b.Gb;h[f+4]=h[f+9]=h[f+14]=h[f+19]=(k>>16)+(65280&k)+((255&k)<<16)+(255*b.Tc<<24);this.FB[this.Nc++]=b}},n.vg.prototype.pV=function(b){var g=b.kc;this.Nc>=this.size&&(this.flush(),this.Ch=g.A);b.Gd||(b.Gd=new n.qD);var e=b.Gd,h=g.A.width,k=g.A.height;b.jf.x%=
h*b.jj.x;b.jf.y%=k*b.jj.y;var l=b.jf.x/(h*b.jj.x),a=b.jf.y/(k*b.jj.y),h=b.width/h/(b.pw.x*b.jj.x),k=b.height/k/(b.pw.y*b.jj.y);e.as=0-l;e.zw=0-a;e.bs=1*h-l;e.uo=0-a;e.cs=1*h-l;e.fs=1*k-a;e.ds=0-l;e.gs=1*k-a;var l=b.Gb,l=(l>>16)+(65280&l)+((255&l)<<16)+(255*b.Tc<<24),a=this.KA,k=this.xe,c=b.width,d=b.height,f=b.anchor.x,m=b.anchor.y,h=c*(1-f),c=c*-f,f=d*(1-m),d=d*-m,m=4*this.Nc*this.ii,p=g.A.I,r=b.na,g=r.R/p,u=r.L/p,w=r.ha/p,p=r.d/p,q=r.qa,r=r.oa;a[m++]=g*c+w*d+q;a[m++]=p*d+u*c+r;a[m++]=e.as;a[m++]=
e.zw;k[m++]=l;a[m++]=g*h+w*d+q;a[m++]=p*d+u*h+r;a[m++]=e.bs;a[m++]=e.uo;k[m++]=l;a[m++]=g*h+w*f+q;a[m++]=p*f+u*h+r;a[m++]=e.cs;a[m++]=e.fs;k[m++]=l;a[m++]=g*c+w*f+q;a[m++]=p*f+u*c+r;a[m++]=e.ds;a[m++]=e.gs;k[m++]=l;this.FB[this.Nc++]=b},n.vg.prototype.flush=function(){if(0!==this.Nc){var b,g=this.H;if(this.m){this.m=!1;g.activeTexture(g.TEXTURE0);g.bindBuffer(g.ARRAY_BUFFER,this.Lf);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.ie);b=this.Fh.di[g.id];var e=4*this.ii;g.vertexAttribPointer(b.Hd,2,g.FLOAT,
!1,e,0);g.vertexAttribPointer(b.uh,2,g.FLOAT,!1,e,8);g.vertexAttribPointer(b.fe,4,g.UNSIGNED_BYTE,!0,e,16)}this.Nc>.5*this.size?g.bufferSubData(g.ARRAY_BUFFER,0,this.u):g.bufferSubData(g.ARRAY_BUFFER,0,this.KA.subarray(0,4*this.Nc*this.ii));for(var h,k,l,a=e=0,c=null,d=this.N.vh.qc,f=null,m,p,r=0,u=this.Nc;r<u;r++){l=this.FB[r];b=l.kc?l.kc.A:l.c.A;h=l.cc;k=l.wd||this.Fh;m=d!==h;p=f!==k;var w=b.$n;if(w&&0<l.children.length&&(w=!1),(c!==b&&!w||m||p)&&(this.qJ(c,e,a),a=r,e=0,c=b,m&&(d=h,this.N.vh.zr(d)),
p))f=k,(b=f.di[g.id])||(b=new n.mf(g),b.Md=f.Md,b.nb=f.nb,b.rb(),f.di[g.id]=b),this.N.uc.rk(b),b.m&&b.KB(),h=this.N.vd,g.uniform2f(b.Tg,h.x,h.y),h=this.N.offset,g.uniform2f(b.Vh,h.x,h.y);e++}this.qJ(c,e,a);this.Nc=0}},n.vg.prototype.qJ=function(b,g,e){if(0!==g){var h=this.H;if(b.Uk[h.id]){if(!this.N.Ha.ng(b))return}else h.bindTexture(h.TEXTURE_2D,b.Dd[h.id]);h.drawElements(h.TRIANGLES,6*g,h.UNSIGNED_SHORT,12*e);this.N.pq++}},n.vg.prototype.stop=function(){this.flush();this.m=!0},n.vg.prototype.start=
function(){this.m=!0},n.vg.prototype.j=function(){this.Ea=this.u=null;this.H.deleteBuffer(this.Lf);this.H.deleteBuffer(this.ie);this.H=this.Ch=null},n.ug=function(b){this.ii=10;this.size=this.VH=6E3;var g=6*this.VH;this.u=new n.Float32Array(4*this.size*this.ii);this.Ea=new n.Uint16Array(g);this.ie=this.Lf=null;for(var e=0,h=0;e<g;e+=6,h+=4)this.Ea[e+0]=h+0,this.Ea[e+1]=h+1,this.Ea[e+2]=h+2,this.Ea[e+3]=h+0,this.Ea[e+4]=h+2,this.Ea[e+5]=h+3;this.Nc=0;this.Ch=null;this.qc=0;this.QH=this.wd=this.N=null;
this.Ge(b)},n.ug.prototype.constructor=n.ug,n.ug.prototype.Ge=function(b){this.H=b;this.Lf=b.createBuffer();this.ie=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.ie);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.Ea,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this.Lf);b.bufferData(b.ARRAY_BUFFER,this.u,b.DYNAMIC_DRAW)},n.ug.prototype.Wp=function(b,g){this.N=g;this.wd=this.N.uc.iz;this.QH=b.na.Lr(!0);this.start()},n.ug.prototype.end=function(){this.flush()},n.ug.prototype.Xa=function(b){b=b.children;
var g=b[0];if(g.c.Gd){this.Ch=g.c.A;g.cc!==this.N.vh.qc&&(this.flush(),this.N.vh.zr(g.cc));for(var g=0,e=b.length;g<e;g++)this.oV(b[g]);this.flush()}},n.ug.prototype.oV=function(b){if(b.visible&&(b.c.A===this.Ch||b.c.A.$n||(this.flush(),this.Ch=b.c.A,b.c.Gd))){var g,e,h,k,l,a,c=this.u;(g=b.c.Gd,b.c.trim)?(k=b.c.trim,h=k.x-b.anchor.x*k.width,e=h+b.c.la.width,l=k.y-b.anchor.y*k.height,k=l+b.c.la.height):(e=b.c.frame.width*(1-b.anchor.x),h=b.c.frame.width*-b.anchor.x,k=b.c.frame.height*(1-b.anchor.y),
l=b.c.frame.height*-b.anchor.y);a=4*this.Nc*this.ii;c[a++]=h;c[a++]=l;c[a++]=b.position.x;c[a++]=b.position.y;c[a++]=b.scale.x;c[a++]=b.scale.y;c[a++]=b.rotation;c[a++]=g.as;c[a++]=g.uo;c[a++]=b.alpha;c[a++]=e;c[a++]=l;c[a++]=b.position.x;c[a++]=b.position.y;c[a++]=b.scale.x;c[a++]=b.scale.y;c[a++]=b.rotation;c[a++]=g.bs;c[a++]=g.uo;c[a++]=b.alpha;c[a++]=e;c[a++]=k;c[a++]=b.position.x;c[a++]=b.position.y;c[a++]=b.scale.x;c[a++]=b.scale.y;c[a++]=b.rotation;c[a++]=g.cs;c[a++]=g.fs;c[a++]=b.alpha;c[a++]=
h;c[a++]=k;c[a++]=b.position.x;c[a++]=b.position.y;c[a++]=b.scale.x;c[a++]=b.scale.y;c[a++]=b.rotation;c[a++]=g.ds;c[a++]=g.gs;c[a++]=b.alpha;this.Nc++;this.Nc>=this.size&&this.flush()}},n.ug.prototype.flush=function(){if(0!==this.Nc){var b=this.H;(this.Ch.Dd[b.id]||this.N.Ha.ng(this.Ch,b),b.bindTexture(b.TEXTURE_2D,this.Ch.Dd[b.id]),this.Nc>.5*this.size)?b.bufferSubData(b.ARRAY_BUFFER,0,this.u):b.bufferSubData(b.ARRAY_BUFFER,0,this.u.subarray(0,4*this.Nc*this.ii));b.drawElements(b.TRIANGLES,6*this.Nc,
b.UNSIGNED_SHORT,0);this.Nc=0;this.N.pq++}},n.ug.prototype.stop=function(){this.flush()},n.ug.prototype.start=function(){var b=this.H;b.activeTexture(b.TEXTURE0);b.bindBuffer(b.ARRAY_BUFFER,this.Lf);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.ie);var g=this.N.vd;b.uniform2f(this.wd.Tg,g.x,g.y);b.uniformMatrix3fv(this.wd.eX,!1,this.QH);g=4*this.ii;b.vertexAttribPointer(this.wd.Hd,2,b.FLOAT,!1,g,0);b.vertexAttribPointer(this.wd.wE,2,b.FLOAT,!1,g,8);b.vertexAttribPointer(this.wd.yE,2,b.FLOAT,!1,g,16);b.vertexAttribPointer(this.wd.xE,
1,b.FLOAT,!1,g,24);b.vertexAttribPointer(this.wd.uh,2,b.FLOAT,!1,g,28);b.vertexAttribPointer(this.wd.fe,1,b.FLOAT,!1,g,36)},n.mh=function(){this.qn=[];this.offsetY=this.offsetX=0},n.mh.prototype.constructor=n.mh,n.mh.prototype.Ge=function(b){this.H=b;this.Zl=[];this.LR()},n.mh.prototype.Wp=function(b,g){this.N=b;this.Fh=b.uc.Fh;var e=this.N.vd;this.width=2*e.x;this.height=2*-e.y;this.buffer=g},n.mh.prototype.Jv=function(b){var g=this.H,e=this.N.vd,h=this.N.offset;b.Em=b.target.jz||b.target.xa();b.iE=
this.N.gf;this.N.gf=new n.Pk;this.N.gf.Ge(g);g.disable(g.STENCIL_TEST);this.qn.push(b);var k=b.pn[0];this.offsetX+=b.Em.x;this.offsetY+=b.Em.y;var l=this.Zl.pop();l?l.resize(this.width*this.N.I,this.height*this.N.I):l=new n.qj(this.H,this.width*this.N.I,this.height*this.N.I);g.bindTexture(g.TEXTURE_2D,l.c);var a=b.Em,k=k.padding;a.x-=k;a.y-=k;a.width+=2*k;a.height+=2*k;0>a.x&&(a.x=0);a.width>this.width&&(a.width=this.width);0>a.y&&(a.y=0);a.height>this.height&&(a.height=this.height);g.bindFramebuffer(g.FRAMEBUFFER,
l.$f);g.viewport(0,0,a.width*this.N.I,a.height*this.N.I);e.x=a.width/2;e.y=-a.height/2;h.x=-a.x;h.y=-a.y;g.colorMask(!0,!0,!0,!0);g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT);b.rx=l},n.mh.prototype.Dv=function(){var b=this.H,g=this.qn.pop(),e=g.Em,h=g.rx,k=this.N.vd,l=this.N.offset;if(1<g.pn.length){b.viewport(0,0,e.width*this.N.I,e.height*this.N.I);b.bindBuffer(b.ARRAY_BUFFER,this.Lf);this.Gc[0]=0;this.Gc[1]=e.height;this.Gc[2]=e.width;this.Gc[3]=e.height;this.Gc[4]=0;this.Gc[5]=0;this.Gc[6]=
e.width;this.Gc[7]=0;b.bufferSubData(b.ARRAY_BUFFER,0,this.Gc);b.bindBuffer(b.ARRAY_BUFFER,this.Sr);this.dh[2]=e.width/this.width;this.dh[5]=e.height/this.height;this.dh[6]=e.width/this.width;this.dh[7]=e.height/this.height;b.bufferSubData(b.ARRAY_BUFFER,0,this.dh);var a=this.Zl.pop();a||(a=new n.qj(this.H,this.width*this.N.I,this.height*this.N.I));a.resize(this.width*this.N.I,this.height*this.N.I);b.bindFramebuffer(b.FRAMEBUFFER,a.$f);b.clear(b.COLOR_BUFFER_BIT);b.disable(b.BLEND);for(var c=0;c<
g.pn.length-1;c++){var d=g.pn[c];b.bindFramebuffer(b.FRAMEBUFFER,a.$f);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,h.c);this.RE(d,e,e.width,e.height);d=h;h=a;a=d}b.enable(b.BLEND);this.Zl.push(a)}a=g.pn[g.pn.length-1];this.offsetX-=e.x;this.offsetY-=e.y;var c=this.width,d=this.height,f=0,m=0,p=this.buffer;0===this.qn.length?b.colorMask(!0,!0,!0,!0):(p=this.qn[this.qn.length-1],e=p.Em,c=e.width,d=e.height,f=e.x,m=e.y,p=p.rx.$f);k.x=c/2;k.y=-d/2;l.x=f;l.y=m;e=g.Em;k=e.x-f;l=e.y-m;b.bindBuffer(b.ARRAY_BUFFER,
this.Lf);this.Gc[0]=k;this.Gc[1]=l+e.height;this.Gc[2]=k+e.width;this.Gc[3]=l+e.height;this.Gc[4]=k;this.Gc[5]=l;this.Gc[6]=k+e.width;this.Gc[7]=l;b.bufferSubData(b.ARRAY_BUFFER,0,this.Gc);b.bindBuffer(b.ARRAY_BUFFER,this.Sr);this.dh[2]=e.width/this.width;this.dh[5]=e.height/this.height;this.dh[6]=e.width/this.width;this.dh[7]=e.height/this.height;b.bufferSubData(b.ARRAY_BUFFER,0,this.dh);b.viewport(0,0,c*this.N.I,d*this.N.I);b.bindFramebuffer(b.FRAMEBUFFER,p);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,
h.c);this.N.gf&&this.N.gf.j();this.N.gf=g.iE;g.iE=null;0<this.N.gf.count?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST);this.RE(a,e,c,d);this.Zl.push(h);g.rx=null},n.mh.prototype.RE=function(b,g,e,h){g=this.H;var k=b.di[g.id];k||(k=new n.mf(g),k.Md=b.Md,k.nb=b.nb,k.rb(),b.di[g.id]=k);this.N.uc.rk(k);g.uniform2f(k.Tg,e/2,-h/2);g.uniform2f(k.Vh,0,0);b.nb.ln&&(b.nb.ln.value[0]=this.width,b.nb.ln.value[1]=this.height,b.nb.ln.value[2]=this.Gc[0],b.nb.ln.value[3]=this.Gc[5]);k.KB();g.bindBuffer(g.ARRAY_BUFFER,
this.Lf);g.vertexAttribPointer(k.Hd,2,g.FLOAT,!1,0,0);g.bindBuffer(g.ARRAY_BUFFER,this.Sr);g.vertexAttribPointer(k.uh,2,g.FLOAT,!1,0,0);g.bindBuffer(g.ARRAY_BUFFER,this.Ny);g.vertexAttribPointer(k.fe,2,g.FLOAT,!1,0,0);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.ie);g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0);this.N.pq++},n.mh.prototype.LR=function(){var b=this.H;this.Lf=b.createBuffer();this.Sr=b.createBuffer();this.Ny=b.createBuffer();this.ie=b.createBuffer();this.Gc=new n.Float32Array([0,0,1,
0,0,1,1,1]);b.bindBuffer(b.ARRAY_BUFFER,this.Lf);b.bufferData(b.ARRAY_BUFFER,this.Gc,b.STATIC_DRAW);this.dh=new n.Float32Array([0,0,1,0,0,1,1,1]);b.bindBuffer(b.ARRAY_BUFFER,this.Sr);b.bufferData(b.ARRAY_BUFFER,this.dh,b.STATIC_DRAW);this.HP=new n.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]);b.bindBuffer(b.ARRAY_BUFFER,this.Ny);b.bufferData(b.ARRAY_BUFFER,this.HP,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.ie);b.bufferData(b.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,
3,2]),b.STATIC_DRAW)},n.mh.prototype.j=function(){var b=this.H;this.qn=null;for(var g=this.offsetY=this.offsetX=0;g<this.Zl.length;g++)this.Zl[g].j();this.Zl=null;b.deleteBuffer(this.Lf);b.deleteBuffer(this.Sr);b.deleteBuffer(this.Ny);b.deleteBuffer(this.ie)},n.qj=function(b,g,e,h){this.H=b;this.$f=b.createFramebuffer();this.c=b.createTexture();h=h||n.tc.DEFAULT;b.bindTexture(b.TEXTURE_2D,this.c);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,h===n.tc.LINEAR?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_MIN_FILTER,h===n.tc.LINEAR?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.bindFramebuffer(b.FRAMEBUFFER,this.$f);b.bindFramebuffer(b.FRAMEBUFFER,this.$f);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.c,0);this.YA=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,this.YA);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,
this.YA);this.resize(g,e)},n.qj.prototype.constructor=n.qj,n.qj.prototype.clear=function(){var b=this.H;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)},n.qj.prototype.resize=function(b,g){if(this.width!==b||this.height!==g){this.width=b;this.height=g;var e=this.H;e.bindTexture(e.TEXTURE_2D,this.c);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,b,g,0,e.RGBA,e.UNSIGNED_BYTE,null);e.bindRenderbuffer(e.RENDERBUFFER,this.YA);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,b,g)}},n.qj.prototype.j=function(){var b=
this.H;b.deleteFramebuffer(this.$f);b.deleteTexture(this.c);this.c=this.$f=null},n.pg=function(b,g){this.width=b;this.height=g;this.canvas=n.ab.create(this,this.width,this.height);this.context=this.canvas.getContext("2d");this.canvas.width=b;this.canvas.height=g},n.pg.prototype.constructor=n.pg,n.pg.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.width,this.height)},n.pg.prototype.resize=function(b,g){this.width=this.canvas.width=b;this.height=this.canvas.height=
g},n.pg.prototype.j=function(){n.ab.remove(this)},n.Eo=function(){},n.Eo.prototype.constructor=n.Eo,n.Eo.prototype.dj=function(b,g){var e=g.context;e.save();var h=b.alpha,k=b.na,l=g.I;e.setTransform(k.R*l,k.L*l,k.ha*l,k.d*l,k.qa*l,k.oa*l);n.Fk.nV(b,e);e.clip();b.Tc=h},n.Eo.prototype.bj=function(b){b.context.restore()},n.se=function(){},n.se.ZG=function(b,g){var e=b.Kr||n.ab.create(this);return n.se.VW(b.c,g,e),e},n.se.WW=function(b,g,e){var h=e.getContext("2d"),k=b.la;e.width===k.width&&e.height===
k.height||(e.width=k.width,e.height=k.height);h.clearRect(0,0,k.width,k.height);h.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6);h.fillRect(0,0,k.width,k.height);h.globalCompositeOperation="multiply";h.drawImage(b.A.source,k.x,k.y,k.width,k.height,0,0,k.width,k.height);h.globalCompositeOperation="destination-atop";h.drawImage(b.A.source,k.x,k.y,k.width,k.height,0,0,k.width,k.height)},n.se.XW=function(b,g,e){var h=e.getContext("2d"),k=b.la;e.width=k.width;e.height=k.height;h.globalCompositeOperation=
"copy";h.drawImage(b.A.source,k.x,k.y,k.width,k.height,0,0,k.width,k.height);e=n.Rh(g);b=e[0];g=e[1];e=e[2];for(var k=h.getImageData(0,0,k.width,k.height),l=k.data,a=0;a<l.length;a+=4)if(l[a+0]*=b,l[a+1]*=g,l[a+2]*=e,!n.se.jP){var c=l[a+3];l[a+0]/=255/c;l[a+1]/=255/c;l[a+2]/=255/c}h.putImageData(k,0,0)},n.se.sP=function(){var b=new n.pg(2,1);b.context.fillStyle="rgba(10, 20, 30, 0.5)";b.context.fillRect(0,0,1,1);var g=b.context.getImageData(0,0,1,1);if(null===g)return!1;b.context.putImageData(g,1,
0);b=b.context.getImageData(1,0,1,1);return b.data[0]===g.data[0]&&b.data[1]===g.data[1]&&b.data[2]===g.data[2]&&b.data[3]===g.data[3]},n.se.jP=n.se.sP(),n.se.kP=n.pF(),n.se.VW=n.se.kP?n.se.WW:n.se.XW,n.pj=function(b){this.a=b;n.lq||(n.lq=this);this.type=n.vL;this.I=b.I;this.gn=b.gn;this.Ie=b.Ie;this.sy=!1;this.width=b.width*this.I;this.height=b.height*this.I;this.view=b.canvas;this.context=this.view.getContext("2d",{alpha:this.Ie});this.refresh=!0;this.count=0;this.Pb=new n.Eo;this.N={context:this.context,
Pb:this.Pb,Qb:null,ao:Phaser.Of.Ou(this.context),xr:!1};this.gA();this.resize(this.width,this.height)},n.pj.prototype.constructor=n.pj,n.pj.prototype.Xa=function(b){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;this.N.qc=0;this.N.Yn=this.a.K.Ja.x;this.N.Zn=this.a.K.Ja.y;this.context.globalCompositeOperation="source-over";navigator.Sz&&this.view.IJ&&(this.context.fillStyle="black",this.context.clear());this.gn&&(this.Ie?this.context.clearRect(0,0,this.width,this.height):b.Cd&&(this.context.fillStyle=
b.Cd.wr,this.context.fillRect(0,0,this.width,this.height)));this.ur(b)},n.pj.prototype.j=function(b){void 0===b&&(b=!0);b&&this.view.parent&&this.view.parent.removeChild(this.view);this.N=this.Pb=this.context=this.view=null},n.pj.prototype.resize=function(b,g){this.width=b*this.I;this.height=g*this.I;this.view.width=this.width;this.view.height=this.height;this.sy&&(this.view.style.width=this.width/this.I+"px",this.view.style.height=this.height/this.I+"px");this.N.ao&&(this.context[this.N.ao]=this.N.Qb===
n.tc.LINEAR)},n.pj.prototype.ur=function(b,g,e){this.N.context=g||this.context;this.N.I=this.I;b.$d(this.N,e)},n.pj.prototype.gA=function(){if(!n.Yp){var b=[],g=n.Ve,e=n.pF();b[g.ui]="source-over";b[g.lC]="lighter";b[g.Sw]=e?"multiply":"source-over";b[g.iD]=e?"screen":"source-over";b[g.UC]=e?"overlay":"source-over";b[g.yC]=e?"darken":"source-over";b[g.KC]=e?"lighten":"source-over";b[g.vC]=e?"color-dodge":"source-over";b[g.uC]=e?"color-burn":"source-over";b[g.FC]=e?"hard-light":"source-over";b[g.jD]=
e?"soft-light":"source-over";b[g.zC]=e?"difference":"source-over";b[g.CC]=e?"exclusion":"source-over";b[g.GC]=e?"hue":"source-over";b[g.hD]=e?"saturation":"source-over";b[g.tC]=e?"color":"source-over";b[g.MC]=e?"luminosity":"source-over";n.Yp=b}},n.Uc=function(b,g){this.I=1;this.height=this.width=100;this.Qb=g||n.tc.DEFAULT;this.ye=!1;this.source=b;this.premultipliedAlpha=!0;this.Dd=[];this.JS=!1;this.Uk=[!0,!0,!0,!0];b&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&
(this.ye=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.m()),this.$n=!1,this.eE=!1)},n.Uc.prototype.constructor=n.Uc,n.Uc.prototype.oz=function(b,g){this.ye=!0;this.width=b;this.height=g;this.m()},n.Uc.prototype.j=function(){this.source&&n.ab.cV(this.source);this.source=null;this.fX()},n.Uc.prototype.m=function(){for(var b=0;b<this.Dd.length;b++)this.Uk[b]=!0},n.Uc.prototype.fX=function(){this.m();for(var b=this.Dd.length-1;0<=
b;b--){var g=this.Dd[b],e=n.Dz[b];e&&g&&e.deleteTexture(g)}this.Dd.length=0;this.m()},n.Uc.wl=function(b,g){return 0===b.width&&(b.width=1),0===b.height&&(b.height=1),new n.Uc(b,g)},n.pD=!1,n.bb=function(b,g,e,h){this.sA=!1;g||(this.sA=!0,g=new n.v(0,0,1,1));b instanceof n.bb&&(b=b.A);this.A=b;this.frame=g;this.trim=h;this.Nl=this.rV=this.fS=this.valid=!1;this.Gd=null;this.height=this.width=0;this.la=e||new n.v(0,0,1,1);b.ye&&(this.sA&&(g=new n.v(0,0,b.width,b.height)),this.Jf(g))},n.bb.prototype.constructor=
n.bb,n.bb.prototype.j=function(b){b&&this.A.j();this.valid=!1},n.bb.prototype.Jf=function(b){if(this.sA=!1,this.frame=b,this.width=b.width,this.height=b.height,this.la.x=b.x,this.la.y=b.y,this.la.width=b.width,this.la.height=b.height,!this.trim&&(b.x+b.width>this.A.width||b.y+b.height>this.A.height)){if(!n.pD)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);return void(this.valid=!1)}this.valid=b&&b.width&&b.height&&this.A.source&&this.A.ye;this.trim&&(this.width=
this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height);this.valid&&this.Op()},n.bb.prototype.Op=function(){this.Gd||(this.Gd=new n.qD);var b=this.la,g=this.A.width,e=this.A.height;this.Gd.as=b.x/g;this.Gd.zw=b.y/e;this.Gd.bs=(b.x+b.width)/g;this.Gd.uo=b.y/e;this.Gd.cs=(b.x+b.width)/g;this.Gd.fs=(b.y+b.height)/e;this.Gd.ds=b.x/g;this.Gd.gs=(b.y+b.height)/e},n.bb.wl=function(b,g){var e=n.Uc.wl(b,g);return new n.bb(e)},n.qD=function(){this.gs=
this.ds=this.fs=this.cs=this.uo=this.bs=this.zw=this.as=0},n.Sa=function(b,g,e,h,k){(this.width=b||100,this.height=g||100,this.I=k||1,this.frame=new n.v(0,0,this.width*this.I,this.height*this.I),this.la=new n.v(0,0,this.width*this.I,this.height*this.I),this.A=new n.Uc,this.A.width=this.width*this.I,this.A.height=this.height*this.I,this.A.Dd=[],this.A.I=this.I,this.A.Qb=h||n.tc.DEFAULT,this.A.ye=!0,n.bb.call(this,this.A,new n.v(0,0,this.width*this.I,this.height*this.I)),this.Ha=e||n.lq,this.Ha.type===
n.Mk)?(b=this.Ha.H,this.A.Uk[b.id]=!1,this.He=new n.qj(b,this.width,this.height,this.A.Qb),this.A.Dd[b.id]=this.He.c,this.Xa=this.cB,this.vd=new n.h(.5*this.width,.5*-this.height)):(this.Xa=this.ZA,this.He=new n.pg(this.width*this.I,this.height*this.I),this.A.source=this.He.canvas);this.valid=!0;this.gK=new Phaser.rg;this.Op()},n.Sa.prototype=Object.create(n.bb.prototype),n.Sa.prototype.constructor=n.Sa,n.Sa.prototype.resize=function(b,g,e){b===this.width&&g===this.height||(this.valid=0<b&&0<g,this.width=
b,this.height=g,this.frame.width=this.la.width=b*this.I,this.frame.height=this.la.height=g*this.I,e&&(this.A.width=this.width*this.I,this.A.height=this.height*this.I),this.Ha.type===n.Mk&&(this.vd.x=this.width/2,this.vd.y=-this.height/2),this.valid&&this.He.resize(this.width,this.height))},n.Sa.prototype.clear=function(){this.valid&&(this.Ha.type===n.Mk&&this.Ha.H.bindFramebuffer(this.Ha.H.FRAMEBUFFER,this.He.$f),this.He.clear())},n.Sa.prototype.cB=function(b,g,e){if(this.valid&&0!==b.alpha){var h=
b.na;h.lH();h.translate(0,2*this.vd.y);g&&h.append(g);h.scale(1,-1);for(h=0;h<b.children.length;h++)b.children[h].Cb();h=this.Ha.H;h.viewport(0,0,this.width*this.I,this.height*this.I);h.bindFramebuffer(h.FRAMEBUFFER,this.He.$f);e&&this.He.clear();this.Ha.Ma.m=!0;this.Ha.ur(b,this.vd,this.He.$f,g);this.Ha.Ma.m=!0}},n.Sa.prototype.ZA=function(b,g,e){if(this.valid&&0!==b.alpha){var h=b.na;h.lH();g&&h.append(g);for(h=0;h<b.children.length;h++)b.children[h].Cb();e&&this.He.clear();e=this.Ha.I;this.Ha.I=
this.I;this.Ha.ur(b,this.He.context,g);this.Ha.I=e}},n.Sa.prototype.Oi=function(){var b=new Image;return b.src=this.dR(),b},n.Sa.prototype.dR=function(){return this.Ju().toDataURL()},n.Sa.prototype.Ju=function(){if(this.Ha.type===n.Mk){var b=this.Ha.H,g=this.He.width,e=this.He.height,h=new Uint8Array(4*g*e);b.bindFramebuffer(b.FRAMEBUFFER,this.He.$f);b.readPixels(0,0,g,e,b.RGBA,b.UNSIGNED_BYTE,h);b.bindFramebuffer(b.FRAMEBUFFER,null);b=new n.pg(g,e);g=b.context.getImageData(0,0,g,e);return g.data.set(h),
b.context.putImageData(g,0,0),b.canvas}return this.He.canvas},n.ks=function(b,g){this.RI=[this];this.di=[];this.m=!0;this.padding=0;this.nb=g||{};this.Md=b||[]},n.ks.prototype.constructor=n.ks,n.ks.prototype.KB=function(){for(var b=0,g=this.di.length;b<g;b++)this.di[b].m=!0},n.kd=function(b){n.Ra.call(this);this.c=b;this.oo=new n.Float32Array([0,1,1,1,1,0,0,1]);this.u=new n.Float32Array([0,0,100,0,100,100,0,100]);this.xe=new n.Float32Array([1,1,1,1]);this.Ea=new n.Uint16Array([0,1,2,3]);this.m=!0;
this.cc=n.Ve.ui;this.By=0;this.kG=n.kd.Kw.TRIANGLE_STRIP},n.kd.prototype=Object.create(n.Ra.prototype),n.kd.prototype.constructor=n.kd,n.kd.prototype.nd=function(b){!this.visible||0>=this.alpha||(b.Ma.stop(),this.Ht||this.aN(b),b.uc.rk(b.uc.IB),this.AN(b),b.Ma.start())},n.kd.prototype.aN=function(b){b=b.H;this.Ht=b.createBuffer();this.vx=b.createBuffer();this.cy=b.createBuffer();this.RM=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Ht);b.bufferData(b.ARRAY_BUFFER,this.u,b.DYNAMIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,
this.cy);b.bufferData(b.ARRAY_BUFFER,this.oo,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this.RM);b.bufferData(b.ARRAY_BUFFER,this.xe,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.vx);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.Ea,b.STATIC_DRAW)},n.kd.prototype.AN=function(b){var g=b.H,e=b.vd,h=b.offset,k=b.uc.IB,l=this.kG===n.kd.Kw.TRIANGLE_STRIP?g.TRIANGLE_STRIP:g.TRIANGLES;b.vh.zr(this.cc);g.uniformMatrix3fv(k.jo,!1,this.na.Lr(!0));g.uniform2f(k.Tg,e.x,-e.y);g.uniform2f(k.Vh,-h.x,-h.y);g.uniform1f(k.alpha,
this.Tc);this.m?(this.m=!1,g.bindBuffer(g.ARRAY_BUFFER,this.Ht),g.bufferData(g.ARRAY_BUFFER,this.u,g.STATIC_DRAW),g.vertexAttribPointer(k.Hd,2,g.FLOAT,!1,0,0),g.bindBuffer(g.ARRAY_BUFFER,this.cy),g.bufferData(g.ARRAY_BUFFER,this.oo,g.STATIC_DRAW),g.vertexAttribPointer(k.uh,2,g.FLOAT,!1,0,0),g.activeTexture(g.TEXTURE0),this.c.A.Uk[g.id]?b.Ha.ng(this.c.A):g.bindTexture(g.TEXTURE_2D,this.c.A.Dd[g.id]),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.vx),g.bufferData(g.ELEMENT_ARRAY_BUFFER,this.Ea,g.STATIC_DRAW)):
(g.bindBuffer(g.ARRAY_BUFFER,this.Ht),g.bufferSubData(g.ARRAY_BUFFER,0,this.u),g.vertexAttribPointer(k.Hd,2,g.FLOAT,!1,0,0),g.bindBuffer(g.ARRAY_BUFFER,this.cy),g.vertexAttribPointer(k.uh,2,g.FLOAT,!1,0,0),g.activeTexture(g.TEXTURE0),this.c.A.Uk[g.id]?b.Ha.ng(this.c.A):g.bindTexture(g.TEXTURE_2D,this.c.A.Dd[g.id]),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.vx));g.drawElements(l,this.Ea.length,g.UNSIGNED_SHORT,0)},n.kd.prototype.$d=function(b){var g=b.context,e=this.na,h=e.qa*b.I+b.Yn,k=e.oa*b.I+b.Zn;
b.xr?g.setTransform(e.R,e.L,e.ha,e.d,0|h,0|k):g.setTransform(e.R,e.L,e.ha,e.d,h,k);this.kG===n.kd.Kw.TRIANGLE_STRIP?this.yN(g):this.zN(g)},n.kd.prototype.yN=function(b){var g=this.u,e=this.oo,h=g.length/2;this.count++;for(var k=0;k<h-2;k++){var l=2*k;this.lE(b,g,e,l,l+2,l+4)}},n.kd.prototype.zN=function(b){var g=this.u,e=this.oo,h=this.Ea,k=h.length;this.count++;for(var l=0;l<k;l+=3)this.lE(b,g,e,2*h[l],2*h[l+1],2*h[l+2])},n.kd.prototype.lE=function(b,g,e,h,k,l){var a=this.c.A.source,c=this.c.width,
d=this.c.height,f=g[h],m=g[k],p=g[l],r=g[h+1],u=g[k+1];g=g[l+1];var w=e[h]*c,q=e[k]*c,c=e[l]*c;h=e[h+1]*d;k=e[k+1]*d;e=e[l+1]*d;if(0<this.By){l=this.By/this.na.R;var d=this.By/this.na.d,n=(f+m+p)/3,y=(r+u+g)/3,v=f-n,x=r-y,A=Math.sqrt(v*v+x*x),f=n+v/A*(A+l),r=y+x/A*(A+d),v=m-n,x=u-y,A=Math.sqrt(v*v+x*x),m=n+v/A*(A+l),u=y+x/A*(A+d),v=p-n,x=g-y,A=Math.sqrt(v*v+x*x),p=n+v/A*(A+l);g=y+x/A*(A+d)}b.save();b.beginPath();b.moveTo(f,r);b.lineTo(m,u);b.lineTo(p,g);b.closePath();b.clip();l=w*k+h*c+q*e-k*c-h*
q-w*e;b.transform((f*k+h*p+m*e-k*p-h*m-f*e)/l,(r*k+h*g+u*e-k*g-h*u-r*e)/l,(w*m+f*c+q*p-m*c-f*q-w*p)/l,(w*u+r*c+q*g-u*c-r*q-w*g)/l,(w*k*p+h*m*c+f*q*e-f*k*c-h*q*p-w*m*e)/l,(w*k*g+h*u*c+r*q*e-r*k*c-h*q*g-w*u*e)/l);b.drawImage(a,0,0);b.restore()},n.kd.prototype.AA=function(){},n.kd.prototype.xa=function(b){var g=b||this.na;b=g.R;for(var e=g.L,h=g.ha,k=g.d,l=g.qa,a=g.oa,g=-(1/0),c=-(1/0),d=1/0,f=1/0,m=this.u,p=0,r=m.length;p<r;p+=2)var u=m[p],w=m[p+1],q=b*u+h*w+l,u=k*w+e*u+a,d=q<d?q:d,f=u<f?u:f,g=q>g?
q:g,c=u>c?u:c;if(d===-(1/0)||c===1/0)return n.DC;b=this.xc;return b.x=d,b.width=g-d,b.y=f,b.height=c-f,this.wg=b,b},n.kd.Kw={TRIANGLE_STRIP:0,TRIANGLES:1},n.mc=function(b,g){n.kd.call(this,b);this.ea=g;this.u=new n.Float32Array(4*g.length);this.oo=new n.Float32Array(4*g.length);this.xe=new n.Float32Array(2*g.length);this.Ea=new n.Uint16Array(2*g.length);this.refresh()},n.mc.prototype=Object.create(n.kd.prototype),n.mc.prototype.constructor=n.mc,n.mc.prototype.refresh=function(){var b=this.ea;if(!(1>
b.length)){var g=this.oo,e=this.Ea,h=this.xe;this.count-=.2;g[0]=0;g[1]=0;g[2]=0;g[3]=1;h[0]=1;h[1]=1;e[0]=0;e[1]=1;for(var k,l=b.length,a=1;a<l;a++)b=4*a,k=a/(l-1),g[b]=k,g[b+1]=0,g[b+2]=k,g[b+3]=1,b=2*a,h[b]=1,h[b+1]=1,b=2*a,e[b]=b,e[b+1]=b+1}},n.mc.prototype.Cb=function(){var b=this.ea;if(!(1>b.length)){var g,e=b[0],h;this.count-=.2;for(var k,l,a,c=this.u,d=b.length,f=0;f<d;f++)k=b[f],l=4*f,g=f<b.length-1?b[f+1]:k,h=-(g.x-e.x),g=g.y-e.y,e=Math.sqrt(g*g+h*h),a=this.c.height/2,g/=e,h/=e,g*=a,h*=
a,c[l]=k.x+g,c[l+1]=k.y+h,c[l+2]=k.x-g,c[l+3]=k.y-h,e=k;n.Ra.prototype.Cb.call(this)}},n.mc.prototype.fj=function(b){this.c=b},n.ve=function(b,g,e){n.ka.call(this,b);this.Kb=g||128;this.Ib=e||128;this.pw=new n.h(1,1);this.jj=new n.h(1,1);this.jf=new n.h;this.df=!0;this.Gb=16777215;this.RW=!1;this.cc=n.Ve.ui;this.jK=this.kc=this.xh=null;this.Tn=!0;this.wq=this.xq=0},n.ve.prototype=Object.create(n.ka.prototype),n.ve.prototype.constructor=n.ve,n.ve.prototype.fj=function(b){this.c!==b&&(this.c=b,this.Tn=
!0,this.cn=16777215)},n.ve.prototype.nd=function(b){if(this.visible&&this.df&&0!==this.alpha){if(this.Ta&&(b.Ma.stop(),b.Pb.dj(this.Gf,b),b.Ma.start()),this.Se&&(b.Ma.flush(),b.Ze.Jv(this.ct)),this.Tn){if(this.MG(!0,b),!this.kc)return;this.kc.fk&&(b.Ha.ng(this.kc.A),this.kc.fk=!1)}b.Ma.pV(this);for(var g=0;g<this.children.length;g++)this.children[g].nd(b);b.Ma.stop();this.Se&&b.Ze.Dv();this.Ta&&b.Pb.bj(this.Ta,b);b.Ma.start()}},n.ve.prototype.$d=function(b){if(this.visible&&this.df&&0!==this.alpha){var g=
b.context;this.Ta&&b.Pb.dj(this.Ta,b);g.globalAlpha=this.Tc;var e=this.na,h=b.I,k=e.qa*h+b.Yn,l=e.oa*h+b.Zn;if(g.setTransform(e.R*h,e.L*h,e.ha*h,e.d*h,k,l),this.Tn){if(this.MG(!1,b),!this.kc)return;this.jK=g.createPattern(this.kc.A.source,"repeat")}e=b.qc;this.cc!==b.qc&&(b.qc=this.cc,g.globalCompositeOperation=n.Yp[b.qc]);var h=this.jf,a=this.pw;h.x%=this.kc.A.width;h.y%=this.kc.A.height;g.scale(a.x,a.y);g.translate(h.x+this.anchor.x*-this.Kb,h.y+this.anchor.y*-this.Ib);g.fillStyle=this.jK;var k=
-h.x,l=-h.y,c=this.Kb/a.x,d=this.Ib/a.y;b.xr&&(k|=0,l|=0,c|=0,d|=0);g.fillRect(k,l,c,d);g.scale(1/a.x,1/a.y);g.translate(-h.x+this.anchor.x*this.Kb,-h.y+this.anchor.y*this.Ib);this.Ta&&b.Pb.bj(b);for(k=0;k<this.children.length;k++)this.children[k].$d(b);e!==this.cc&&(b.qc=e,g.globalCompositeOperation=n.Yp[e])}},n.ve.prototype.AA=function(){},n.ve.prototype.MG=function(b){if(this.c.A.ye){var g=this.c,e=g.frame,h=this.Yc.Vl||this.Yc.width,k=this.Yc.Ul||this.Yc.height,l=0,a=0;this.Yc.Ak&&(l=this.Yc.fw,
a=this.Yc.gw);b&&(h=n.WG(h),k=n.WG(k));this.xh?(this.xh.resize(h,k),this.kc.A.width=h,this.kc.A.height=k,this.kc.fk=!0):(this.xh=new n.pg(h,k),this.kc=n.bb.wl(this.xh.canvas),this.kc.fS=!0,this.kc.fk=!0);this.RW&&(this.xh.context.strokeStyle="#00ff00",this.xh.context.strokeRect(0,0,h,k));b=g.la.width;var c=g.la.height;b===h&&c===k||(b=h,c=k);this.xh.context.drawImage(g.A.source,g.la.x,g.la.y,g.la.width,g.la.height,l,a,b,c);this.jj.x=e.width/h;this.jj.y=e.height/k;this.Tn=!1;this.kc.A.eE=!0}},n.ve.prototype.xa=
function(){var b=this.Kb,g=this.Ib,e=b*(1-this.anchor.x),h=b*-this.anchor.x,k=g*(1-this.anchor.y),l=g*-this.anchor.y,g=this.na,a=g.R,c=g.L,d=g.ha,f=g.d,m=g.qa,p=g.oa,g=a*h+d*l+m,b=f*l+c*h+p,r=a*e+d*l+m,l=f*l+c*e+p,u=a*e+d*k+m,e=f*k+c*e+p,a=a*h+d*k+m,h=f*k+c*h+p,k=-(1/0),c=-(1/0),f=1/0,d=1/0,f=g<f?g:f,f=r<f?r:f,f=u<f?u:f,f=a<f?a:f,d=b<d?b:d,d=l<d?l:d,d=e<d?e:d,d=h<d?h:d,k=g>k?g:k,k=r>k?r:k,k=u>k?u:k,c=b>c?b:c,c=l>c?l:c,c=e>c?e:c,g=this.xc;return g.x=f,g.width=(a>k?a:k)-f,g.y=d,g.height=(h>c?h:c)-d,
this.wg=g,g},n.ve.prototype.j=function(){n.ka.prototype.j.call(this);this.xh&&(this.xh.j(),this.xh=null);this.jf=this.jj=this.pw=null;this.kc&&(this.kc.j(!0),this.kc=null)},Object.defineProperty(n.ve.prototype,"width",{get:function(){return this.Kb},set:function(b){this.Kb=b}}),Object.defineProperty(n.ve.prototype,"height",{get:function(){return this.Ib},set:function(b){this.Ib=b}}),"undefined"!=typeof exports?("undefined"!=typeof module&&module.V&&(exports=module.V=n),exports.Yw=n):"undefined"!=
typeof define&&define.bO?define("PIXI",this.Yw=n):this.Yw=n,n}).call(this);
(function(){function n(a,c){this.mE=a;this.UM=c;this.Kn=null}var b=b||{VERSION:"2.6.2",Mw:[],Cw:0,li:1,uD:2,us:3,NONE:0,Nw:1,$w:2,ix:3,Iw:4,tg:0,tL:1,IMAGE:2,OL:3,ex:4,HM:5,nL:6,Vd:7,sM:8,fx:9,bp:10,GL:11,WC:12,yo:13,HY:14,LM:15,AC:16,EM:17,uM:18,qM:19,zM:20,Nf:21,dD:22,kh:23,gM:24,pM:25,fD:26,PY:27,VIDEO:28,mM:-1,DZ:0,X0:1,OZ:0,F_:1,iL:270,XX:90,YX:180,aY:0,ZX:315,$X:225,bY:45,cY:135,oD:0,IM:1,JM:2,QZ:3,dM:4,PZ:5,wL:6,m0:7,yM:8,l0:9,qL:10,pL:11,rL:12,Ve:{ui:0,lC:1,Sw:2,iD:3,UC:4,yC:5,KC:6,vC:7,uC:8,
FC:9,jD:10,zC:11,CC:12,GC:13,hD:14,tC:15,MC:16},tc:{DEFAULT:0,LINEAR:0,NEAREST:1},Yw:PIXI||{}};if(Math.trunc||(Math.trunc=function(a){return 0>a?Math.ceil(a):Math.floor(a)}),Function.prototype.bind||(Function.prototype.bind=function(){var a=Array.prototype.slice;return function(c){function b(){var d=m.concat(a.call(arguments));f.apply(this instanceof b?this:c,d)}var f=this,m=a.call(arguments,1);if("function"!=typeof f)throw new TypeError;return b.prototype=function r(a){if(a&&(r.prototype=a),!(this instanceof
r))return new r}(f.prototype),b}}()),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var c=Object(this),b=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var f=2<=arguments.length?arguments[1]:void 0,m=0;m<b;m++)m in c&&a.call(f,c[m],m,c)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var g=
function(a){window[a]=function(a){if("number"==typeof a){this.length=a;for(var c=0;c<this.length;c++)this[c]=0}else for(this.length=a.length,c=0;c<this.length;c++)this[c]=a[c]};window[a].prototype=[];window[a].constructor=window[a]};g("Uint32Array");g("Int16Array")}window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){});b.nc={T4:function(a){return a.split("").reverse().join("")},S2:function(a,c){for(var b=c.split("."),
f=b.pop(),m=b.length,e=1,g=b[0];e<m&&(a=a[g]);)g=b[e],e++;return a?a[f]:null},setProperty:function(a,c,b){c=c.split(".");for(var d=c.pop(),m=c.length,e=1,g=c[0];e<m&&(a=a[g]);)g=c[e],e++;return a&&(a[d]=b),a},e2:function(a){return void 0===a&&(a=50),0<a&&100*Math.random()<=a},N4:function(a,c){return.5>Math.random()?a:c},G4:function(a,c){var b=0,f=0;return"string"==typeof a?"%"===a.substr(-1)?(b=parseInt(a,10)/100,f=0===c?window.innerWidth*b:window.innerHeight*b):f=parseInt(a,10):f=a,f},NI:function(a,
c,b,f){void 0===c&&(c=0);void 0===b&&(b=" ");void 0===f&&(f=3);a=a.toString();if(c+1>=a.length)switch(f){case 1:a=Array(c+1-a.length).join(b)+a;break;case 3:f=Math.ceil((c-=a.length)/2);a=Array(c-f+1).join(b)+a+Array(f+1).join(b);break;default:a+=Array(c+1-a.length).join(b)}return a},zH:function(a){if("object"!=typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}return!0},extend:function(){var a,
c,d,f,m,e,g=arguments[0]||{},h=1,k=arguments.length,l=!1;"boolean"==typeof g&&(l=g,g=arguments[1]||{},h=2);for(k===h&&(g=this,--h);h<k;h++)if(null!=(a=arguments[h]))for(c in a)d=g[c],f=a[c],g!==f&&(l&&f&&(b.nc.zH(f)||(m=Array.isArray(f)))?(m?(m=!1,e=d&&Array.isArray(d)?d:[]):e=d&&b.nc.zH(d)?d:{},g[c]=b.nc.extend(l,e,f)):void 0!==f&&(g[c]=f));return g},kA:function(a,c,b){void 0===b&&(b=!1);for(var d=Object.keys(c),m=0;m<d.length;m++){var e=d[m],g=c[e];!b&&e in a||(!g||"function"!=typeof g.get&&"function"!=
typeof g.set?a[e]=g:"function"==typeof g.clone?a[e]=g.clone():Object.defineProperty(a,e,g))}},jA:function(a,c){if(!a||"object"!=typeof a)return c;for(var d in a){var f=a[d];if(!f.childNodes&&!f.cloneNode){var m=typeof a[d];a[d]&&"object"===m?typeof c[d]===m?c[d]=b.nc.jA(a[d],c[d]):c[d]=b.nc.jA(a[d],new f.constructor):c[d]=a[d]}}return c}};b.ob=function(a,c,d){d=d||0;this.x=a||0;this.y=c||0;this.qh=d;this.Zd=0;0<d&&(this.Zd=.5*d);this.type=b.Nf};b.ob.prototype={random:function(a){void 0===a&&(a=new b.h);
var c=2*Math.PI*Math.random(),d=Math.random()+Math.random(),d=1<d?2-d:d,f=d*Math.sin(c);return a.x=this.x+d*Math.cos(c)*this.w,a.y=this.y+f*this.w,a},xa:function(){return new b.v(this.x-this.w,this.y-this.w,this.Oj,this.Oj)},P:function(a,c,b){return this.x=a,this.y=c,this.qh=b,this.Zd=.5*b,this},Jd:function(a){return this.P(a.x,a.y,a.Oj)},copyTo:function(a){return a.x=this.x,a.y=this.y,a.Oj=this.qh,a},fb:function(a,c){var d=b.Math.fb(this.x,this.y,a.x,a.y);return c?Math.round(d):d},clone:function(a){return void 0===
a||null===a?a=new b.ob(this.x,this.y,this.Oj):a.P(this.x,this.y,this.Oj),a},contains:function(a,c){return b.ob.contains(this,a,c)},BF:function(a,c,d){return b.ob.BF(this,a,c,d)},offset:function(a,c){return this.x+=a,this.y+=c,this},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.Oj+" radius="+this.w+")}]"}};b.ob.prototype.constructor=b.ob;Object.defineProperty(b.ob.prototype,"diameter",{get:function(){return this.qh},set:function(a){0<a&&(this.qh=a,this.Zd=.5*
a)}});Object.defineProperty(b.ob.prototype,"radius",{get:function(){return this.Zd},set:function(a){0<a&&(this.Zd=a,this.qh=2*a)}});Object.defineProperty(b.ob.prototype,"left",{get:function(){return this.x-this.Zd},set:function(a){a>this.x?(this.Zd=0,this.qh=0):this.w=this.x-a}});Object.defineProperty(b.ob.prototype,"right",{get:function(){return this.x+this.Zd},set:function(a){a<this.x?(this.Zd=0,this.qh=0):this.w=a-this.x}});Object.defineProperty(b.ob.prototype,"top",{get:function(){return this.y-
this.Zd},set:function(a){a>this.y?(this.Zd=0,this.qh=0):this.w=this.y-a}});Object.defineProperty(b.ob.prototype,"bottom",{get:function(){return this.y+this.Zd},set:function(a){a<this.y?(this.Zd=0,this.qh=0):this.w=a-this.y}});Object.defineProperty(b.ob.prototype,"area",{get:function(){return 0<this.Zd?Math.PI*this.Zd*this.Zd:0}});Object.defineProperty(b.ob.prototype,"empty",{get:function(){return 0===this.qh},set:function(a){!0===a&&this.P(0,0,0)}});b.ob.contains=function(a,c,b){return 0<a.w&&c>=
a.left&&c<=a.right&&b>=a.top&&b<=a.bottom?(a.x-c)*(a.x-c)+(a.y-b)*(a.y-b)<=a.w*a.w:!1};b.ob.Li=function(a,c){return a.x===c.x&&a.y===c.y&&a.Oj===c.Oj};b.ob.Xb=function(a,c){return b.Math.fb(a.x,a.y,c.x,c.y)<=a.w+c.w};b.ob.BF=function(a,c,d,f){return void 0===d&&(d=!1),void 0===f&&(f=new b.h),!0===d&&(c=b.Math.Gh(c)),f.x=a.x+a.w*Math.cos(c),f.y=a.y+a.w*Math.sin(c),f};b.ob.$R=function(a,c){var b=Math.abs(a.x-c.x-c.Bc);if(b>c.Bc+a.w)return!1;var f=Math.abs(a.y-c.y-c.dd);if(f>c.dd+a.w)return!1;if(b<=
c.Bc||f<=c.dd)return!0;b-=c.Bc;f-=c.dd;return b*b+f*f<=a.w*a.w};PIXI.ob=b.ob;b.lf=function(a,c,d,f){this.x=a||0;this.y=c||0;this.width=d||0;this.height=f||0;this.type=b.AC};b.lf.prototype={P:function(a,c,b,f){return this.x=a,this.y=c,this.width=b,this.height=f,this},xa:function(){return new b.v(this.x-this.width,this.y-this.height,this.width,this.height)},Jd:function(a){return this.P(a.x,a.y,a.width,a.height)},copyTo:function(a){return a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,
a},clone:function(a){return void 0===a||null===a?a=new b.lf(this.x,this.y,this.width,this.height):a.P(this.x,this.y,this.width,this.height),a},contains:function(a,c){return b.lf.contains(this,a,c)},random:function(a){void 0===a&&(a=new b.h);var c=Math.random()*Math.PI*2,d=Math.random();return a.x=Math.sqrt(d)*Math.cos(c),a.y=Math.sqrt(d)*Math.sin(c),a.x=this.x+a.x*this.width/2,a.y=this.y+a.y*this.height/2,a},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+
" height="+this.height+")}]"}};b.lf.prototype.constructor=b.lf;Object.defineProperty(b.lf.prototype,"left",{get:function(){return this.x},set:function(a){this.x=a}});Object.defineProperty(b.lf.prototype,"right",{get:function(){return this.x+this.width},set:function(a){a<this.x?this.width=0:this.width=a-this.x}});Object.defineProperty(b.lf.prototype,"top",{get:function(){return this.y},set:function(a){this.y=a}});Object.defineProperty(b.lf.prototype,"bottom",{get:function(){return this.y+this.height},
set:function(a){a<this.y?this.height=0:this.height=a-this.y}});Object.defineProperty(b.lf.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(a){!0===a&&this.P(0,0,0,0)}});b.lf.contains=function(a,c,b){if(0>=a.width||0>=a.height)return!1;c=(c-a.x)/a.width-.5;a=(b-a.y)/a.height-.5;return c*=c,a*=a,.25>c+a};PIXI.lf=b.lf;b.sb=function(a,c,d,f){d=d||0;f=f||0;this.start=new b.h(a||0,c||0);this.end=new b.h(d,f);this.type=b.kh};b.sb.prototype={P:function(a,c,b,f){return this.start.P(a,
c),this.end.P(b,f),this},XQ:function(a,c,b,f){return this.start.P(a,c),this.end.P(a+Math.cos(b)*f,c+Math.sin(b)*f),this},rotate:function(a,c){var b=(this.start.x+this.end.x)/2,f=(this.start.y+this.end.y)/2;return this.start.rotate(b,f,a,c),this.end.rotate(b,f,a,c),this},Xb:function(a,c,d){return b.sb.sH(this.start,this.end,a.start,a.end,c,d)},TA:function(a){return b.sb.TA(this,a)},Fi:function(a,c){var b=a-(this.start.x+this.end.x)/2,f=c-(this.start.y+this.end.y)/2;this.start.add(b,f);this.end.add(b,
f)},random:function(a){void 0===a&&(a=new b.h);var c=Math.random();return a.x=this.start.x+c*(this.end.x-this.start.x),a.y=this.start.y+c*(this.end.y-this.start.y),a},clone:function(a){return void 0===a||null===a?a=new b.sb(this.start.x,this.start.y,this.end.x,this.end.y):a.P(this.start.x,this.start.y,this.end.x,this.end.y),a}};Object.defineProperty(b.sb.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}});
Object.defineProperty(b.sb.prototype,"angle",{get:function(){return Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}});Object.defineProperty(b.sb.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}});Object.defineProperty(b.sb.prototype,"perpSlope",{get:function(){return-((this.end.x-this.start.x)/(this.end.y-this.start.y))}});Object.defineProperty(b.sb.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}});Object.defineProperty(b.sb.prototype,
"y",{get:function(){return Math.min(this.start.y,this.end.y)}});Object.defineProperty(b.sb.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}});Object.defineProperty(b.sb.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}});Object.defineProperty(b.sb.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}});Object.defineProperty(b.sb.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}});Object.defineProperty(b.sb.prototype,
"width",{get:function(){return Math.abs(this.start.x-this.end.x)}});Object.defineProperty(b.sb.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}});Object.defineProperty(b.sb.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}});Object.defineProperty(b.sb.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}});Object.defineProperty(b.sb.prototype,"normalAngle",{get:function(){return b.Math.$r(this.angle-1.5707963267948966,
-Math.PI,Math.PI)}});b.sb.sH=function(a,c,d,f,m,e){void 0===m&&(m=!0);void 0===e&&(e=new b.h);var p=c.y-a.y,g=f.y-d.y,h=a.x-c.x,k=d.x-f.x,l=c.x*a.y-a.x*c.y,n=f.x*d.y-d.x*f.y,v=p*k-g*h;return 0===v?null:(e.x=(h*n-k*l)/v,e.y=(g*l-p*n)/v,m)?(m=(f.y-d.y)*(c.x-a.x)-(f.x-d.x)*(c.y-a.y),f=((f.x-d.x)*(a.y-d.y)-(f.y-d.y)*(a.x-d.x))/m,a=((c.x-a.x)*(a.y-d.y)-(c.y-a.y)*(a.x-d.x))/m,0<=f&&1>=f&&0<=a&&1>=a?e:null):e};b.sb.Xb=function(a,c,d,f){return b.sb.sH(a.start,a.end,c.start,c.end,d,f)};b.sb.$R=function(a,
c){if(!b.v.Xb(a,c))return!1;var d=a.start.x,f=a.start.y,m=a.end.x,e=a.end.y,g=c.x,h=c.y,k=c.right,l=c.bottom,n=0;if(d>=g&&d<=k&&f>=h&&f<=l||m>=g&&m<=k&&e>=h&&e<=l)return!0;if(d<g&&m>=g){if(n=f+(e-f)*(g-d)/(m-d),n>h&&n<=l)return!0}else if(d>k&&m<=k&&(n=f+(e-f)*(k-d)/(m-d),n>=h&&n<=l))return!0;if(f<h&&e>=h){if(n=d+(m-d)*(h-f)/(e-f),n>=g&&n<=k)return!0}else if(f>l&&e<=l&&(n=d+(m-d)*(l-f)/(e-f),n>=g&&n<=k))return!0;return!1};b.sb.TA=function(a,c){return 2*c.e4-3.141592653589793-a.angle};b.rg=function(a,
c,d,f,m,e){void 0!==a&&null!==a||(a=1);void 0!==c&&null!==c||(c=0);void 0!==d&&null!==d||(d=0);void 0!==f&&null!==f||(f=1);void 0!==m&&null!==m||(m=0);void 0!==e&&null!==e||(e=0);this.R=a;this.L=c;this.ha=d;this.d=f;this.qa=m;this.oa=e;this.type=b.gM};b.rg.prototype={P:function(a,c,b,f,m,e){return this.R=a,this.L=c,this.ha=b,this.d=f,this.qa=m,this.oa=e,this},clone:function(a){return void 0===a||null===a?a=new b.rg(this.R,this.L,this.ha,this.d,this.qa,this.oa):(a.R=this.R,a.L=this.L,a.ha=this.ha,
a.d=this.d,a.qa=this.qa,a.oa=this.oa),a},copyTo:function(a){return a.Jd(this),a},Jd:function(a){return this.R=a.R,this.L=a.L,this.ha=a.ha,this.d=a.d,this.qa=a.qa,this.oa=a.oa,this},Lr:function(a,c){return void 0===c&&(c=new PIXI.Float32Array(9)),a?(c[0]=this.R,c[1]=this.L,c[2]=0,c[3]=this.ha,c[4]=this.d,c[5]=0,c[6]=this.qa,c[7]=this.oa,c[8]=1):(c[0]=this.R,c[1]=this.ha,c[2]=this.qa,c[3]=this.L,c[4]=this.d,c[5]=this.oa,c[6]=0,c[7]=0,c[8]=1),c},apply:function(a,c){return void 0===c&&(c=new b.h),c.x=
this.R*a.x+this.ha*a.y+this.qa,c.y=this.L*a.x+this.d*a.y+this.oa,c},eO:function(a,c){void 0===c&&(c=new b.h);var d=1/(this.R*this.d+this.ha*-this.L),f=a.x,m=a.y;return c.x=this.d*d*f+-this.ha*d*m+(this.oa*this.ha-this.qa*this.d)*d,c.y=this.R*d*m+-this.L*d*f+(-this.oa*this.R+this.qa*this.L)*d,c},translate:function(a,c){return this.qa+=a,this.oa+=c,this},scale:function(a,c){return this.R*=a,this.d*=c,this.ha*=a,this.L*=c,this.qa*=a,this.oa*=c,this},rotate:function(a){var c=Math.cos(a);a=Math.sin(a);
var b=this.R,f=this.ha,m=this.qa;return this.R=b*c-this.L*a,this.L=b*a+this.L*c,this.ha=f*c-this.d*a,this.d=f*a+this.d*c,this.qa=m*c-this.oa*a,this.oa=m*a+this.oa*c,this},append:function(a){var c=this.R,b=this.L,f=this.ha,m=this.d;return this.R=a.R*c+a.L*f,this.L=a.R*b+a.L*m,this.ha=a.ha*c+a.d*f,this.d=a.ha*b+a.d*m,this.qa=a.qa*c+a.oa*f+this.qa,this.oa=a.qa*b+a.oa*m+this.oa,this},lH:function(){return this.P(1,0,0,1,0,0)}};b.Kq=new b.rg;PIXI.rg=b.rg;PIXI.Kq=b.Kq;b.h=function(a,c){this.x=a||0;this.y=
c||0;this.type=b.pM};b.h.prototype={Jd:function(a){return this.P(a.x,a.y)},P:function(a,c){return this.x=a||0,this.y=c||(0!==c?this.x:0),this},set:function(a,c){return this.x=a||0,this.y=c||(0!==c?this.x:0),this},add:function(a,c){return this.x+=a,this.y+=c,this},lw:function(a,c){return this.x-=a,this.y-=c,this},multiply:function(a,c){return this.x*=a,this.y*=c,this},ru:function(a,c){return this.x/=a,this.y/=c,this},Vf:function(a,c){return this.x=b.Math.Vf(this.x,a,c),this.y=b.Math.Vf(this.y,a,c),
this},clone:function(a){return void 0===a||null===a?a=new b.h(this.x,this.y):a.P(this.x,this.y),a},copyTo:function(a){return a.x=this.x,a.y=this.y,a},fb:function(a,c){return b.h.fb(this,a,c)},Li:function(a){return a.x===this.x&&a.y===this.y},angle:function(a,c){return void 0===c&&(c=!1),c?b.Math.Rn(Math.atan2(a.y-this.y,a.x-this.x)):Math.atan2(a.y-this.y,a.x-this.x)},rotate:function(a,c,d,f,m){return b.h.rotate(this,a,c,d,f,m)},VG:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},oR:function(){return this.x*
this.x+this.y*this.y},normalize:function(){if(!this.hS()){var a=this.VG();this.x/=a;this.y/=a}return this},hS:function(){return 0===this.x&&0===this.y},Mb:function(a){return this.x*a.x+this.y*a.y},oU:function(){return this.P(-this.y,this.x)},FV:function(){return this.P(this.y,-this.x)},US:function(){return this.P(-1*this.y,this.x)},floor:function(){return this.P(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.P(Math.ceil(this.x),Math.ceil(this.y))},toString:function(){return"[{Point (x="+
this.x+" y="+this.y+")}]"}};b.h.prototype.constructor=b.h;b.h.add=function(a,c,d){return void 0===d&&(d=new b.h),d.x=a.x+c.x,d.y=a.y+c.y,d};b.h.lw=function(a,c,d){return void 0===d&&(d=new b.h),d.x=a.x-c.x,d.y=a.y-c.y,d};b.h.multiply=function(a,c,d){return void 0===d&&(d=new b.h),d.x=a.x*c.x,d.y=a.y*c.y,d};b.h.ru=function(a,c,d){return void 0===d&&(d=new b.h),d.x=a.x/c.x,d.y=a.y/c.y,d};b.h.Li=function(a,c){return a.x===c.x&&a.y===c.y};b.h.angle=function(a,c){return Math.atan2(a.y-c.y,a.x-c.x)};b.h.d4=
function(a,c){return void 0===c&&(c=new b.h),c.P(-a.x,-a.y)};b.h.a4=function(a,c,d,f){return void 0===f&&(f=new b.h),f.P(a.x+c.x*d,a.y+c.y*d)};b.h.RR=function(a,c,d,f){return void 0===f&&(f=new b.h),f.P(a.x+(c.x-a.x)*d,a.y+(c.y-a.y)*d)};b.h.oU=function(a,c){return void 0===c&&(c=new b.h),c.P(-a.y,a.x)};b.h.FV=function(a,c){return void 0===c&&(c=new b.h),c.P(a.y,-a.x)};b.h.fb=function(a,c,d){a=b.Math.fb(a.x,a.y,c.x,c.y);return d?Math.round(a):a};b.h.L4=function(a,c,d){void 0===d&&(d=new b.h);a=a.Mb(c)/
c.oR();return 0!==a&&d.P(a*c.x,a*c.y),d};b.h.M4=function(a,c,d){void 0===d&&(d=new b.h);a=a.Mb(c);return 0!==a&&d.P(a*c.x,a*c.y),d};b.h.US=function(a,c){return void 0===c&&(c=new b.h),c.P(-1*a.y,a.x)};b.h.normalize=function(a,c){void 0===c&&(c=new b.h);var d=a.VG();return 0!==d&&c.P(a.x/d,a.y/d),c};b.h.rotate=function(a,c,d,f,m,e){(m&&(f=b.Math.Gh(f)),void 0===e)?(a.lw(c,d),e=Math.sin(f),f=Math.cos(f),m=e*a.x+f*a.y,a.x=f*a.x-e*a.y+c,a.y=m+d):(f+=Math.atan2(a.y-d,a.x-c),a.x=c+e*Math.cos(f),a.y=d+e*
Math.sin(f));return a};b.h.qF=function(a,c){if(void 0===c&&(c=new b.h),"[object Array]"!==Object.prototype.toString.call(a))throw Error("Phaser.Point. Parameter 'points' must be an array");var d=a.length;if(1>d)throw Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===d)return c.Jd(a[0]),c;for(var f=0;f<d;f++)b.h.add(c,a[f],c);return c.ru(d,d),c};b.h.parse=function(a,c,d){c=c||"x";d=d||"y";var f=new b.h;return a[c]&&(f.x=parseInt(a[c],10)),a[d]&&(f.y=parseInt(a[d],10)),f};PIXI.h=
b.h;b.sg=function(){this.ra=0;this.zb=[];0<arguments.length&&this.P.apply(this,arguments);this.closed=!0;this.zG=!1;this.type=b.WC};b.sg.prototype={YW:function(a){void 0===a&&(a=[]);for(var c=0;c<this.zb.length;c++)"number"==typeof this.zb[c]?(a.push(this.zb[c]),a.push(this.zb[c+1]),c++):(a.push(this.zb[c].x),a.push(this.zb[c].y));return a},Cu:function(){return this.zb=this.YW(),this.zG=!0,this},clone:function(a){var c=this.zb.slice();return void 0===a||null===a?a=new b.sg(c):a.P(c),a},contains:function(a,
c){var b=!1;if(this.zG)for(var f=-2,m=this.zb.length-2;(f+=2)<this.zb.length;m=f){var e=this.zb[f],g=this.zb[f+1],h=this.zb[m],m=this.zb[m+1];(g<=c&&c<m||m<=c&&c<g)&&a<(h-e)*(c-g)/(m-g)+e&&(b=!b)}else for(f=-1,m=this.zb.length-1;++f<this.zb.length;m=f)e=this.zb[f].x,g=this.zb[f].y,h=this.zb[m].x,m=this.zb[m].y,(g<=c&&c<m||m<=c&&c<g)&&a<(h-e)*(c-g)/(m-g)+e&&(b=!b);return b},P:function(a){if(this.ra=0,this.zb=[],0<arguments.length){Array.isArray(a)||(a=Array.prototype.slice.call(arguments));for(var c=
Number.MAX_VALUE,b=0,f=a.length;b<f;b++){if("number"==typeof a[b]){var m=new PIXI.h(a[b],a[b+1]);b++}else m=Array.isArray(a[b])?new PIXI.h(a[b][0],a[b][1]):new PIXI.h(a[b].x,a[b].y);this.zb.push(m);m.y<c&&(c=m.y)}this.fP(c)}return this},fP:function(a){for(var c,b,f,m=0,e=this.zb.length;m<e;m++)c=this.zb[m],b=m===e-1?this.zb[0]:this.zb[m+1],f=(c.y-a+(b.y-a))/2,c=c.x-b.x,this.ra+=f*c;return this.ra}};b.sg.prototype.constructor=b.sg;Object.defineProperty(b.sg.prototype,"points",{get:function(){return this.zb},
set:function(a){null!=a?this.P(a):this.P()}});PIXI.sg=b.sg;b.v=function(a,c,d,f){this.x=a||0;this.y=c||0;this.width=d||0;this.height=f||0;this.type=b.dD};b.v.prototype={offset:function(a,c){return this.x+=a,this.y+=c,this},P:function(a,c,b,f){return this.x=a,this.y=c,this.width=b,this.height=f,this},scale:function(a,c){return void 0===c&&(c=a),this.width*=a,this.height*=c,this},Fi:function(a,c){return this.qd=a,this.rd=c,this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y)},
ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y)},nP:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height)},Jd:function(a){return this.P(a.x,a.y,a.width,a.height)},copyTo:function(a){return a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a},Oz:function(a,c){return b.v.Oz(this,a,c)},size:function(a){return b.v.size(this,a)},resize:function(a,c){return this.width=a,this.height=c,this},clone:function(a){return b.v.clone(this,
a)},contains:function(a,c){return b.v.contains(this,a,c)},RF:function(a){return b.v.RF(a,this)},Li:function(a){return b.v.Li(this,a)},rH:function(a,c){return b.v.rH(this,a,c)},Xb:function(a){return b.v.Xb(this,a)},tH:function(a,c,d,f,m){return b.v.tH(this,a,c,d,f,m)},CK:function(a,c){return b.v.CK(this,a,c)},random:function(a){return void 0===a&&(a=new b.h),a.x=this.RU,a.y=this.SU,a},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+
this.empty+")}]"}};Object.defineProperty(b.v.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}});Object.defineProperty(b.v.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}});Object.defineProperty(b.v.prototype,"bottom",{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}});Object.defineProperty(b.v.prototype,"bottomLeft",{get:function(){return new b.h(this.x,this.bottom)},set:function(a){this.x=a.x;this.bottom=
a.y}});Object.defineProperty(b.v.prototype,"bottomRight",{get:function(){return new b.h(this.right,this.bottom)},set:function(a){this.right=a.x;this.bottom=a.y}});Object.defineProperty(b.v.prototype,"left",{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a;this.x=a}});Object.defineProperty(b.v.prototype,"right",{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}});Object.defineProperty(b.v.prototype,"volume",
{get:function(){return this.width*this.height}});Object.defineProperty(b.v.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}});Object.defineProperty(b.v.prototype,"centerX",{get:function(){return this.x+this.Bc},set:function(a){this.x=a-this.Bc}});Object.defineProperty(b.v.prototype,"centerY",{get:function(){return this.y+this.dd},set:function(a){this.y=a-this.dd}});Object.defineProperty(b.v.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}});Object.defineProperty(b.v.prototype,
"randomY",{get:function(){return this.y+Math.random()*this.height}});Object.defineProperty(b.v.prototype,"top",{get:function(){return this.y},set:function(a){a>=this.bottom?(this.height=0,this.y=a):this.height=this.bottom-a}});Object.defineProperty(b.v.prototype,"topLeft",{get:function(){return new b.h(this.x,this.y)},set:function(a){this.x=a.x;this.y=a.y}});Object.defineProperty(b.v.prototype,"topRight",{get:function(){return new b.h(this.x+this.width,this.y)},set:function(a){this.right=a.x;this.y=
a.y}});Object.defineProperty(b.v.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(a){!0===a&&this.P(0,0,0,0)}});b.v.prototype.constructor=b.v;b.v.Oz=function(a,c,b){return a.x-=c,a.width+=2*c,a.y-=b,a.height+=2*b,a};b.v.l3=function(a,c){return b.v.Oz(a,c.x,c.y)};b.v.size=function(a,c){return void 0===c||null===c?c=new b.h(a.width,a.height):c.P(a.width,a.height),c};b.v.clone=function(a,c){return void 0===c||null===c?c=new b.v(a.x,a.y,a.width,a.height):c.P(a.x,a.y,a.width,
a.height),c};b.v.contains=function(a,c,b){return!(0>=a.width||0>=a.height)&&c>=a.x&&c<a.right&&b>=a.y&&b<a.bottom};b.v.j2=function(a,c,b,f,m,e){return m>=a&&m<a+b&&e>=c&&e<c+f};b.v.ju=function(a,c){return b.v.contains(a,c.x,c.y)};b.v.RF=function(a,c){return!(a.volume>c.volume)&&a.x>=c.x&&a.y>=c.y&&a.right<c.right&&a.bottom<c.bottom};b.v.Li=function(a,c){return a.x===c.x&&a.y===c.y&&a.width===c.width&&a.height===c.height};b.v.FJ=function(a,c){return a.width===c.width&&a.height===c.height};b.v.rH=function(a,
c,d){return void 0===d&&(d=new b.v),b.v.Xb(a,c)&&(d.x=Math.max(a.x,c.x),d.y=Math.max(a.y,c.y),d.width=Math.min(a.right,c.right)-d.x,d.height=Math.min(a.bottom,c.bottom)-d.y),d};b.v.Xb=function(a,c){return!(0>=a.width||0>=a.height||0>=c.width||0>=c.height)&&!(a.right<c.x||a.bottom<c.y||a.x>c.right||a.y>c.bottom)};b.v.tH=function(a,c,b,f,m,e){return void 0===e&&(e=0),!(c>a.right+e||b<a.left-e||f>a.bottom+e||m<a.top-e)};b.v.CK=function(a,c,d){return void 0===d&&(d=new b.v),d.P(Math.min(a.x,c.x),Math.min(a.y,
c.y),Math.max(a.right,c.right)-Math.min(a.left,c.left),Math.max(a.bottom,c.bottom)-Math.min(a.top,c.top))};b.v.we=function(a,c){void 0===c&&(c=new b.v);var d=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY;return a.forEach(function(a){a.x>d&&(d=a.x);a.x<f&&(f=a.x);a.y>m&&(m=a.y);a.y<e&&(e=a.y)}),c.P(f,e,d-f,m-e),c};PIXI.v=b.v;PIXI.DC=new b.v(0,0,0,0);b.um=function(a,c,d,f,m){void 0===a&&(a=0);void 0===c&&(c=0);void 0===d&&(d=0);void 0===f&&
(f=0);void 0===m&&(m=20);this.x=a;this.y=c;this.width=d;this.height=f;this.w=m||20;this.type=b.fD};b.um.prototype={clone:function(){return new b.um(this.x,this.y,this.width,this.height,this.w)},contains:function(a,c){if(0>=this.width||0>=this.height)return!1;var b=this.x;return a>=b&&a<=b+this.width&&(b=this.y,c>=b&&c<=b+this.height)?!0:!1}};b.um.prototype.constructor=b.um;PIXI.um=b.um;b.Sb=function(a,c,d,f,m,e){this.a=a;this.g=a.g;this.id=0;this.view=new b.v(d,f,m,e);this.l=new b.v(d,f,m,e);this.Ye=
null;this.DJ=this.visible=!0;this.Xm={x:!1,y:!1};this.scale=this.oq=this.target=null;this.pK=0;this.je=new b.h(1,1);this.PT=new b.D;this.lT=new b.D;this.uI=new b.D;this.bg=null;this.th=new b.h;this.Dm=0;this.dE=new b.h;this.Ja={wn:0,duration:0,FR:!1,JX:!1,cw:!0,x:0,y:0};this.YM=this.Gm=0};b.Sb.EC=0;b.Sb.JL=1;b.Sb.KL=2;b.Sb.LL=3;b.Sb.t0=4;b.Sb.u0=5;b.Sb.v0=6;b.Sb.HL=!0;b.Sb.prototype={ad:function(){this.oq=this.a.g;this.scale=this.a.g.scale;this.a.K=this;b.S&&b.Sb.HL&&(this.bg=new b.S(this.a),this.a.ic.cl(this.bg))},
X:function(){this.pK=0},NQ:function(a,c,d,f){void 0===c&&(c=b.Sb.EC);void 0===d&&(d=1);void 0===f&&(f=1);this.target=a;this.je.set(d,f);switch(c){case b.Sb.JL:a=this.width/8;c=this.height/3;this.Ye=new b.v((this.width-a)/2,(this.height-c)/2-.25*c,a,c);break;case b.Sb.KL:a=Math.max(this.width,this.height)/4;this.Ye=new b.v((this.width-a)/2,(this.height-a)/2,a,a);break;case b.Sb.LL:a=Math.max(this.width,this.height)/8;this.Ye=new b.v((this.width-a)/2,(this.height-a)/2,a,a);break;case b.Sb.EC:this.Ye=
null;break;default:this.Ye=null}},update:function(){0<this.Gm&&this.jX();0<this.Ja.duration&&this.vX();this.l&&this.en();this.DJ&&(this.view.floor(),this.Ja.x=Math.floor(this.Ja.x),this.Ja.y=Math.floor(this.Ja.y));this.oq.position.x=-this.view.x;this.oq.position.y=-this.view.y},jX:function(){0===this.YM?(this.bg.alpha-=this.a.time.sl/this.Gm,0>=this.bg.alpha&&(this.Gm=0,this.bg.alpha=0,this.lT.s())):(this.bg.alpha+=this.a.time.sl/this.Gm,1<=this.bg.alpha&&(this.Gm=0,this.bg.alpha=1,this.uI.s()))},
vX:function(){this.Ja.duration-=this.a.time.sl;0>=this.Ja.duration?(this.PT.s(),this.Ja.x=0,this.Ja.y=0):(this.Ja.FR&&(this.Ja.x=this.a.sc.vq()*this.Ja.wn*this.view.width*2-this.Ja.wn*this.view.width),this.Ja.JX&&(this.Ja.y=this.a.sc.vq()*this.Ja.wn*this.view.height*2-this.Ja.wn*this.view.height))},yX:function(){this.th.x=this.view.x+this.target.Yr.x;this.th.y=this.view.y+this.target.Yr.y;this.Ye?(this.Dm=this.th.x-this.view.x,this.Dm<this.Ye.left?this.view.x=this.a.Pc.Ti(this.view.x,this.th.x-this.Ye.left,
this.je.x):this.Dm>this.Ye.right&&(this.view.x=this.a.Pc.Ti(this.view.x,this.th.x-this.Ye.right,this.je.x)),this.Dm=this.th.y-this.view.y,this.Dm<this.Ye.top?this.view.y=this.a.Pc.Ti(this.view.y,this.th.y-this.Ye.top,this.je.y):this.Dm>this.Ye.bottom&&(this.view.y=this.a.Pc.Ti(this.view.y,this.th.y-this.Ye.bottom,this.je.y))):(this.view.x=this.a.Pc.Ti(this.view.x,this.th.x-this.view.Bc,this.je.x),this.view.y=this.a.Pc.Ti(this.view.y,this.th.y-this.view.dd,this.je.y));this.l&&this.en();this.DJ&&this.view.floor();
this.oq.position.x=-this.view.x;this.oq.position.y=-this.view.y},ef:function(){this.l&&this.l.Jd(this.a.g.l)},en:function(){this.Xm.x=!1;this.Xm.y=!1;var a=this.view.right+this.Ja.x,c=this.view.y+this.Ja.y,b=this.view.bottom+this.Ja.y;this.view.x+this.Ja.x<=this.l.x*this.scale.x&&(this.Xm.x=!0,this.view.x=this.l.x*this.scale.x,this.Ja.cw||(this.Ja.x=0));a>=this.l.right*this.scale.x&&(this.Xm.x=!0,this.view.x=this.l.right*this.scale.x-this.width,this.Ja.cw||(this.Ja.x=0));c<=this.l.top*this.scale.y&&
(this.Xm.y=!0,this.view.y=this.l.top*this.scale.y,this.Ja.cw||(this.Ja.y=0));b>=this.l.bottom*this.scale.y&&(this.Xm.y=!0,this.view.y=this.l.bottom*this.scale.y-this.height,this.Ja.cw||(this.Ja.y=0))},setPosition:function(a,c){this.view.x=a;this.view.y=c;this.l&&this.en()},Xn:function(a,c){this.view.width=a;this.view.height=c},reset:function(){this.target=null;this.view.x=0;this.view.y=0;this.Ja.duration=0;this.uV()},uV:function(){this.bg.clear();this.Gm=this.bg.alpha=0}};b.Sb.prototype.constructor=
b.Sb;Object.defineProperty(b.Sb.prototype,"x",{get:function(){return this.view.x},set:function(a){this.view.x=a;this.l&&this.en()}});Object.defineProperty(b.Sb.prototype,"y",{get:function(){return this.view.y},set:function(a){this.view.y=a;this.l&&this.en()}});Object.defineProperty(b.Sb.prototype,"position",{get:function(){return this.dE.set(this.view.x,this.view.y),this.dE},set:function(a){"undefined"!=typeof a.x&&(this.view.x=a.x);"undefined"!=typeof a.y&&(this.view.y=a.y);this.l&&this.en()}});
Object.defineProperty(b.Sb.prototype,"width",{get:function(){return this.view.width},set:function(a){this.view.width=a}});Object.defineProperty(b.Sb.prototype,"height",{get:function(){return this.view.height},set:function(a){this.view.height=a}});Object.defineProperty(b.Sb.prototype,"shakeIntensity",{get:function(){return this.Ja.wn},set:function(a){this.Ja.wn=a}});b.Ks=function(){this.a=null;this.key="";this.sc=this.ta=this.Il=this.g=this.dm=this.time=this.state=this.ic=this.scale=this.ma=this.Pc=
this.load=this.input=this.cache=this.K=this.Fl=this.add=null};b.Ks.prototype={rb:function(){},qr:function(){},rS:function(){},qS:function(){},create:function(){},update:function(){},MA:function(){},Xa:function(){},resize:function(){},paused:function(){},yV:function(){},mr:function(){},wB:function(){}};b.Ks.prototype.constructor=b.Ks;b.xm=function(a,c){this.a=a;this.Ca={};this.Rf=null;"undefined"!=typeof c&&null!==c&&(this.Rf=c);this.Qf=this.lx=this.Us=!1;this.Rk=[];this.current="";this.II=new b.D;
this.er=this.ar=this.dr=this.br=this.$q=this.Zi=this.rv=this.tv=this.In=this.Jn=this.Yq=this.cr=this.nv=null};b.xm.prototype={ad:function(){this.a.Ce.add(this.pause,this);this.a.Pd.add(this.resume,this);null!==this.Rf&&"string"!=typeof this.Rf&&this.add("default",this.Rf,!0)},add:function(a,c,d){void 0===d&&(d=!1);var f;return c instanceof b.Ks?f=c:"object"==typeof c?(f=c,f.a=this.a):"function"==typeof c&&(f=new c(this.a)),this.Ca[a]=f,d&&(this.a.xn?this.start(a):this.Rf=a),f},remove:function(a){this.current===
a&&(this.U=null,this.nv=null,this.er=null,this.cr=null,this.$q=null,this.Zi=null,this.Yq=null,this.Jn=null,this.rv=null,this.In=null,this.tv=null,this.br=null,this.dr=null,this.ar=null);delete this.Ca[a]},start:function(a,c,b){void 0===c&&(c=!0);void 0===b&&(b=!1);this.uP(a)&&(this.Rf=a,this.Us=c,this.lx=b,3<arguments.length&&(this.Rk=Array.prototype.splice.call(arguments,3)))},lG:function(){},X:function(){if(this.Rf&&this.a.xn){var a=this.current;if(this.FF(),this.QV(this.Rf),this.II.s(this.current,
a),this.current===this.Rf)this.Rf=null,this.cr?(this.a.load.reset(!0),this.cr.call(this.U,this.a),0===this.a.load.aX()&&0===this.a.load.bX()?this.bA():this.a.load.start()):this.bA()}},FF:function(){this.current&&(this.er&&this.er.call(this.U,this.a),this.a.dm.$b(),this.a.K.reset(),this.a.input.reset(!0),this.a.ta.clear(),this.a.time.$b(),this.a.scale.reset(this.Us),this.a.debug&&this.a.debug.reset(),this.Us&&(this.a.g.wB(),this.lx&&this.a.cache.j()))},uP:function(a){return this.Ca[a]?!!(this.Ca[a].qr||
this.Ca[a].create||this.Ca[a].update||this.Ca[a].Xa)||(console.warn("Invalid Phaser State object given. Must contain at least a one of the required functions: preload, create, update or render"),!1):(console.warn("Phaser.StateManager - No state found with the key: "+a),!1)},link:function(a){this.Ca[a].a=this.a;this.Ca[a].add=this.a.add;this.Ca[a].Fl=this.a.Fl;this.Ca[a].K=this.a.K;this.Ca[a].cache=this.a.cache;this.Ca[a].input=this.a.input;this.Ca[a].load=this.a.load;this.Ca[a].Pc=this.a.Pc;this.Ca[a].ma=
this.a.ma;this.Ca[a].scale=this.a.scale;this.Ca[a].state=this;this.Ca[a].ic=this.a.ic;this.Ca[a].time=this.a.time;this.Ca[a].dm=this.a.dm;this.Ca[a].g=this.a.g;this.Ca[a].Il=this.a.Il;this.Ca[a].sc=this.a.sc;this.Ca[a].ta=this.a.ta;this.Ca[a].key=a},QV:function(a){this.U=this.Ca[a];this.link(a);this.nv=this.Ca[a].rb||this.lG;this.cr=this.Ca[a].qr||null;this.$q=this.Ca[a].qS||null;this.Zi=this.Ca[a].rS||null;this.Yq=this.Ca[a].create||null;this.Jn=this.Ca[a].update||null;this.rv=this.Ca[a].MA||null;
this.In=this.Ca[a].Xa||null;this.tv=this.Ca[a].resize||null;this.br=this.Ca[a].paused||null;this.dr=this.Ca[a].yV||null;this.ar=this.Ca[a].mr||null;this.er=this.Ca[a].wB||this.lG;""!==this.current&&this.a.ta.reset();this.current=a;this.Qf=!1;this.nv.apply(this.U,this.Rk);a===this.Rf&&(this.Rk=[]);this.a.mt=!0},bA:function(){!1===this.Qf&&this.Zi&&this.Zi.call(this.U,this.a);!1===this.Qf&&this.Yq?(this.Qf=!0,this.Yq.call(this.U,this.a)):this.Qf=!0},pause:function(){this.Qf&&this.br&&this.br.call(this.U,
this.a)},resume:function(){this.Qf&&this.dr&&this.dr.call(this.U,this.a)},update:function(){this.Qf?this.Jn&&this.Jn.call(this.U,this.a):this.Zi&&this.Zi.call(this.U,this.a)},mr:function(){this.Qf?this.ar&&this.ar.call(this.U,this.a):this.Zi&&this.Zi.call(this.U,this.a)},MA:function(a){this.Qf&&this.rv&&this.rv.call(this.U,this.a,a)},resize:function(a,c){this.tv&&this.tv.call(this.U,a,c)},Xa:function(){this.Qf?this.In&&(this.a.Fe===b.li?(this.a.context.save(),this.a.context.setTransform(1,0,0,1,0,
0),this.In.call(this.U,this.a),this.a.context.restore()):this.In.call(this.U,this.a)):this.$q&&this.$q.call(this.U,this.a)},j:function(){this.lx=this.Us=!0;this.FF();this.a=this.ar=this.dr=this.br=this.In=this.Jn=this.Yq=this.Zi=this.$q=this.cr=this.er=this.nv=this.U=null;this.Ca={};this.Rf=null;this.current=""}};b.xm.prototype.constructor=b.xm;Object.defineProperty(b.xm.prototype,"created",{get:function(){return this.Qf}});b.D=function(){};b.D.prototype={Hb:null,Hp:null,XH:!1,nE:!0,active:!0,yD:!1,
RK:function(a,c){if("function"!=typeof a)throw Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",c));},wN:function(a,c,d,f,m){var e,g=this.wx(a,d);if(-1!==g){if(e=this.Hb[g],e.it!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(c?"Once":"")+"() the same listener without removing the relationship first.");}else e=new b.Is(this,a,c,d,f,m),this.PM(e);return this.XH&&this.Hp&&e.qG(this.Hp),e},PM:function(a){this.Hb||(this.Hb=[]);var c=
this.Hb.length;do c--;while(this.Hb[c]&&a.Px<=this.Hb[c].Px);this.Hb.splice(c+1,0,a)},wx:function(a,c){if(!this.Hb)return-1;void 0===c&&(c=null);for(var b,f=this.Hb.length;f--;)if(b=this.Hb[f],b.Jm===a&&b.context===c)return f;return-1},has:function(a,c){return-1!==this.wx(a,c)},add:function(a,c,b){this.RK(a,"add");var d=[];if(3<arguments.length)for(var m=3;m<arguments.length;m++)d.push(arguments[m]);return this.wN(a,!1,c,b,d)},remove:function(a,c){this.RK(a,"remove");var b=this.wx(a,c);return-1!==
b&&(this.Hb[b].nx(),this.Hb.splice(b,1)),a},$b:function(a){if(void 0===a&&(a=null),this.Hb){for(var c=this.Hb.length;c--;)a?this.Hb[c].context===a&&(this.Hb[c].nx(),this.Hb.splice(c,1)):this.Hb[c].nx();a||(this.Hb.length=0)}},pR:function(){return this.Hb?this.Hb.length:0},s:function(){if(this.active&&this.Hb){var a,c=Array.prototype.slice.call(arguments),b=this.Hb.length;if(this.XH&&(this.Hp=c),b){a=this.Hb.slice();this.nE=!0;do b--;while(a[b]&&this.nE&&!1!==a[b].qG(c))}}},Ga:function(){this.$b();
this.Hb=null;this.Hp&&(this.Hp=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.pR()+"]"}};Object.defineProperty(b.D.prototype,"boundDispatch",{get:function(){var a=this;return this.yD||(this.yD=function(){return a.s.apply(a,arguments)})}});b.D.prototype.constructor=b.D;b.Is=function(a,c,b,f,m,e){this.Jm=c;b&&(this.it=!0);null!=f&&(this.context=f);this.Tx=a;m&&(this.Px=m);e&&e.length&&(this.Rk=e)};b.Is.prototype={context:null,it:!1,Px:0,Rk:null,iP:0,active:!0,
QI:null,qG:function(a){var c,b;return this.active&&this.Jm&&(b=this.QI?this.QI.concat(a):a,this.Rk&&(b=b.concat(this.Rk)),c=this.Jm.apply(this.context,b),this.iP++,this.it&&this.detach()),c},detach:function(){return this.xH()?this.Tx.remove(this.Jm,this.context):null},xH:function(){return!!this.Tx&&!!this.Jm},nx:function(){delete this.Tx;delete this.Jm;delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this.it+", isBound:"+this.xH()+", active:"+this.active+"]"}};b.Is.prototype.constructor=
b.Is;b.Gk=function(a,c,d){this.a=a;this.type=b.LM;this.RI=[this];this.di=[];this.m=!0;this.padding=0;this.OA=new b.h;a=new Date;if(this.nb={I:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},$e:{type:"2f",value:{x:0,y:0}},m2:{type:"4fv",value:[a.getFullYear(),a.getMonth(),a.getDate(),3600*a.getHours()+60*a.getMinutes()+a.getSeconds()]},sampleRate:{type:"1f",value:44100},e3:{type:"sampler2D",value:null,Jr:{repeat:!0}},f3:{type:"sampler2D",value:null,Jr:{repeat:!0}},g3:{type:"sampler2D",value:null,
Jr:{repeat:!0}},h3:{type:"sampler2D",value:null,Jr:{repeat:!0}}},c)for(var f in c)this.nb[f]=c[f];this.Md=d||""};b.Gk.prototype={rb:function(){},update:function(a){if("undefined"!=typeof a){var c=a.x/this.a.width;a=1-a.y/this.a.height;c===this.OA.x&&a===this.OA.y||(this.nb.$e.value.x=c.toFixed(2),this.nb.$e.value.y=a.toFixed(2),this.OA.set(c,a))}this.nb.time.value=this.a.time.$W()},Qp:function(a,c,b,f,m,e){void 0===m&&(m=0);void 0===e&&(e=0);void 0!==b&&null!==b?this.width=b:b=this.width;void 0!==
f&&null!==f?this.height=f:f=this.height;a=this.a.add.qb(a,c,"__default");return a.width=b,a.height=f,a.anchor.set(m,e),a.filters=[this],a},j:function(){this.a=null}};b.Gk.prototype.constructor=b.Gk;Object.defineProperty(b.Gk.prototype,"width",{get:function(){return this.nb.I.value.x},set:function(a){this.nb.I.value.x=a}});Object.defineProperty(b.Gk.prototype,"height",{get:function(){return this.nb.I.value.y},set:function(a){this.nb.I.value.y=a}});b.Plugin=function(a,c){void 0===c&&(c=null);this.a=
a;this.parent=c;this.Hz=this.Kz=this.Iz=this.Lz=this.Jz=this.visible=this.active=!1};b.Plugin.prototype={X:function(){},update:function(){},Xa:function(){},Ev:function(){},j:function(){this.parent=this.a=null;this.visible=this.active=!1}};b.Plugin.prototype.constructor=b.Plugin;b.Cs=function(a){this.a=a;this.plugins=[];this.W=this.Yd=0};b.Cs.prototype={add:function(a){var c=Array.prototype.slice.call(arguments,1),b=!1;return"function"==typeof a?a=new a(this.a,this):(a.a=this.a,a.parent=this),"function"==
typeof a.X&&(a.Jz=!0,b=!0),"function"==typeof a.update&&(a.Lz=!0,b=!0),"function"==typeof a.Fb&&(a.Iz=!0,b=!0),"function"==typeof a.Xa&&(a.Kz=!0,b=!0),"function"==typeof a.Ev&&(a.Hz=!0,b=!0),b?((a.Jz||a.Lz||a.Iz)&&(a.active=!0),(a.Kz||a.Hz)&&(a.visible=!0),this.Yd=this.plugins.push(a),"function"==typeof a.rb&&a.rb.apply(a,c),a):null},remove:function(a,c){void 0===c&&(c=!0);for(this.W=this.Yd;this.W--;)if(this.plugins[this.W]===a)return c&&a.j(),this.plugins.splice(this.W,1),void this.Yd--},$b:function(){for(this.W=
this.Yd;this.W--;)this.plugins[this.W].j();this.Yd=this.plugins.length=0},X:function(){for(this.W=this.Yd;this.W--;)this.plugins[this.W].active&&this.plugins[this.W].Jz&&this.plugins[this.W].X()},update:function(){for(this.W=this.Yd;this.W--;)this.plugins[this.W].active&&this.plugins[this.W].Lz&&this.plugins[this.W].update()},Fb:function(){for(this.W=this.Yd;this.W--;)this.plugins[this.W].active&&this.plugins[this.W].Iz&&this.plugins[this.W].Fb()},Xa:function(){for(this.W=this.Yd;this.W--;)this.plugins[this.W].visible&&
this.plugins[this.W].Kz&&this.plugins[this.W].Xa()},Ev:function(){for(this.W=this.Yd;this.W--;)this.plugins[this.W].visible&&this.plugins[this.W].Hz&&this.plugins[this.W].Ev()},j:function(){this.$b();this.a=null}};b.Cs.prototype.constructor=b.Cs;b.jd=function(a){this.a=a;PIXI.Ra.call(this);this.name="_stage_root";this.mn=!1;this.Ia=!0;this.na=new PIXI.rg;this.ic=this;this.YF=0;this.wi="hidden";this.Xk=null;this.Cd={r:0,vb:0,L:0,R:0,color:0,wr:"#000000"};this.a.Ie||(this.Cd.R=1);a.Da&&this.Hl(a.Da)};
b.jd.prototype=Object.create(PIXI.Ra.prototype);b.jd.prototype.constructor=b.jd;b.jd.prototype.Hl=function(a){a.mn&&(this.mn=a.mn);a.backgroundColor&&this.lB(a.backgroundColor)};b.jd.prototype.ad=function(){b.lc.Nu(this.a.canvas,this.offset);b.Of.dW(this.a.canvas,"none");b.Of.QJ(this.a.canvas,"none");this.wP()};b.jd.prototype.X=function(){for(var a=this.YF=0;a<this.children.length;a++)this.children[a].X()};b.jd.prototype.update=function(){for(var a=this.children.length;a--;)this.children[a].update()};
b.jd.prototype.Fb=function(){this.a.K.update();this.a.K.target&&(this.a.K.target.Fb(),this.Cb(),this.a.K.yX());for(var a=0;a<this.children.length;a++)this.children[a].Fb();this.Cb()};b.jd.prototype.Cb=function(){this.Tc=1;for(var a=0;a<this.children.length;a++)this.children[a].Cb()};b.jd.prototype.wP=function(){void 0!==document.hidden?this.wi="visibilitychange":void 0!==document.webkitHidden?this.wi="webkitvisibilitychange":void 0!==document.mozHidden?this.wi="mozvisibilitychange":void 0!==document.msHidden?
this.wi="msvisibilitychange":this.wi=null;var a=this;this.Xk=function(c){return a.cC(c)};this.wi&&document.addEventListener(this.wi,this.Xk,!1);window.onblur=this.Xk;window.onfocus=this.Xk;window.YT=this.Xk;window.ZT=this.Xk;this.a.pa.Gy&&(CocoonJS.kL.x4.addEventListener(function(){b.jd.prototype.cC.call(a,{type:"pause"})}),CocoonJS.kL.i4.addEventListener(function(){b.jd.prototype.cC.call(a,{type:"resume"})}))};b.jd.prototype.cC=function(a){return"pagehide"===a.type||"blur"===a.type||"pageshow"===
a.type||"focus"===a.type?void("pagehide"===a.type||"blur"===a.type?this.a.MQ(a):"pageshow"!==a.type&&"focus"!==a.type||this.a.LQ(a)):void(this.mn||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===a.type?this.a.zq(a):this.a.Aq(a)))};b.jd.prototype.lB=function(a){this.a.Ie||(b.ia.HX(a,this.Cd),b.ia.Or(this.Cd),this.Cd.r/=255,this.Cd.vb/=255,this.Cd.L/=255,this.Cd.R=1)};b.jd.prototype.j=function(){this.wi&&document.removeEventListener(this.wi,this.Xk,!1);window.YT=
null;window.ZT=null;window.onblur=null;window.onfocus=null};Object.defineProperty(b.jd.prototype,"backgroundColor",{get:function(){return this.Cd.color},set:function(a){this.lB(a)}});Object.defineProperty(b.jd.prototype,"smoothed",{get:function(){return PIXI.tc.DEFAULT===PIXI.tc.LINEAR},set:function(a){a?PIXI.tc.DEFAULT=PIXI.tc.LINEAR:PIXI.tc.DEFAULT=PIXI.tc.NEAREST}});b.G=function(a,c,d,f,m,e){void 0===f&&(f=!1);void 0===m&&(m=!1);void 0===e&&(e=b.f.nj);this.a=a;void 0===c&&(c=a.g);this.name=d||
"group";this.z=0;PIXI.Ra.call(this);f?(this.a.ic.cl(this),this.z=this.a.ic.children.length):c&&(c.cl(this),this.z=c.children.length);this.gc=this.type=b.Vd;this.Ia=this.Dg=!0;this.nr=this.IR=!1;this.CF=b.ka;this.cursor=null;this.OR=!1;this.aT=new b.D;this.dT=new b.D;this.cT=new b.D;this.bT=new b.D;this.ul=m;this.qU=e;this.VI=null;this.rI=new b.D;this.lu=0;this.Ld=!1;this.ja=new b.h;this.hash=[];this.Ai="z"};b.G.prototype=Object.create(PIXI.Ra.prototype);b.G.prototype.constructor=b.G;b.G.j0=0;b.G.Fs=
1;b.G.eD=2;b.G.Es=3;b.G.kD=-1;b.G.y0=1;b.G.prototype.add=function(a,c,b){return void 0===c&&(c=!1),a.parent===this?a:(a.body&&a.parent&&a.parent.hash&&a.parent.Nv(a),void 0===b?(a.z=this.children.length,this.cl(a)):(this.CE(a,b),this.sw()),this.ul&&a.hasOwnProperty("body")&&null===a.body?this.a.ta.enable(a,this.qU):a.body&&this.JE(a),!this.OR||a.input&&!a.Uu||(a.Uu=!0),!c&&a.F&&a.F.j4(a,this),null===this.cursor&&(this.cursor=a),a)};b.G.prototype.AE=function(a,c,b){this.add(a,b,c)};b.G.prototype.JE=
function(a){a.parent===this&&-1===this.hash.indexOf(a)&&this.hash.push(a)};b.G.prototype.Nv=function(a){a&&(a=this.hash.indexOf(a),-1!==a&&this.hash.splice(a,1))};b.G.prototype.create=function(a,c,b,f,m,e){void 0===m&&(m=!0);a=new this.CF(this.a,a,c,b,f);return a.Ia=m,a.visible=m,a.Dg=m,this.add(a,!1,e)};b.G.prototype.sw=function(){for(var a=this.children.length;a--;)this.children[a].z=a};b.G.prototype.align=function(a,c,d,f,m,e){if(void 0===m&&(m=b.oD),void 0===e&&(e=0),0===this.children.length||
e>this.children.length||-1===a&&-1===c)return!1;for(var p=new b.v(0,0,d,f),g=a*d,h=c*f;e<this.children.length;e++){var k=this.children[e];if(k.Nt)if(k.Nt(p,m),-1===a)p.y+=f,p.y===h&&(p.x+=d,p.y=0);else if(-1===c)p.x+=d,p.x===g&&(p.x=0,p.y+=f);else if(p.x+=d,p.x===g&&(p.x=0,p.y+=f,p.y===h))break}return!0};b.G.prototype.next=function(){if(this.cursor)return this.lu>=this.children.length-1?this.lu=0:this.lu++,this.cursor=this.children[this.lu],this.cursor};b.G.prototype.wh=function(a){return a.parent===
this&&this.Mg(a)<this.children.length&&(this.remove(a,!1,!0),this.add(a,!0)),a};b.G.prototype.kB=function(a){return a.parent===this&&0<this.Mg(a)&&(this.remove(a,!1,!0),this.AE(a,0,!0)),a};b.G.prototype.reverse=function(){this.children.reverse();this.sw()};b.G.prototype.Mg=function(a){return this.children.indexOf(a)};b.G.prototype.replace=function(a,c){var d=this.Mg(a);if(-1!==d)return c.parent&&(c.parent instanceof b.G?c.parent.remove(c):c.parent.removeChild(c)),this.remove(a),this.AE(c,d),a};b.G.prototype.DR=
function(a,c){var b=c.length;return 1===b&&c[0]in a||2===b&&c[0]in a&&c[1]in a[c[0]]||3===b&&c[0]in a&&c[1]in a[c[0]]&&c[2]in a[c[0]][c[1]]||4===b&&c[0]in a&&c[1]in a[c[0]]&&c[2]in a[c[0]][c[1]]&&c[3]in a[c[0]][c[1]][c[2]]};b.G.prototype.setProperty=function(a,c,b,f,m){if(void 0===m&&(m=!1),f=f||0,!this.DR(a,c)&&(!m||0<f))return!1;m=c.length;return 1===m?0===f?a[c[0]]=b:1===f?a[c[0]]+=b:2===f?a[c[0]]-=b:3===f?a[c[0]]*=b:4===f&&(a[c[0]]/=b):2===m?0===f?a[c[0]][c[1]]=b:1===f?a[c[0]][c[1]]+=b:2===f?
a[c[0]][c[1]]-=b:3===f?a[c[0]][c[1]]*=b:4===f&&(a[c[0]][c[1]]/=b):3===m?0===f?a[c[0]][c[1]][c[2]]=b:1===f?a[c[0]][c[1]][c[2]]+=b:2===f?a[c[0]][c[1]][c[2]]-=b:3===f?a[c[0]][c[1]][c[2]]*=b:4===f&&(a[c[0]][c[1]][c[2]]/=b):4===m&&(0===f?a[c[0]][c[1]][c[2]][c[3]]=b:1===f?a[c[0]][c[1]][c[2]][c[3]]+=b:2===f?a[c[0]][c[1]][c[2]][c[3]]-=b:3===f?a[c[0]][c[1]][c[2]][c[3]]*=b:4===f&&(a[c[0]][c[1]][c[2]][c[3]]/=b)),!0};b.G.prototype.set=function(a,c,b,f,m,e,g){if(void 0===g&&(g=!1),c=c.split("."),void 0===f&&(f=
!1),void 0===m&&(m=!1),(!1===f||f&&a.Dg)&&(!1===m||m&&a.visible))return this.setProperty(a,c,b,e,g)};b.G.prototype.Wn=function(a,c,b,f,m,e){void 0===b&&(b=!1);void 0===f&&(f=!1);void 0===e&&(e=!1);a=a.split(".");m=m||0;for(var d=0;d<this.children.length;d++)(!b||b&&this.children[d].Dg)&&(!f||f&&this.children[d].visible)&&this.setProperty(this.children[d],a,c,m,e)};b.G.prototype.addAll=function(a,c,b,f){this.Wn(a,c,b,f,1)};b.G.prototype.iF=function(a,c,b){if(1===b){if(a[c[0]])return a[c[0]]}else if(2===
b){if(a[c[0]][c[1]])return a[c[0]][c[1]]}else if(3===b){if(a[c[0]][c[1]][c[2]])return a[c[0]][c[1]][c[2]]}else if(4===b){if(a[c[0]][c[1]][c[2]][c[3]])return a[c[0]][c[1]][c[2]][c[3]]}else if(a[c])return a[c];return!1};b.G.prototype.zy=function(a,c){if(void 0!==a){a=a.split(".");var b=a.length;if(void 0===c||null===c||""===c)c=null;else if("string"==typeof c){c=c.split(".");var f=c.length}var m;if(2<arguments.length){m=[];for(var e=2;e<arguments.length;e++)m.push(arguments[e])}for(var g,h=null,e=0;e<
this.children.length;e++)g=this.iF(this.children[e],a,b),c&&g?(h=this.iF(this.children[e],c,f),g&&g.apply(h,m)):g&&g.apply(this.children[e],m)}};b.G.prototype.X=function(){if(this.nr)return this.j(),!1;if(!this.Ia||!this.parent.Ia)return this.Ml=-1,!1;for(var a=0;a<this.children.length;a++)this.children[a].X();return!0};b.G.prototype.update=function(){for(var a=this.children.length;a--;)this.children[a].update()};b.G.prototype.Fb=function(){this.Ld&&(this.x=this.a.K.view.x+this.ja.x,this.y=this.a.K.view.y+
this.ja.y);for(var a=0;a<this.children.length;a++)this.children[a].Fb()};b.G.prototype.filter=function(a,c){for(var d=-1,f=this.children.length,m=[];++d<f;){var e=this.children[d];(!c||c&&e.Ia)&&a(e,d,this.children)&&m.push(e)}return new b.ki(m)};b.G.prototype.forEach=function(a,c,b){if(void 0===b&&(b=!1),3>=arguments.length)for(var d=0;d<this.children.length;d++)(!b||b&&this.children[d].Ia)&&a.call(c,this.children[d]);else{for(var m=[null],d=3;d<arguments.length;d++)m.push(arguments[d]);for(d=0;d<
this.children.length;d++)(!b||b&&this.children[d].Ia)&&(m[0]=this.children[d],a.apply(c,m))}};b.G.prototype.BG=function(a,c){var d;if(2<arguments.length){d=[null];for(var f=2;f<arguments.length;f++)d.push(arguments[f])}this.Yz(!0,b.G.Fs,a,c,d)};b.G.prototype.sort=function(a,c){2>this.children.length||(void 0===a&&(a="z"),void 0===c&&(c=b.G.kD),this.Ai=a,c===b.G.kD?this.children.sort(this.gO.bind(this)):this.children.sort(this.eQ.bind(this)),this.sw())};b.G.prototype.gO=function(a,c){return a[this.Ai]<
c[this.Ai]?-1:a[this.Ai]>c[this.Ai]?1:a.z<c.z?-1:1};b.G.prototype.eQ=function(a,c){return a[this.Ai]<c[this.Ai]?1:a[this.Ai]>c[this.Ai]?-1:0};b.G.prototype.Yz=function(a,c,d,f,m){if(0===this.children.length){if(c===b.G.Fs)return 0;if(c===b.G.Es)return[]}var e=0;if(c===b.G.Es)var g=[];for(var h=0;h<this.children.length;h++)if(this.children[h].exists===a){if(e++,d&&(m?(m[0]=this.children[h],d.apply(f,m)):d.call(f,this.children[h])),c===b.G.eD)return this.children[h];c===b.G.Es&&g.push(this.children[h])}return c===
b.G.Fs?e:c===b.G.Es?g:null};b.G.prototype.zz=function(a,c,d,f,m){var e=!1;void 0===a&&(a=!1);"boolean"!=typeof e&&(e=!0);e=this.Yz(e,b.G.eD);return null===e&&a?this.create(c,d,f,m):this.tV(e,c,d,f,m)};b.G.prototype.tV=function(a,c,b,f,m){return null===a?null:(void 0===c&&(c=null),void 0===b&&(b=null),null!==c&&null!==b&&a.reset(c,b),void 0!==f&&a.Th(f,m),a)};b.G.prototype.getAll=function(a,c,b,f){void 0===b&&(b=0);void 0===f&&(f=this.children.length);for(var d=[];b<f;b++){var e=this.children[b];a&&
e[a]===c&&d.push(e)}return d};b.G.prototype.remove=function(a,c,b){if(void 0===c&&(c=!1),void 0===b&&(b=!1),0===this.children.length||-1===this.children.indexOf(a))return!1;b||!a.F||a.pu||a.F.MT(a,this);b=this.removeChild(a);return this.Nv(a),this.sw(),this.cursor===a&&this.next(),c&&b&&b.j(!0),!0};b.G.prototype.$b=function(a,c,b){if(void 0===a&&(a=!1),void 0===c&&(c=!1),void 0===b&&(b=!1),0!==this.children.length){do{!c&&this.children[0].F&&this.children[0].F.MT(this.children[0],this);var d=this.removeChild(this.children[0]);
this.Nv(d);a&&d&&d.j(!0,b)}while(0<this.children.length);this.hash=[];this.cursor=null}};b.G.prototype.j=function(a,c){null===this.a||this.IR||(void 0===a&&(a=!0),void 0===c&&(c=!1),this.rI.s(this,a,c),this.$b(a),this.cursor=null,this.filters=null,this.nr=!1,c||(this.parent&&this.parent.removeChild(this),this.a=null,this.Ia=!1))};Object.defineProperty(b.G.prototype,"total",{get:function(){return this.Yz(!0,b.G.Fs)}});Object.defineProperty(b.G.prototype,"length",{get:function(){return this.children.length}});
Object.defineProperty(b.G.prototype,"angle",{get:function(){return b.Math.Rn(this.rotation)},set:function(a){this.rotation=b.Math.Gh(a)}});Object.defineProperty(b.G.prototype,"centerX",{get:function(){return this.xa(this.parent).qd},set:function(a){var c=this.xa(this.parent);this.x=a+(this.x-c.x)-c.Bc}});Object.defineProperty(b.G.prototype,"centerY",{get:function(){return this.xa(this.parent).rd},set:function(a){var c=this.xa(this.parent);this.y=a+(this.y-c.y)-c.dd}});Object.defineProperty(b.G.prototype,
"left",{get:function(){return this.xa(this.parent).left},set:function(a){var c=this.xa(this.parent);this.x=a+(this.x-c.x)}});Object.defineProperty(b.G.prototype,"right",{get:function(){return this.xa(this.parent).right},set:function(a){var c=this.xa(this.parent);this.x=a+(this.x-c.x)-c.width}});Object.defineProperty(b.G.prototype,"top",{get:function(){return this.xa(this.parent).top},set:function(a){var c=this.xa(this.parent);this.y=a+(this.y-c.y)}});Object.defineProperty(b.G.prototype,"bottom",{get:function(){return this.xa(this.parent).bottom},
set:function(a){var c=this.xa(this.parent);this.y=a+(this.y-c.y)-c.height}});b.ld=function(a){b.G.call(this,a,null,"__world",!1);this.l=new b.v(0,0,a.width,a.height);this.K=null;this.Ws=!1;this.Kb=a.width;this.Ib=a.height;this.a.state.II.add(this.HW,this)};b.ld.prototype=Object.create(b.G.prototype);b.ld.prototype.constructor=b.ld;b.ld.prototype.ad=function(){this.K=new b.Sb(this.a,0,0,0,this.a.width,this.a.height);this.a.ic.cl(this);this.K.ad()};b.ld.prototype.HW=function(){this.y=this.x=0;this.K.reset()};
b.ld.prototype.Wv=function(a,c,b,f){this.Ws=!0;this.Kb=b;this.Ib=f;this.l.P(a,c,b,f);this.x=a;this.y=c;this.K.l&&this.K.l.P(a,c,Math.max(b,this.a.width),Math.max(f,this.a.height));this.a.ta.ef()};b.ld.prototype.resize=function(a,c){this.Ws&&(a<this.Kb&&(a=this.Kb),c<this.Ib&&(c=this.Ib));this.l.width=a;this.l.height=c;this.a.K.ef();this.a.ta.ef()};b.ld.prototype.wB=function(){this.j(!0,!0)};b.ld.prototype.$r=function(a,c,b,f,m){void 0===c&&(c=0);void 0===b&&(b=!1);void 0===f&&(f=!0);void 0===m&&(m=
!0);b?(a.xa(),f&&(a.x+a.wg.width<this.l.x?a.x=this.l.right:a.x>this.l.right&&(a.x=this.l.left)),m&&(a.y+a.wg.height<this.l.top?a.y=this.l.bottom:a.y>this.l.bottom&&(a.y=this.l.top))):(f&&a.x+c<this.l.x?a.x=this.l.right+c:f&&a.x-c>this.l.right&&(a.x=this.l.left-c),m&&a.y+c<this.l.top?a.y=this.l.bottom+c:m&&a.y-c>this.l.bottom&&(a.y=this.l.top-c))};Object.defineProperty(b.ld.prototype,"width",{get:function(){return this.l.width},set:function(a){a<this.a.width&&(a=this.a.width);this.Kb=this.l.width=
a;this.Ws=!0}});Object.defineProperty(b.ld.prototype,"height",{get:function(){return this.l.height},set:function(a){a<this.a.height&&(a=this.a.height);this.Ib=this.l.height=a;this.Ws=!0}});Object.defineProperty(b.ld.prototype,"centerX",{get:function(){return this.l.Bc+this.l.x}});Object.defineProperty(b.ld.prototype,"centerY",{get:function(){return this.l.dd+this.l.y}});Object.defineProperty(b.ld.prototype,"randomX",{get:function(){return 0>this.l.x?this.a.sc.wf(this.l.x,this.l.width-Math.abs(this.l.x)):
this.a.sc.wf(this.l.x,this.l.width)}});Object.defineProperty(b.ld.prototype,"randomY",{get:function(){return 0>this.l.y?this.a.sc.wf(this.l.y,this.l.height-Math.abs(this.l.y)):this.a.sc.wf(this.l.y,this.l.height)}});b.Oo=function(a,c,d,f,m,e,g,h){return this.id=b.Mw.push(this)-1,this.Da=null,this.xv=h,this.parent="",this.width=800,this.height=600,this.I=1,this.Kb=800,this.Ib=600,this.Ie=!1,this.antialias=!0,this.preserveDrawingBuffer=!1,this.gn=!0,this.Ha=null,this.Fe=b.Cw,this.state=null,this.xn=
!1,this.Oc=!1,this.rr=null,this.add=null,this.Fl=null,this.cache=null,this.input=null,this.load=null,this.Pc=null,this.scale=null,this.ma=null,this.ic=null,this.time=null,this.dm=null,this.g=null,this.ta=null,this.plugins=null,this.sc=null,this.pa=b.Me,this.K=null,this.canvas=null,this.context=null,this.debug=null,this.Il=null,this.create=null,this.eA=!1,this.Hr=!1,this.GA=!1,this.Ce=null,this.Pd=null,this.pI=null,this.zI=null,this.Zc=!1,this.Xd=!1,this.$B=1,this.vj=0,this.xx=0,this.Bt=0,this.mt=
!0,this.UQ=new b.D,this.qz=!0,this.UD=0,1===arguments.length&&"object"==typeof arguments[0]?this.Hl(arguments[0]):(this.Da={wu:!0},"undefined"!=typeof a&&(this.Kb=a),"undefined"!=typeof c&&(this.Ib=c),"undefined"!=typeof d&&(this.Fe=d),"undefined"!=typeof f&&(this.parent=f),"undefined"!=typeof e&&(this.Ie=e),"undefined"!=typeof g&&(this.antialias=g),this.sc=new b.Yo([(Date.now()*Math.random()).toString()]),this.state=new b.xm(this,m)),this.pa.cL(this.ad,this),this};b.Oo.prototype={Hl:function(a){this.Da=
a;void 0===a.wu&&(this.Da.wu=!0);a.width&&(this.Kb=a.width);a.height&&(this.Ib=a.height);a.Ha&&(this.Fe=a.Ha);a.parent&&(this.parent=a.parent);void 0!==a.Ie&&(this.Ie=a.Ie);void 0!==a.antialias&&(this.antialias=a.antialias);a.I&&(this.I=a.I);void 0!==a.preserveDrawingBuffer&&(this.preserveDrawingBuffer=a.preserveDrawingBuffer);a.xv&&(this.xv=a.xv);var c=[(Date.now()*Math.random()).toString()];a.MV&&(c=a.MV);this.sc=new b.Yo(c);c=null;a.state&&(c=a.state);this.state=new b.xm(this,c)},ad:function(){this.xn||
(this.Ce=new b.D,this.Pd=new b.D,this.pI=new b.D,this.zI=new b.D,this.xn=!0,PIXI.a=this,this.Pc=b.Math,this.scale=new b.Ya(this,this.Kb,this.Ib),this.ic=new b.jd(this),this.cW(),this.g=new b.ld(this),this.add=new b.ss(this),this.Fl=new b.rs(this),this.cache=new b.Cache(this),this.load=new b.yb(this),this.time=new b.cp(this),this.dm=new b.Rs(this),this.input=new b.ib(this),this.ma=new b.wm(this),this.ta=new b.f(this,this.xv),this.Il=new b.Ub(this),this.create=new b.oi(this),this.plugins=new b.Cs(this),
this.time.ad(),this.ic.ad(),this.g.ad(),this.scale.ad(),this.input.ad(),this.ma.ad(),this.state.ad(),this.Da.wu?(this.debug=new b.nc.os(this),this.debug.ad()):this.debug={X:function(){},update:function(){},reset:function(){}},this.lW(),this.Oc=!0,this.Da&&this.Da.pz?this.rr=new b.Zo(this,this.Da.pz):this.rr=new b.Zo(this,!1),this.mt=!0,window.focus&&(!window.gd||window.gd&&!window.gd.r5)&&window.focus(),this.rr.start())},lW:function(){if(!window.gd||!window.gd.d3){var a=b.VERSION,c="Canvas",d="HTML Audio",
f=1;if(this.Fe===b.uD?(c="WebGL",f++):this.Fe===b.us&&(c="Headless"),this.pa.eC&&(d="WebAudio",f++),this.pa.chrome){a=["%c %c %c Phaser v"+a+" | Pixi.js | "+c+" | "+d+"  %c %c %c http://phaser.io %c\u2665%c\u2665%c\u2665","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905;","background: #d44a52","background: #fb8cb3","background: #ffffff"];for(c=0;3>c;c++)c<f?a.push("color: #ff2424; background: #fff"):a.push("color: #959595; background: #fff");console.log.apply(console,
a)}else window.console&&console.log("Phaser v"+a+" | Pixi.js "+PIXI.VERSION+" | "+c+" | "+d+" | http://phaser.io")}},cW:function(){if(this.Da.canvas?this.canvas=this.Da.canvas:this.canvas=b.Of.create(this,this.width,this.height,this.Da.b2,!0),this.Da.mP?this.canvas.style=this.Da.mP:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.Fe===b.us||this.Fe===b.li||this.Fe===b.Cw&&!this.pa.uw){if(!this.pa.canvas)throw Error("Phaser.Game - Cannot create Canvas or WebGL context, aborting.");
this.Fe=b.li;this.Ha=new PIXI.pj(this);this.context=this.Ha.context}else this.Fe=b.uD,this.Ha=new PIXI.pf(this),this.context=null,this.canvas.addEventListener("webglcontextlost",this.ku.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.OP.bind(this),!1);this.pa.xf&&(this.canvas.IJ=this.Fe===b.li);this.Fe!==b.us&&(this.ic.zB=this.antialias,b.Of.UN(this.canvas,this.parent,!1),b.Of.QJ(this.canvas))},ku:function(a){a.preventDefault();this.Ha.ku=!0},OP:function(){this.Ha.oH();this.cache.AP();
this.Ha.ku=!1},update:function(a){if(this.time.update(a),this.mt)return this.IK(this.time.Ty),this.ZB(this.time.Cr*this.time.fG),void(this.mt=!1);if(1<this.Bt&&!this.qz)this.time.time>this.UD&&(this.UD=this.time.time+1E4,this.UQ.s()),this.Bt=this.vj=0,this.ZB(this.time.Cr*this.time.fG);else{a=1E3*this.time.Cr/this.time.fG;this.vj+=Math.max(Math.min(3*a,this.time.Ji),0);var c=0;this.$B=Math.floor(this.vj/a);for(this.qz&&(this.$B=Math.min(1,this.$B));this.vj>=a&&(this.vj-=a,this.IK(this.time.Ty),c++,
!this.qz||1!==c);)this.time.refresh();c>this.xx?this.Bt++:c<this.xx&&(this.Bt=0);this.xx=c;this.ZB(this.vj/a)}},IK:function(a){this.Zc||this.GA?(this.scale.mr(),this.state.mr(),this.debug.X()):(this.Hr&&(this.GA=!0),this.scale.X(),this.debug.X(),this.K.X(),this.ta.X(),this.state.X(a),this.plugins.X(a),this.ic.X(),this.state.update(),this.ic.update(),this.dm.update(),this.ma.update(),this.input.update(),this.ta.update(),this.Il.update(),this.plugins.update(),this.ic.Fb(),this.plugins.Fb());this.ic.Cb()},
ZB:function(a){this.eA||(this.state.MA(a),this.Fe!==b.us&&(this.Ha.Xa(this.ic),this.plugins.Xa(a),this.state.Xa(a)),this.plugins.Ev(a))},step:function(){this.GA=!1},j:function(){this.rr.stop();this.state.j();this.ma.j();this.scale.j();this.ic.j();this.input.j();this.ta.j();this.plugins.j();this.g=this.time=this.load=this.cache=this.plugins=this.ta=this.input=this.ic=this.scale=this.ma=this.state=null;this.xn=!1;this.Ha.j(!1);b.Of.eV(this.canvas);PIXI.lq=null;b.Mw[this.id]=null},zq:function(a){this.Zc||
(this.Zc=!0,this.time.zq(),this.ma.kI&&this.ma.qk(),this.Ce.s(a),this.pa.gq&&this.pa.Vj&&(this.eA=!0))},Aq:function(a){this.Zc&&!this.Xd&&(this.Zc=!1,this.time.Aq(),this.input.reset(),this.ma.kI&&this.ma.fm(),this.Pd.s(a),this.pa.gq&&this.pa.Vj&&(this.eA=!1))},MQ:function(a){this.pI.s(a);this.ic.mn||this.zq(a)},LQ:function(a){this.zI.s(a);this.ic.mn||this.Aq(a)}};b.Oo.prototype.constructor=b.Oo;Object.defineProperty(b.Oo.prototype,"paused",{get:function(){return this.Zc},set:function(a){!0===a?(!1===
this.Zc&&(this.Zc=!0,this.ma.qk(),this.time.zq(),this.Ce.s(this)),this.Xd=!0):(this.Zc&&(this.Zc=!1,this.input.reset(),this.ma.fm(),this.time.Aq(),this.Pd.s(this)),this.Xd=!1)}});b.ib=function(a){this.a=a;this.Tu=this.gH=null;this.Vq=[];this.$P=this.aG=null;this.Bv=0;this.enabled=!0;this.gg=b.ib.Po;this.scale=this.il=this.speed=this.position=null;this.hA=-1;this.OW=200;this.mQ=300;this.ER=2E3;this.kS=200;this.UU=!1;this.TU=this.VU=100;this.mk=this.lk=null;this.ed=[];this.Kg=this.Cn=this.ah=this.eg=
this.$e=this.Yb=this.gy=null;this.gB=!1;this.mv=this.fr=this.Xh=this.Wh=null;this.HS=0;this.Sh=new b.ki;this.Te=new b.h;this.Fp=0;this.vp=null;this.fy=this.ey=0};b.ib.As=0;b.ib.Os=1;b.ib.Po=2;b.ib.QC=10;b.ib.prototype={ad:function(){this.Yb=new b.wc(this.a,0,b.To.wC);this.addPointer();this.addPointer();this.$e=new b.Ad(this.a);this.ah=new b.Touch(this.a);this.Cn=new b.Bs(this.a);b.jh&&(this.eg=new b.jh(this.a));b.Gamepad&&(this.Kg=new b.Gamepad(this.a));this.Wh=new b.D;this.Xh=new b.D;this.fr=new b.D;
this.mv=new b.D;this.scale=new b.h(1,1);this.speed=new b.h;this.position=new b.h;this.vp=new b.h;this.il=new b.ob(0,0,44);this.gy=this.Yb;this.gH=PIXI.ab.create(this,1,1);this.Tu=this.gH.getContext("2d");this.$e.start();this.ah.start();this.Cn.start();this.Yb.active=!0;this.eg&&this.eg.start();var a=this;this.VD=function(c){a.eT(c)};this.a.canvas.addEventListener("click",this.VD,!1)},j:function(){this.$e.stop();this.ah.stop();this.Cn.stop();this.eg&&this.eg.stop();this.Kg&&this.Kg.stop();this.Vq=
[];PIXI.ab.remove(this);this.a.canvas.removeEventListener("click",this.VD)},addPointer:function(){if(this.ed.length>=b.ib.QC)return console.warn("Phaser.Input.addPointer: Maximum limit of "+b.ib.QC+" pointers reached."),null;var a=this.ed.length+1,c=new b.wc(this.a,a,b.To.KM);return this.ed.push(c),this["pointer"+a]=c,c},update:function(){if(this.eg&&this.eg.update(),0<this.Bv&&this.Fp<this.Bv)return void this.Fp++;this.speed.x=this.position.x-this.vp.x;this.speed.y=this.position.y-this.vp.y;this.vp.Jd(this.position);
this.Yb.update();this.Kg&&this.Kg.active&&this.Kg.update();for(var a=0;a<this.ed.length;a++)this.ed[a].update();this.Fp=0},reset:function(a){if(this.a.xn&&!this.gB){void 0===a&&(a=!1);this.Yb.reset();this.eg&&this.eg.reset(a);this.Kg&&this.Kg.reset();for(var c=0;c<this.ed.length;c++)this.ed[c].reset();"none"!==this.a.canvas.style.cursor&&(this.a.canvas.style.cursor="inherit");a&&(this.Wh.Ga(),this.Xh.Ga(),this.fr.Ga(),this.mv.Ga(),this.Wh=new b.D,this.Xh=new b.D,this.fr=new b.D,this.mv=new b.D,this.Vq=
[]);this.Fp=0}},wV:function(a,c){this.vp.P(a,c);this.speed.P(0,0)},$J:function(a){if(0<=this.hA&&this.Py(this.hA)>=this.hA)return null;if(!this.lk.active)return this.lk.start(a);if(!this.mk.active)return this.mk.start(a);for(var c=2;c<this.ed.length;c++){var b=this.ed[c];if(!b.active)return b.start(a)}return null},KK:function(a){if(this.lk.active&&this.lk.identifier===a.identifier)return this.lk.move(a);if(this.mk.active&&this.mk.identifier===a.identifier)return this.mk.move(a);for(var c=2;c<this.ed.length;c++){var b=
this.ed[c];if(b.active&&b.identifier===a.identifier)return b.move(a)}return null},HB:function(a){if(this.lk.active&&this.lk.identifier===a.identifier)return this.lk.stop(a);if(this.mk.active&&this.mk.identifier===a.identifier)return this.mk.stop(a);for(var c=2;c<this.ed.length;c++){var b=this.ed[c];if(b.active&&b.identifier===a.identifier)return b.stop(a)}return null},Py:function(a){void 0===a&&(a=this.ed.length);for(var c=a,b=0;b<this.ed.length&&0<c;b++)this.ed[b].active&&c--;return a-c},Az:function(a){for(var c=
0;c<this.ed.length;c++){var b=this.ed[c];if(b.identifier===a)return b}return null},UG:function(a,c,d){void 0===d&&(d=new b.h);a=a.na;var f=1/(a.R*a.d+a.ha*-a.L);return d.P(a.d*f*c.x+-a.ha*f*c.y+(a.oa*a.ha-a.qa*a.d)*f,a.R*f*c.y+-a.L*f*c.x+(-a.oa*a.R+a.qa*a.L)*f)},zl:function(a,c,d){if(!a.RX)return!1;if(this.UG(a,c,this.Te),d.Jd(this.Te),a.Iq&&a.Iq.contains)return a.Iq.contains(this.Te.x,this.Te.y);if(a instanceof b.Pe){var f=a.width,m=a.height,e=-f*a.anchor.x;if(this.Te.x>=e&&this.Te.x<e+f&&(f=-m*
a.anchor.y,this.Te.y>=f&&this.Te.y<f+m))return!0}else if(a instanceof PIXI.ka){if(f=a.c.frame.width,m=a.c.frame.height,e=-f*a.anchor.x,this.Te.x>=e&&this.Te.x<e+f&&(f=-m*a.anchor.y,this.Te.y>=f&&this.Te.y<f+m))return!0}else if(a instanceof b.S)for(m=0;m<a.Nd.length;m++)if(f=a.Nd[m],f.fill&&f.shape&&f.shape.contains(this.Te.x,this.Te.y))return!0;for(m=0;m<a.children.length;m++)if(this.zl(a.children[m],c,d))return!0;return!1},eT:function(){this.gy.JU()}};b.ib.prototype.constructor=b.ib;Object.defineProperty(b.ib.prototype,
"x",{get:function(){return this.ey},set:function(a){this.ey=Math.floor(a)}});Object.defineProperty(b.ib.prototype,"y",{get:function(){return this.fy},set:function(a){this.fy=Math.floor(a)}});Object.defineProperty(b.ib.prototype,"pollLocked",{get:function(){return 0<this.Bv&&this.Fp<this.Bv}});Object.defineProperty(b.ib.prototype,"totalInactivePointers",{get:function(){return this.ed.length-this.Py()}});Object.defineProperty(b.ib.prototype,"totalActivePointers",{get:function(){return this.Py()}});
Object.defineProperty(b.ib.prototype,"worldX",{get:function(){return this.a.K.view.x+this.x}});Object.defineProperty(b.ib.prototype,"worldY",{get:function(){return this.a.K.view.y+this.y}});b.Ad=function(a){this.a=a;this.input=a.input;this.U=this.a;this.dI=this.gv=this.fv=this.hv=this.cI=null;this.capture=!1;this.button=-1;this.wheelDelta=0;this.enabled=!0;this.eK=this.locked=!1;this.ZI=new b.D;this.Lt=this.Ex=this.Cx=this.Bx=this.Dx=this.Ax=this.st=this.event=null};b.Ad.jM=-1;b.Ad.Ow=0;b.Ad.Rw=1;
b.Ad.ax=2;b.Ad.Ew=3;b.Ad.Lw=4;b.Ad.a1=1;b.Ad.$0=-1;b.Ad.prototype={start:function(){if((!this.a.pa.Sp||!1!==this.a.pa.chrome)&&null===this.st){var a=this;this.st=function(c){return a.vT(c)};this.Ax=function(c){return a.wT(c)};this.Dx=function(c){return a.AT(c)};this.$D=function(c){return a.BT(c)};this.ZD=function(c){return a.yT(c)};this.Bx=function(c){return a.xT(c)};this.Cx=function(c){return a.zT(c)};this.Ex=function(c){return a.CT(c)};var c=this.a.canvas;c.addEventListener("mousedown",this.st,
!0);c.addEventListener("mousemove",this.Ax,!0);c.addEventListener("mouseup",this.Dx,!0);this.a.pa.xf||(window.addEventListener("mouseup",this.$D,!0),window.addEventListener("mouseout",this.ZD,!0),c.addEventListener("mouseover",this.Cx,!0),c.addEventListener("mouseout",this.Bx,!0));var b=this.a.pa.Xr;b&&(c.addEventListener(b,this.Ex,!0),"mousewheel"===b?this.Lt=new n(-.025,1):"DOMMouseScroll"===b&&(this.Lt=new n(1,1)))}},vT:function(a){this.event=a;this.capture&&a.preventDefault();this.cI&&this.cI.call(this.U,
a);this.input.enabled&&this.enabled&&(a.identifier=0,this.input.Yb.start(a))},wT:function(a){this.event=a;this.capture&&a.preventDefault();this.LS&&this.LS.call(this.U,a);this.input.enabled&&this.enabled&&(a.identifier=0,this.input.Yb.move(a))},AT:function(a){this.event=a;this.capture&&a.preventDefault();this.hv&&this.hv.call(this.U,a);this.input.enabled&&this.enabled&&(a.identifier=0,this.input.Yb.stop(a))},BT:function(a){this.input.Yb.kf||(this.hv&&this.hv.call(this.U,a),a.identifier=0,this.input.Yb.stop(a))},
yT:function(a){this.event=a;this.capture&&a.preventDefault();this.input.Yb.kf=!1;this.input.enabled&&this.enabled&&(this.input.Yb.stop(a),this.input.Yb.Ri.stop(a),this.input.Yb.Ol.stop(a))},xT:function(a){this.event=a;this.capture&&a.preventDefault();this.input.Yb.kf=!1;this.fv&&this.fv.call(this.U,a);this.input.enabled&&this.enabled&&this.eK&&(a.identifier=0,this.input.Yb.stop(a))},zT:function(a){this.event=a;this.capture&&a.preventDefault();this.input.Yb.kf=!0;this.gv&&this.gv.call(this.U,a)},CT:function(a){this.Lt&&
(a=this.Lt.wO(a));this.event=a;this.capture&&a.preventDefault();this.wheelDelta=b.Math.Vf(-a.deltaY,-1,1);this.dI&&this.dI.call(this.U,a)},stop:function(){var a=this.a.canvas;a.removeEventListener("mousedown",this.st,!0);a.removeEventListener("mousemove",this.Ax,!0);a.removeEventListener("mouseup",this.Dx,!0);a.removeEventListener("mouseover",this.Cx,!0);a.removeEventListener("mouseout",this.Bx,!0);var c=this.a.pa.Xr;c&&a.removeEventListener(c,this.Ex,!0);window.removeEventListener("mouseup",this.$D,
!0);window.removeEventListener("mouseout",this.ZD,!0);document.removeEventListener("pointerlockchange",this.bE,!0);document.removeEventListener("mozpointerlockchange",this.bE,!0);document.removeEventListener("webkitpointerlockchange",this.bE,!0)}};b.Ad.prototype.constructor=b.Ad;n.prototype={};n.prototype.constructor=n;n.prototype.wO=function(a){if(!n.CN&&a){var c=function(a){return function(){var c=this.Kn[a];return"function"!=typeof c?c:c.bind(this.Kn)}},b;for(b in a)b in n.prototype||Object.defineProperty(n.prototype,
b,{get:c(b)});n.CN=!0}return this.Kn=a,this};Object.defineProperties(n.prototype,{type:{value:"wheel"},deltaMode:{get:function(){return this.UM}},deltaY:{get:function(){return this.mE*(this.Kn.wheelDelta||this.Kn.detail)||0}},deltaX:{get:function(){return this.mE*this.Kn.wheelDeltaX||0}},deltaZ:{value:0}});b.Bs=function(a){this.a=a;this.input=a.input;this.U=this.a;this.bJ=this.$I=this.YI=null;this.capture=!0;this.button=-1;this.event=null;this.enabled=!0;this.zp=this.yp=this.Bp=this.Ap=this.xp=this.Mm=
null};b.Bs.prototype={start:function(){if(null===this.Mm){var a=this;if(this.a.pa.Cn){this.Mm=function(c){return a.GT(c)};this.xp=function(c){return a.HT(c)};this.Ap=function(c){return a.zA(c)};this.Bp=function(c){return a.KT(c)};this.yp=function(c){return a.IT(c)};this.zp=function(c){return a.JT(c)};var c=this.a.canvas;c.addEventListener("MSPointerDown",this.Mm,!1);c.addEventListener("MSPointerMove",this.xp,!1);c.addEventListener("MSPointerUp",this.Ap,!1);c.addEventListener("pointerdown",this.Mm,
!1);c.addEventListener("pointermove",this.xp,!1);c.addEventListener("pointerup",this.Ap,!1);c.style["-ms-content-zooming"]="none";c.style["-ms-touch-action"]="none";this.a.pa.xf||(window.addEventListener("MSPointerUp",this.Bp,!0),c.addEventListener("MSPointerOver",this.zp,!0),c.addEventListener("MSPointerOut",this.yp,!0),window.addEventListener("pointerup",this.Bp,!0),c.addEventListener("pointerover",this.zp,!0),c.addEventListener("pointerout",this.yp,!0))}}},GT:function(a){this.event=a;this.capture&&
a.preventDefault();this.YI&&this.YI.call(this.U,a);this.input.enabled&&this.enabled&&(a.identifier=a.pointerId,"mouse"===a.pointerType||4===a.pointerType?this.input.Yb.start(a):this.input.$J(a))},HT:function(a){this.event=a;this.capture&&a.preventDefault();this.$I&&this.$I.call(this.U,a);this.input.enabled&&this.enabled&&(a.identifier=a.pointerId,"mouse"===a.pointerType||4===a.pointerType?this.input.Yb.move(a):this.input.KK(a))},zA:function(a){this.event=a;this.capture&&a.preventDefault();this.bJ&&
this.bJ.call(this.U,a);this.input.enabled&&this.enabled&&(a.identifier=a.pointerId,"mouse"===a.pointerType||4===a.pointerType?this.input.Yb.stop(a):this.input.HB(a))},KT:function(a){if("mouse"!==a.pointerType&&4!==a.pointerType||this.input.Yb.kf){var c=this.input.Az(a.identifier);c&&c.kf&&this.zA(a)}else this.zA(a)},IT:function(a){if(this.event=a,this.capture&&a.preventDefault(),"mouse"===a.pointerType||4===a.pointerType)this.input.Yb.kf=!1;else{var c=this.input.Az(a.identifier);c&&(c.kf=!1)}this.input.$e.fv&&
this.input.$e.fv.call(this.input.$e.U,a);this.input.enabled&&this.enabled&&this.input.$e.eK&&(a.identifier=0,c?c.stop(a):this.input.Yb.stop(a))},JT:function(a){if(this.event=a,this.capture&&a.preventDefault(),"mouse"===a.pointerType||4===a.pointerType)this.input.Yb.kf=!0;else{var c=this.input.Az(a.identifier);c&&(c.kf=!0)}this.input.$e.gv&&this.input.$e.gv.call(this.input.$e.U,a)},stop:function(){var a=this.a.canvas;a.removeEventListener("MSPointerDown",this.Mm,!1);a.removeEventListener("MSPointerMove",
this.xp,!1);a.removeEventListener("MSPointerUp",this.Ap,!1);a.removeEventListener("pointerdown",this.Mm,!1);a.removeEventListener("pointermove",this.xp,!1);a.removeEventListener("pointerup",this.Ap,!1);window.removeEventListener("MSPointerUp",this.Bp,!0);a.removeEventListener("MSPointerOver",this.zp,!0);a.removeEventListener("MSPointerOut",this.yp,!0);window.removeEventListener("pointerup",this.Bp,!0);a.removeEventListener("pointerover",this.zp,!0);a.removeEventListener("pointerout",this.yp,!0)}};
b.Bs.prototype.constructor=b.Bs;b.qg=function(a){this.parent=a;this.a=a.a;this.event=null;this.va=!1;this.lb=!0;this.oe=this.Rd=0;this.ctrlKey=this.shiftKey=this.altKey=!1;this.value=0;this.Wh=new b.D;this.Xh=new b.D;this.yI=new b.D};b.qg.prototype={start:function(a,c){this.va||(this.va=!0,this.lb=!1,this.Rd=this.a.time.time,this.event=a,this.value=c,a&&(this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.ctrlKey=a.ctrlKey),this.Wh.s(this,c))},stop:function(a,c){this.lb||(this.va=!1,this.lb=!0,this.oe=
this.a.time.time,this.event=a,this.value=c,a&&(this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.ctrlKey=a.ctrlKey),this.Xh.s(this,c))},dU:function(a){this.value=a;this.yI.s(this,a)},Dl:function(a){return a=a||250,this.lb&&this.oe+a>this.a.time.time},reset:function(){this.va=!1;this.lb=!0;this.Rd=this.a.time.time;this.ctrlKey=this.shiftKey=this.altKey=!1},j:function(){this.Wh.Ga();this.Xh.Ga();this.yI.Ga();this.a=this.parent=null}};b.qg.prototype.constructor=b.qg;Object.defineProperty(b.qg.prototype,
"duration",{get:function(){return this.lb?-1:this.a.time.time-this.Rd}});b.wc=function(a,c,d){this.a=a;this.id=c;this.type=b.qM;this.Ia=!0;this.identifier=0;this.pointerId=null;this.Av=d||b.To.wC|b.To.yL;this.button=this.target=null;this.Ri=new b.qg(this);this.ev=new b.qg(this);this.Ol=new b.qg(this);this.Rt=new b.qg(this);this.Eu=new b.qg(this);this.yu=new b.qg(this);this.ht=!1;this.qp=[];this.TD=0;this.kf=this.Vx=!1;this.screenY=this.screenX=this.pageY=this.pageX=this.clientY=this.clientX=-1;this.pA=
this.oA=this.nJ=this.mJ=0;this.y=this.x=-1;this.Zj=0===c;this.va=!1;this.lb=!0;this.gJ=this.oe=this.Rd=0;this.jc=null;this.Vu=[];this.m=this.active=!1;this.position=new b.h;this.yU=new b.h;this.BU=new b.h;this.il=new b.ob(0,0,44);this.Et=this.Vs=null};b.wc.jM=0;b.wc.Ow=1;b.wc.ax=2;b.wc.Rw=4;b.wc.Ew=8;b.wc.Lw=16;b.wc.IL=32;b.wc.prototype={sV:function(){this.va=!1;this.lb=!0;this.Zj&&(this.Ri.reset(),this.ev.reset(),this.Ol.reset(),this.Rt.reset(),this.Eu.reset(),this.yu.reset())},HU:function(a,c){b.wc.Ow&
a&&this.Ri.start(c);b.wc.ax&a&&this.Ol.start(c);b.wc.Rw&a&&this.ev.start(c);b.wc.Ew&a&&this.Rt.start(c);b.wc.Lw&a&&this.Eu.start(c);b.wc.IL&a&&this.yu.start(c)},IU:function(a,c){a===b.Ad.Ow&&this.Ri.stop(c);a===b.Ad.ax&&this.Ol.stop(c);a===b.Ad.Rw&&this.ev.stop(c);a===b.Ad.Ew&&this.Rt.stop(c);a===b.Ad.Lw&&this.Eu.stop(c);5===a&&this.yu.stop(c)},SB:function(a){this.button=a.button;var c="down"===a.type.toLowerCase().substr(-4);void 0!==a.buttons?c?this.HU(a.buttons,a):this.IU(a.button,a):c?this.Ri.start(a):
(this.Ri.stop(a),this.Ol.stop(a));1===a.buttons&&a.ctrlKey&&this.Ri.va&&(this.Ri.stop(a),this.Ol.start(a));this.lb=!0;this.va=!1;(this.Ri.va||this.Ol.va||this.ev.va||this.Rt.va||this.Eu.va||this.yu.va)&&(this.lb=!1,this.va=!0)},start:function(a){var c=this.a.input;return a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.Zj?this.SB(a):(this.va=!0,this.lb=!1),this.active=!0,this.kf=!0,this.m=!1,this.qp=[],this.Vs=null,this.Et=null,this.Rd=this.a.time.time,
this.ht=!1,this.move(a,!0),this.yU.P(this.x,this.y),(c.gg===b.ib.As||c.gg===b.ib.Po||c.gg===b.ib.Os&&0===c.RB)&&(c.x=this.x,c.y=this.y,c.position.P(this.x,this.y),c.Wh.s(this,a),c.wV(this.x,this.y)),this.Vx=!1,null!==this.jc&&this.jc.DN(this),this},update:function(){var a=this.a.input;this.active&&(this.m&&(0<a.Sh.total&&this.iJ(!1),this.m=!1),!1===this.ht&&this.duration>=a.ER&&((a.gg===b.ib.As||a.gg===b.ib.Po||a.gg===b.ib.Os&&0===a.RB)&&a.mv.s(this),this.ht=!0),a.UU&&this.a.time.time>=this.TD&&(this.TD=
this.a.time.time+a.VU,this.qp.push({x:this.position.x,y:this.position.y}),this.qp.length>a.TU&&this.qp.shift()))},move:function(a,c){var d=this.a.input;if(!d.I4){if(void 0===c&&(c=!1),void 0!==a.button&&(this.button=a.button),c&&this.Zj&&this.SB(a),this.clientX=a.clientX,this.clientY=a.clientY,this.pageX=a.pageX,this.pageY=a.pageY,this.screenX=a.screenX,this.screenY=a.screenY,this.Zj&&d.$e.locked&&!c&&(this.mJ=a.oA||a.P3||a.D5||0,this.nJ=a.pA||a.Q3||a.E5||0,this.oA+=this.mJ,this.pA+=this.nJ),this.x=
(this.pageX-this.a.scale.offset.x)*d.scale.x,this.y=(this.pageY-this.a.scale.offset.y)*d.scale.y,this.position.P(this.x,this.y),this.il.x=this.x,this.il.y=this.y,(d.gg===b.ib.As||d.gg===b.ib.Po||d.gg===b.ib.Os&&0===d.RB)&&(d.gy=this,d.x=this.x,d.y=this.y,d.position.P(d.x,d.y),d.il.x=d.x,d.il.y=d.y),this.kf=this.a.scale.l.contains(this.pageX,this.pageY),this.a.paused)return this;for(var f=d.Vq.length;f--;)d.Vq[f].pc.call(d.Vq[f].context,this,this.x,this.y,c);return null!==this.jc&&!0===this.jc.Df?
!1===this.jc.update(this)&&(this.jc=null):0<d.Sh.total&&this.iJ(c),this}},iJ:function(a){var c=0,b=-1,f=null,m=this.a.input.Sh.first;for(this.Vu=[];m;)m.checked=!1,m.QK(b,c,!1)&&(m.checked=!0,(a&&m.uF(this,!0)||!a&&m.fn(this,!0))&&(c=m.b.Ml,b=m.Pn,f=m,this.Vu.push(m))),m=this.a.input.Sh.next;for(m=this.a.input.Sh.first;m;)!m.checked&&m.QK(b,c,!0)&&(a&&m.uF(this,!1)||!a&&m.fn(this,!1))&&(c=m.b.Ml,b=m.Pn,f=m,this.Vu.push(m)),m=this.a.input.Sh.next;return this.a.input.aG&&(f=this.a.input.aG.call(this.a.input.$P,
this,this.Vu,f)),this.MW(f,!1),null!==this.jc},MW:function(a,c){void 0===c&&(c=!1);null===a?this.jc&&(this.jc.Ep(this,c),this.jc=null):null===this.jc?(this.jc=a,a.cE(this,c)):this.jc===a?!1===a.update(this)&&(this.jc=null):(this.jc.Ep(this,c),this.jc=a,this.jc.cE(this,c))},stop:function(a){var c=this.a.input;return this.Vx&&this.kf?void a.preventDefault():(this.oe=this.a.time.time,(c.gg===b.ib.As||c.gg===b.ib.Po||c.gg===b.ib.Os&&0===c.RB)&&(c.Xh.s(this,a),0<=this.duration&&this.duration<=c.OW&&(this.oe-
this.gJ<c.mQ?c.fr.s(this,!0):c.fr.s(this,!1),this.gJ=this.oe)),this.Zj?this.SB(a):(this.va=!1,this.lb=!0),0<this.id&&(this.active=!1),this.kf=this.a.scale.l.contains(a.pageX,a.pageY),this.pointerId=null,this.identifier=null,this.BU.P(this.x,this.y),!1===this.Zj&&c.l2--,c.Sh.zy("_releasedHandler",this),this.Vs&&(this.Et=this.jc),this.jc=null,this)},Dl:function(a){return a=a||this.a.input.kS,this.lb&&this.oe+a>this.a.time.time},JU:function(){var a=this.Vs;if(a){for(var c=0;c<a.length;c++){var b=a[c];
b.jc===this.Et&&b.pc.apply(b.U,b.a2)}this.Et=this.Vs=null}},reset:function(){!1===this.Zj&&(this.active=!1);this.identifier=this.pointerId=null;this.ht=this.m=!1;this.qp.length=0;this.Vx=!0;this.sV();this.jc&&this.jc.xN(this);this.jc=null}};b.wc.prototype.constructor=b.wc;Object.defineProperty(b.wc.prototype,"duration",{get:function(){return this.lb?-1:this.a.time.time-this.Rd}});Object.defineProperty(b.wc.prototype,"worldX",{get:function(){return this.a.g.K.x+this.x}});Object.defineProperty(b.wc.prototype,
"worldY",{get:function(){return this.a.g.K.y+this.y}});b.To={wC:1,yL:2};b.Touch=function(a){this.a=a;this.enabled=!0;this.bh=[];this.U=this.a;this.qK=this.tK=this.sK=this.rK=this.uK=this.vK=null;this.preventDefault=!0;this.tt=this.Fx=this.Ix=this.Hx=this.Gx=this.tt=this.ut=this.event=null};b.Touch.prototype={start:function(){if(null===this.ut){var a=this;this.a.pa.ah&&(this.ut=function(c){return a.WT(c)},this.tt=function(c){return a.VT(c)},this.Gx=function(c){return a.ST(c)},this.Hx=function(c){return a.TT(c)},
this.Ix=function(c){return a.UT(c)},this.Fx=function(c){return a.RT(c)},this.a.canvas.addEventListener("touchstart",this.ut,!1),this.a.canvas.addEventListener("touchmove",this.tt,!1),this.a.canvas.addEventListener("touchend",this.Gx,!1),this.a.canvas.addEventListener("touchcancel",this.Fx,!1),this.a.pa.xf||(this.a.canvas.addEventListener("touchenter",this.Hx,!1),this.a.canvas.addEventListener("touchleave",this.Ix,!1)))}},ly:function(a,c,b){void 0===b&&(b=!1);this.bh.push({pc:a,context:c,sI:b})},gV:function(a,
c){for(var b=this.bh.length;b--;)if(this.bh[b].pc===a&&this.bh[b].context===c)return this.bh.splice(b,1),!0;return!1},WT:function(a){for(var c=this.bh.length;c--;){var b=this.bh[c];!b.sI&&b.pc.call(b.context,this,a)&&this.bh.splice(c,1)}if(this.event=a,this.a.input.enabled&&this.enabled)for(this.vK&&this.vK.call(this.U,a),this.preventDefault&&a.preventDefault(),c=0;c<a.changedTouches.length;c++)this.a.input.$J(a.changedTouches[c])},RT:function(a){if(this.event=a,this.qK&&this.qK.call(this.U,a),this.a.input.enabled&&
this.enabled){this.preventDefault&&a.preventDefault();for(var c=0;c<a.changedTouches.length;c++)this.a.input.HB(a.changedTouches[c])}},TT:function(a){this.event=a;this.sK&&this.sK.call(this.U,a);this.a.input.enabled&&this.enabled&&this.preventDefault&&a.preventDefault()},UT:function(a){this.event=a;this.tK&&this.tK.call(this.U,a);this.preventDefault&&a.preventDefault()},VT:function(a){this.event=a;this.uK&&this.uK.call(this.U,a);this.preventDefault&&a.preventDefault();for(var c=0;c<a.changedTouches.length;c++)this.a.input.KK(a.changedTouches[c])},
ST:function(a){for(var c=this.bh.length;c--;){var b=this.bh[c];b.sI&&b.pc.call(b.context,this,a)&&this.bh.splice(c,1)}this.event=a;this.rK&&this.rK.call(this.U,a);this.preventDefault&&a.preventDefault();for(c=0;c<a.changedTouches.length;c++)this.a.input.HB(a.changedTouches[c])},stop:function(){this.a.pa.ah&&(this.a.canvas.removeEventListener("touchstart",this.ut),this.a.canvas.removeEventListener("touchmove",this.tt),this.a.canvas.removeEventListener("touchend",this.Gx),this.a.canvas.removeEventListener("touchenter",
this.Hx),this.a.canvas.removeEventListener("touchleave",this.Ix),this.a.canvas.removeEventListener("touchcancel",this.Fx))}};b.Touch.prototype.constructor=b.Touch;b.xs=function(a){this.b=a;this.a=a.a;this.checked=this.enabled=!1;this.Pn=0;this.Df=this.Kp=this.Qr=!1;this.PE=this.NE=!0;this.qW=this.WJ=this.wh=!1;this.tk=this.sk=this.ne=this.me=0;this.JA=this.WI=!1;this.rU=255;this.draggable=!1;this.Wb=this.bd=null;this.HJ=!1;this.iG=new b.h;this.jG=this.hG=!1;this.nQ=new b.h;this.$y=this.Zy=0;this.Xy=
new b.h;this.AB=new b.h;this.Zs=new b.h;this.Jt=this.kp=this.$s=this.Nm=this.Ys=!1;this.Bi=new b.h;this.Jb=[];this.Jb.push({id:0,x:0,y:0,jF:0,kF:0,va:!1,lb:!1,Qg:!1,Zu:!1,OB:0,NB:0,Rd:0,oe:0,ql:0,Df:!1})};b.xs.prototype={start:function(a,c){if(a=a||0,void 0===c&&(c=!1),!1===this.enabled){this.a.input.Sh.add(this);this.Qr=c;this.Pn=a;for(var d=0;10>d;d++)this.Jb[d]={id:d,x:0,y:0,va:!1,lb:!1,Qg:!1,Zu:!1,OB:0,NB:0,Rd:0,oe:0,ql:0,Df:!1};new b.h;this.Jt=this.enabled=!0}return this.b.F.WS.add(this.YN,this),
this.b.F.LT.add(this.iV,this),this.b},YN:function(){this.Ys||this.Jt&&!this.enabled&&this.start()},iV:function(){this.Ys||(this.enabled?(this.Jt=!0,this.stop()):this.Jt=!1)},reset:function(){this.enabled=!1;for(var a=0;10>a;a++)this.Jb[a]={id:a,x:0,y:0,va:!1,lb:!1,Qg:!1,Zu:!1,OB:0,NB:0,Rd:0,oe:0,ql:0,Df:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.a.input.Sh.remove(this))},j:function(){this.b&&(this.Kp&&(this.a.canvas.style.cursor="default",this.Kp=!1),this.enabled=!1,this.a.input.Sh.remove(this),
this.Jb.length=0,this.bd=null,this.Wb=null,this.b=null)},QK:function(a,c,b){return void 0===b&&(b=!0),!(!this.enabled||0===this.b.scale.x||0===this.b.scale.y||this.Pn<this.a.input.HS||this.b.parent&&this.b.parent.HR)&&!(!b&&(this.JA||this.WI))&&(this.Pn>a||this.Pn===a&&this.b.Ml>c)},uU:function(a){return a=a||0,this.Jb[a].va},vU:function(a){return a=a||0,this.Jb[a].lb},aJ:function(a){if(!this.enabled)return!1;if(void 0===a){for(a=0;10>a;a++)if(this.Jb[a].Qg)return!0;return!1}return this.Jb[a].Qg},
uF:function(a,c){return!!(a.va&&this.enabled&&this.b&&this.b.parent&&this.b.visible&&this.b.parent.visible&&0!==this.b.Zr.x&&0!==this.b.Zr.y)&&!!this.a.input.zl(this.b,a,this.Bi)&&(void 0===c&&(c=!1),!(!c&&this.JA)||this.Ey(this.Bi.x,this.Bi.y))},fn:function(a,c){return!!(this.enabled&&this.b&&this.b.parent&&this.b.visible&&this.b.parent.visible&&0!==this.b.Zr.x&&0!==this.b.Zr.y)&&!!this.a.input.zl(this.b,a,this.Bi)&&(void 0===c&&(c=!1),!(!c&&this.WI)||this.Ey(this.Bi.x,this.Bi.y))},Ey:function(a,
c,b){if(this.b.c.A.source){null===a&&null===c&&(this.a.input.UG(this.b,b,this.Bi),a=this.Bi.x,c=this.Bi.y);if(0!==this.b.anchor.x&&(a-=-this.b.c.frame.width*this.b.anchor.x),0!==this.b.anchor.y&&(c-=-this.b.c.frame.height*this.b.anchor.y),a+=this.b.c.frame.x,c+=this.b.c.frame.y,this.b.c.trim&&(a-=this.b.c.trim.x,c-=this.b.c.trim.y,a<this.b.c.la.x||a>this.b.c.la.right||c<this.b.c.la.y||c>this.b.c.la.bottom))return this.rf=a,this.sf=c,!1;this.rf=a;this.sf=c;this.a.input.Tu.clearRect(0,0,1,1);this.a.input.Tu.drawImage(this.b.c.A.source,
a,c,1,1,0,0,1,1);if(this.a.input.Tu.getImageData(0,0,1,1).data[3]>=this.rU)return!0}return!1},update:function(a){if(null!==this.b&&void 0!==this.b.parent)return this.enabled&&this.b.visible&&this.b.parent.visible?this.Nm?(this.kp||(this.kp=b.Math.fb(a.x,a.y,this.Xy.x,this.Xy.y)>=this.Zy),this.kp&&this.$s&&this.GB(a),!0):this.draggable&&this.at===a.id?this.GK(a,!1):this.Jb[a.id].Qg?this.fn(a)?(this.Jb[a.id].x=a.x-this.b.x,this.Jb[a.id].y=a.y-this.b.y,!0):(this.Ep(a),!1):void 0:(this.Ep(a),!1)},cE:function(a,
c){if(null!==this.b){var d=this.Jb[a.id];if(!1===d.Qg||a.m){var f=!1===d.Qg;d.Qg=!0;d.Zu=!1;d.OB=this.a.time.time;d.x=a.x-this.b.x;d.y=a.y-this.b.y;this.Qr&&!1===d.Df&&(this.a.canvas.style.cursor="pointer",this.Kp=!0);!c&&f&&this.b&&this.b.F&&this.b.F.s4(this.b,a);this.b.parent&&this.b.parent.type===b.Vd&&this.b.parent.cT.s(this.b,a)}}},Ep:function(a,c){if(null!==this.b){var d=this.Jb[a.id];d.Qg=!1;d.Zu=!0;d.NB=this.a.time.time;this.Qr&&!1===d.Df&&(this.a.canvas.style.cursor="default",this.Kp=!1);
!c&&this.b&&this.b.F&&(this.b.F.r4(this.b,a),this.b&&this.b.parent&&this.b.parent.type===b.Vd&&this.b.parent.bT.s(this.b,a))}},DN:function(a){if(null!==this.b){var c=this.Jb[a.id];c.va||!c.Qg||this.JA&&!this.Ey(null,null,a)||(c.va=!0,c.lb=!1,c.Rd=this.a.time.time,this.Xy.set(a.x,a.y),a.m=!0,this.b&&this.b.F&&(this.b.F.q4(this.b,a),this.b&&this.b.parent&&this.b.parent.type===b.Vd&&this.b.parent.aT.s(this.b,a),null===this.b))||(this.draggable&&!1===this.Df&&(0===this.$y&&0===this.Zy?this.GB(a):(this.Nm=
!0,this.kp=0===this.Zy,0<this.$y?(this.$s=!1,this.a.time.F.add(this.$y,this.oQ,this,a)):this.$s=!0)),this.wh&&this.b.wh())}},oQ:function(a){this.$s=!0;this.Nm&&this.b&&this.kp&&this.GB(a)},xN:function(a){if(null!==this.b){var c=this.Jb[a.id];if(c.va&&a.lb){c.va=!1;c.lb=!0;c.oe=this.a.time.time;c.ql=c.oe-c.Rd;var d=this.fn(a);this.b&&this.b.F&&(this.jG&&(!this.jG||this.draggable&&this.Df&&this.at===a.id)||this.b.F.t4(this.b,a,d),this.b&&this.b.parent&&this.b.parent.type===b.Vd&&this.b.parent.dT.s(this.b,
a,d),d&&(d=this.fn(a)));c.Qg=d;!d&&this.Qr&&(this.a.canvas.style.cursor="default",this.Kp=!1);a.m=!0;this.Nm=!1;this.draggable&&this.Df&&this.at===a.id&&this.dK(a)}}},GK:function(a,c){if(void 0===c&&(c=!1),a.lb)return this.dK(a),!1;var b=this.Qu(a.x)+this.Zs.x+this.iG.x,f=this.Ru(a.y)+this.Zs.y+this.iG.y;if(this.b.Ld)this.NE&&(this.b.ja.x=b),this.PE&&(this.b.ja.y=f),this.bd&&this.rF(),this.Wb&&this.sF(),this.WJ&&(this.b.ja.x=Math.round((this.b.ja.x-this.sk%this.me)/this.me)*this.me+this.sk%this.me,
this.b.ja.y=Math.round((this.b.ja.y-this.tk%this.ne)/this.ne)*this.ne+this.tk%this.ne,this.AB.set(this.b.ja.x,this.b.ja.y));else{var m=this.a.K.x-this.Jb[a.id].jF,e=this.a.K.y-this.Jb[a.id].kF;this.NE&&(this.b.x=b+m);this.PE&&(this.b.y=f+e);this.bd&&this.rF();this.Wb&&this.sF();this.WJ&&(this.b.x=Math.round((this.b.x-this.sk%this.me)/this.me)*this.me+this.sk%this.me,this.b.y=Math.round((this.b.y-this.tk%this.ne)/this.ne)*this.ne+this.tk%this.ne,this.AB.set(this.b.x,this.b.y))}return this.b.F.iT.s(this.b,
a,b,f,this.AB,c),!0},Dl:function(a,c){return a=a||0,c=c||500,this.Jb[a].lb&&this.a.time.time-this.Jb[a].oe<c},ql:function(a){return a=a||0,this.Jb[a].va?this.a.time.time-this.Jb[a].Rd:-1},GB:function(a){var c=this.b.x,b=this.b.y;if(this.Df=!0,this.at=a.id,this.Jb[a.id].jF=this.a.K.x,this.Jb[a.id].kF=this.a.K.y,this.Jb[a.id].Df=!0,this.b.Ld){if(this.hG){var f=this.b.xa();this.b.ja.x=this.Qu(a.x)+(this.b.ja.x-f.qd);this.b.ja.y=this.Ru(a.y)+(this.b.ja.y-f.rd)}this.Zs.P(this.b.ja.x-a.x,this.b.ja.y-a.y)}else this.hG&&
(f=this.b.xa(),this.b.x=this.Qu(a.x)+(this.b.x-f.qd),this.b.y=this.Ru(a.y)+(this.b.y-f.rd)),this.Zs.P(this.b.x-this.Qu(a.x),this.b.y-this.Ru(a.y));this.GK(a,!0);this.wh&&(this.Ys=!0,this.b.wh());this.nQ.set(c,b);this.b.F.n4(this.b,a,c,b);this.Nm=!1},Qu:function(a){return this.HJ&&(a-=this.a.scale.Ng.ce.x,a*=this.a.scale.Ng.yr.x),a},Ru:function(a){return this.HJ&&(a-=this.a.scale.Ng.ce.y,a*=this.a.scale.Ng.yr.y),a},dK:function(a){this.Df=!1;this.at=-1;this.Nm=this.Ys=this.Jb[a.id].Df=!1;this.qW&&(this.b.Ld?
(this.b.ja.x=Math.round((this.b.ja.x-this.sk%this.me)/this.me)*this.me+this.sk%this.me,this.b.ja.y=Math.round((this.b.ja.y-this.tk%this.ne)/this.ne)*this.ne+this.tk%this.ne):(this.b.x=Math.round((this.b.x-this.sk%this.me)/this.me)*this.me+this.sk%this.me,this.b.y=Math.round((this.b.y-this.tk%this.ne)/this.ne)*this.ne+this.tk%this.ne));this.b.F.o4(this.b,a);!1===this.fn(a)&&this.Ep(a)},rF:function(){this.b.Ld?(this.b.ja.x<this.bd.left?this.b.ja.x=this.bd.left:this.b.ja.x+this.b.width>this.bd.right&&
(this.b.ja.x=this.bd.right-this.b.width),this.b.ja.y<this.bd.top?this.b.ja.y=this.bd.top:this.b.ja.y+this.b.height>this.bd.bottom&&(this.b.ja.y=this.bd.bottom-this.b.height)):(this.b.left<this.bd.left?this.b.x=this.bd.x+this.b.offsetX:this.b.right>this.bd.right&&(this.b.x=this.bd.right-(this.b.width-this.b.offsetX)),this.b.top<this.bd.top?this.b.y=this.bd.top+this.b.offsetY:this.b.bottom>this.bd.bottom&&(this.b.y=this.bd.bottom-(this.b.height-this.b.offsetY)))},sF:function(){this.b.Ld&&this.Wb.Ld?
(this.b.ja.x<this.Wb.ja.x?this.b.ja.x=this.Wb.ja.x:this.b.ja.x+this.b.width>this.Wb.ja.x+this.Wb.width&&(this.b.ja.x=this.Wb.ja.x+this.Wb.width-this.b.width),this.b.ja.y<this.Wb.ja.y?this.b.ja.y=this.Wb.ja.y:this.b.ja.y+this.b.height>this.Wb.ja.y+this.Wb.height&&(this.b.ja.y=this.Wb.ja.y+this.Wb.height-this.b.height)):(this.b.left<this.Wb.left?this.b.x=this.Wb.left+this.b.offsetX:this.b.right>this.Wb.right&&(this.b.x=this.Wb.right-(this.b.width-this.b.offsetX)),this.b.top<this.Wb.top?this.b.y=this.Wb.top+
this.b.offsetY:this.b.bottom>this.Wb.bottom&&(this.b.y=this.Wb.bottom-(this.b.height-this.b.offsetY)))}};b.xs.prototype.constructor=b.xs;b.Gamepad=function(a){this.a=a;this.tf=[];this.gp=!1;this.enabled=!0;this.ZM=!!navigator.webkitGetGamepads||!!navigator.$K||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads;this.gE=[];this.U=this;this.Hn=this.En=this.aj=this.Yi=this.Gn=this.Fn=null;this.Kc=[new b.Kk(a,this),new b.Kk(a,this),new b.Kk(a,this),new b.Kk(a,this)]};b.Gamepad.prototype=
{start:function(){if(!this.gp){this.gp=!0;var a=this;this.XD=function(c){return a.oT(c)};this.YD=function(c){return a.pT(c)};window.addEventListener("gamepadconnected",this.XD,!1);window.addEventListener("gamepaddisconnected",this.YD,!1)}},oT:function(a){a=a.Kg;this.tf.push(a);this.Kc[a.index].connect(a)},pT:function(a){a=a.Kg;for(var c in this.tf)this.tf[c].index===a.index&&this.tf.splice(c,1);this.Kc[a.index].disconnect()},update:function(){this.uN();this.A4.Cv();this.B4.Cv();this.C4.Cv();this.D4.Cv()},
uN:function(){if(this.gp){if(navigator.getGamepads)var a=navigator.getGamepads();else navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.$K&&(a=navigator.$K());if(a){this.tf=[];for(var c=!1,b=0;b<a.length&&(typeof a[b]!==this.gE[b]&&(c=!0,this.gE[b]=typeof a[b]),a[b]&&this.tf.push(a[b]),3!==b);b++);for(a=0;a<this.Kc.length;a++)this.Kc[a].zg=this.tf[a];if(c){for(var f,c={},a={},b=0;b<this.Kc.length;b++)if(f=this.Kc[b],f.connected)for(var m=0;m<this.tf.length;m++)this.tf[m].index===
f.index&&(c[f.index]=!0,a[b]=!0);for(b=0;b<this.Kc.length;b++)if(f=this.Kc[b],!a[b])for(1>this.tf.length&&f.disconnect(),m=0;m<this.tf.length&&!a[b];m++){var e=this.tf[m];e?c[e.index]?f.disconnect():(f.connect(e),c[e.index]=!0,a[b]=!0):f.disconnect()}}}}},stop:function(){this.gp=!1;window.removeEventListener("gamepadconnected",this.XD);window.removeEventListener("gamepaddisconnected",this.YD)},reset:function(){this.update();for(var a=0;a<this.Kc.length;a++)this.Kc[a].reset()},Dl:function(a,c){for(var b=
0;b<this.Kc.length;b++)if(!0===this.Kc[b].Dl(a,c))return!0;return!1},va:function(a){for(var c=0;c<this.Kc.length;c++)if(!0===this.Kc[c].va(a))return!0;return!1},j:function(){this.stop();for(var a=0;a<this.Kc.length;a++)this.Kc[a].j()}};b.Gamepad.prototype.constructor=b.Gamepad;Object.defineProperty(b.Gamepad.prototype,"active",{get:function(){return this.gp}});Object.defineProperty(b.Gamepad.prototype,"supported",{get:function(){return this.ZM}});Object.defineProperty(b.Gamepad.prototype,"padsConnected",
{get:function(){return this.tf.length}});Object.defineProperty(b.Gamepad.prototype,"pad1",{get:function(){return this.Kc[0]}});Object.defineProperty(b.Gamepad.prototype,"pad2",{get:function(){return this.Kc[1]}});Object.defineProperty(b.Gamepad.prototype,"pad3",{get:function(){return this.Kc[2]}});Object.defineProperty(b.Gamepad.prototype,"pad4",{get:function(){return this.Kc[3]}});b.Gamepad.qY=0;b.Gamepad.rY=1;b.Gamepad.yY=2;b.Gamepad.zY=3;b.Gamepad.AY=4;b.Gamepad.BY=5;b.Gamepad.CY=6;b.Gamepad.DY=
7;b.Gamepad.EY=8;b.Gamepad.FY=9;b.Gamepad.sY=10;b.Gamepad.tY=11;b.Gamepad.uY=12;b.Gamepad.vY=13;b.Gamepad.wY=14;b.Gamepad.xY=15;b.Gamepad.dY=0;b.Gamepad.eY=1;b.Gamepad.fY=2;b.Gamepad.gY=3;b.Gamepad.hY=4;b.Gamepad.iY=5;b.Gamepad.jY=6;b.Gamepad.kY=7;b.Gamepad.lY=8;b.Gamepad.mY=9;b.Gamepad.c1=0;b.Gamepad.d1=1;b.Gamepad.u1=2;b.Gamepad.v1=3;b.Gamepad.j1=4;b.Gamepad.l1=5;b.Gamepad.k1=6;b.Gamepad.m1=7;b.Gamepad.e1=8;b.Gamepad.n1=9;b.Gamepad.o1=10;b.Gamepad.r1=11;b.Gamepad.g1=14;b.Gamepad.h1=15;b.Gamepad.i1=
12;b.Gamepad.f1=13;b.Gamepad.p1=0;b.Gamepad.q1=1;b.Gamepad.s1=2;b.Gamepad.t1=3;b.Gamepad.Z_=0;b.Gamepad.G_=1;b.Gamepad.Q_=2;b.Gamepad.Y_=3;b.Gamepad.L_=4;b.Gamepad.N_=5;b.Gamepad.M_=6;b.Gamepad.O_=7;b.Gamepad.P_=8;b.Gamepad.R_=9;b.Gamepad.S_=10;b.Gamepad.V_=11;b.Gamepad.K_=12;b.Gamepad.H_=13;b.Gamepad.I_=14;b.Gamepad.J_=15;b.Gamepad.T_=0;b.Gamepad.U_=1;b.Gamepad.W_=2;b.Gamepad.X_=3;b.Kk=function(a,c){this.a=a;this.index=null;this.connected=!1;this.U=this;this.Hn=this.En=this.aj=this.Yi=this.Gn=this.Fn=
null;this.bG=.26;this.md=c;this.hE=this.zg=null;this.Xc=[];this.Am=0;this.oh=[];this.ip=0};b.Kk.prototype={Cv:function(){if(this.connected&&this.a.input.enabled&&this.a.input.Kg.enabled&&(!this.zg.timestamp||this.zg.timestamp!==this.hE)){for(var a=0;a<this.Am;a++){var c=isNaN(this.zg.buttons[a])?this.zg.buttons[a].value:this.zg.buttons[a];c!==this.Xc[a].value&&(1===c?this.EU(a,c):0===c?this.GU(a,c):this.FU(a,c))}for(a=0;a<this.ip;a++)c=this.zg.axes[a],0<c&&c>this.bG||0>c&&c<-this.bG?this.hJ(a,c):
this.hJ(a,0);this.hE=this.zg.timestamp}},connect:function(a){var c=!this.connected;this.connected=!0;this.index=a.index;this.zg=a;this.Xc=[];this.Am=a.buttons.length;this.oh=[];this.ip=a.axes.length;for(var d=0;d<this.ip;d++)this.oh[d]=a.axes[d];for(var f in a.buttons)f=parseInt(f,10),this.Xc[f]=new b.qg(this);c&&this.md.Fn&&this.md.Fn.call(this.md.U,this.index);c&&this.Fn&&this.Fn.call(this.U)},disconnect:function(){var a=this.connected,c=this.index;this.connected=!1;this.index=null;this.zg=void 0;
for(var b=0;b<this.Am;b++)this.Xc[b].j();this.Xc=[];this.Am=0;this.oh=[];this.ip=0;a&&this.md.Gn&&this.md.Gn.call(this.md.U,c);a&&this.Gn&&this.Gn.call(this.U)},j:function(){this.zg=void 0;for(var a=0;a<this.Am;a++)this.Xc[a].j();this.Xc=[];this.Am=0;this.oh=[];this.ip=0;this.Hn=this.En=this.aj=this.Yi=this.Gn=this.Fn=null},hJ:function(a,c){this.oh[a]!==c&&(this.oh[a]=c,this.md.En&&this.md.En.call(this.md.U,this,a,c),this.En&&this.En.call(this.U,this,a,c))},EU:function(a,c){this.Xc[a]&&this.Xc[a].start(null,
c);this.md.Yi&&this.md.Yi.call(this.md.U,a,c,this.index);this.Yi&&this.Yi.call(this.U,a,c)},GU:function(a,c){this.md.aj&&this.md.aj.call(this.md.U,a,c,this.index);this.aj&&this.aj.call(this.U,a,c);this.Xc[a]&&this.Xc[a].stop(null,c)},FU:function(a,c){this.md.Hn&&this.md.Hn.call(this.md.U,a,c,this.index);this.Hn&&this.Hn.call(this.U,a,c);this.Xc[a]&&this.Xc[a].dU(c)},axis:function(a){return!!this.oh[a]&&this.oh[a]},va:function(a){return!!this.Xc[a]&&this.Xc[a].va},lb:function(a){return!!this.Xc[a]&&
this.Xc[a].lb},Dl:function(a,c){if(this.Xc[a])return this.Xc[a].Dl(c)},reset:function(){for(var a=0;a<this.oh.length;a++)this.oh[a]=0}};b.Kk.prototype.constructor=b.Kk;b.ti=function(a,c){this.a=a;this.Vk=!0;this.event=null;this.va=!1;this.lb=!0;this.shiftKey=this.ctrlKey=this.altKey=!1;this.duration=this.Rd=0;this.oe=-2500;this.keyCode=c;this.Wh=new b.D;this.AI=this.vA=null;this.Xh=new b.D;this.lt=this.kt=!1};b.ti.prototype={update:function(){this.Vk&&this.va&&(this.duration=this.a.time.time-this.Rd,
this.vA&&this.vA.call(this.AI,this))},QA:function(a){this.Vk&&(this.event=a,this.va||(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.va=!0,this.lb=!1,this.Rd=this.a.time.time,this.duration=0,this.kt=!0,this.Wh.s(this)))},RA:function(a){this.Vk&&(this.event=a,this.lb||(this.va=!1,this.lb=!0,this.oe=this.a.time.time,this.duration=this.a.time.time-this.Rd,this.lt=!0,this.Xh.s(this)))},reset:function(a){void 0===a&&(a=!0);this.va=!1;this.lb=!0;this.oe=this.a.time.time;this.duration=
0;this.Vk=!0;this.lt=this.kt=!1;a&&(this.Wh.$b(),this.Xh.$b(),this.vA=null,this.AI=null)},ql:function(a){return void 0===a&&(a=50),this.va&&this.duration<a}};Object.defineProperty(b.ti.prototype,"justDown",{get:function(){var a=this.kt;return this.kt=!1,a}});Object.defineProperty(b.ti.prototype,"justUp",{get:function(){var a=this.lt;return this.lt=!1,a}});Object.defineProperty(b.ti.prototype,"enabled",{get:function(){return this.Vk},set:function(a){a=!!a;a!==this.Vk&&(a||this.reset(!1),this.Vk=a)}});
b.ti.prototype.constructor=b.ti;b.jh=function(a){this.a=a;this.enabled=!0;this.eJ=this.event=null;this.U=this;this.aj=this.DI=this.Yi=null;this.yc=[];this.jp=[];this.rt=this.qt=this.wp=null;this.OD=this.W=0};b.jh.prototype={MN:function(a){return this.yc[a]||(this.yc[a]=new b.ti(this.a,a),this.EE(a)),this.yc[a]},NN:function(a){var c={},b;for(b in a)c[b]=this.MN(a[b]);return c},QP:function(){return this.NN({Rb:b.Ik.ix,Nb:b.Ik.Iw,left:b.Ik.Nw,right:b.Ik.$w})},start:function(){if(!this.a.pa.xf&&null===
this.wp){var a=this;this.wp=function(c){return a.QA(c)};this.rt=function(c){return a.RA(c)};this.qt=function(c){return a.KU(c)};window.addEventListener("keydown",this.wp,!1);window.addEventListener("keyup",this.rt,!1);window.addEventListener("keypress",this.qt,!1)}},stop:function(){window.removeEventListener("keydown",this.wp);window.removeEventListener("keyup",this.rt);window.removeEventListener("keypress",this.qt);this.qt=this.rt=this.wp=null},j:function(){this.stop();this.zP();this.W=this.yc.length=
0},EE:function(a){if("object"==typeof a)for(var c in a)this.jp[a[c]]=!0;else this.jp[a]=!0},zP:function(){this.jp={}},update:function(){for(this.W=this.yc.length;this.W--;)this.yc[this.W]&&this.yc[this.W].update()},QA:function(a){if(this.event=a,this.a.input.enabled&&this.enabled){var c=a.keyCode;this.jp[c]&&a.preventDefault();this.yc[c]||(this.yc[c]=new b.ti(this.a,c));this.yc[c].QA(a);this.OD=c;this.Yi&&this.Yi.call(this.U,a)}},KU:function(a){this.eJ=a;this.a.input.enabled&&this.enabled&&this.DI&&
this.DI.call(this.U,String.fromCharCode(a.charCode),a)},RA:function(a){if(this.event=a,this.a.input.enabled&&this.enabled){var c=a.keyCode;this.jp[c]&&a.preventDefault();this.yc[c]||(this.yc[c]=new b.ti(this.a,c));this.yc[c].RA(a);this.aj&&this.aj.call(this.U,a)}},reset:function(a){void 0===a&&(a=!0);this.event=null;for(var c=this.yc.length;c--;)this.yc[c]&&this.yc[c].reset(a)},ql:function(a,c){return this.yc[a]?this.yc[a].ql(c):null},va:function(a){return this.yc[a]?this.yc[a].va:null}};Object.defineProperty(b.jh.prototype,
"lastChar",{get:function(){return 32===this.event.charCode?"":String.fromCharCode(this.eJ.charCode)}});Object.defineProperty(b.jh.prototype,"lastKey",{get:function(){return this.yc[this.OD]}});b.jh.prototype.constructor=b.jh;b.Ik={vo:65,xo:66,Bo:67,Go:68,E:69,Lo:70,za:71,zZ:72,HZ:73,KZ:74,LZ:75,NZ:76,SZ:77,VZ:78,q_:79,t_:80,Q:81,g0:82,q0:83,D0:84,U0:85,W0:86,Y0:87,b1:88,w1:89,x1:90,ZERO:48,ONE:49,S0:50,Q0:51,uZ:52,tZ:53,x0:54,s0:55,XY:56,WZ:57,YZ:96,ZZ:97,$Z:98,a_:99,b_:100,c_:101,d_:102,e_:103,f_:104,
g_:105,l_:106,h_:107,k_:108,m_:109,i_:110,j_:111,eZ:112,lZ:113,mZ:114,nZ:115,oZ:116,pZ:117,qZ:118,rZ:119,sZ:120,fZ:121,gZ:122,hZ:123,iZ:124,jZ:125,kZ:126,MY:186,$Y:187,NY:188,V0:189,B_:190,b0:191,R0:192,r_:219,pY:220,LY:221,c0:222,oY:8,E0:9,KY:12,ZY:13,w0:16,OY:17,WX:18,IY:20,aZ:27,lD:32,v_:33,u_:34,YY:35,CZ:36,Nw:37,ix:38,$w:39,Iw:40,E_:43,TZ:44,IZ:45,VY:46,BZ:47,n_:144};for(var e in b.Ik)b.Ik.hasOwnProperty(e)&&!e.match(/[a-z]/)&&(b.jh[e]=b.Ik[e]);b.B=function(){};b.B.jL=function(){};b.B.jL.prototype=
{angle:{get:function(){return b.Math.yw(b.Math.Rn(this.rotation))},set:function(a){this.rotation=b.Math.Gh(b.Math.yw(a))}}};b.B.Je=function(){};b.B.Je.prototype={play:function(a,c,b,f){if(this.Lb)return this.Lb.play(a,c,b,f)}};b.B.lL=function(){};b.B.lL.prototype={TE:!1};b.B.qC=function(){};b.B.qC.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},qd:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(a){this.x=
a+this.offsetX-.5*this.width}},rd:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(a){this.y=a+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(a){this.x=a+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(a){this.x=a-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(a){this.y=a+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(a){this.y=
a-this.height+this.offsetY}},Nt:function(a,c,d,f){switch(void 0===d&&(d=0),void 0===f&&(f=0),c){default:case b.oD:this.left=a.left-d;this.top=a.top-f;break;case b.IM:this.qd=a.qd+d;this.top=a.top-f;break;case b.JM:this.right=a.right+d;this.top=a.top-f;break;case b.dM:this.left=a.left-d;this.rd=a.rd+f;break;case b.wL:this.qd=a.qd+d;this.rd=a.rd+f;break;case b.yM:this.right=a.right+d;this.rd=a.rd+f;break;case b.qL:this.left=a.left-d;this.bottom=a.bottom+f;break;case b.pL:this.qd=a.qd+d;this.bottom=
a.bottom+f;break;case b.rL:this.right=a.right+d,this.bottom=a.bottom+f}return this}};b.G.prototype.Nt=b.B.qC.prototype.Nt;b.B.rC=function(){};b.B.rC.prototype.wh=function(){return this.parent&&this.parent.wh(this),this};b.B.rC.prototype.kB=function(){return this.parent&&this.parent.kB(this),this};b.B.Tb=function(){};b.B.Tb.install=function(a){b.nc.kA(this,b.B.Tb.prototype);this.Gg={};for(var c=0;c<a.length;c++){var d=a[c],f=!1;"Destroy"===d&&(f=!0);b.nc.kA(this,b.B[d].prototype,f);this.Gg[d]=!0}};
b.B.Tb.rb=function(a,c,d,f,m){this.a=a;this.key=f;this.data={};this.position.set(c,d);this.g=new b.h(c,d);this.cj=new b.h(c,d);this.F=new b.pi(this);this.xc=new b.v;this.Gg.Oe&&(this.body=this.body);this.Gg.Je&&(this.Lb=new b.gh(this));this.Gg.NC&&null!==f&&this.Th(f,m);this.Gg.Hk&&(this.ja=new b.h(c,d))};b.B.Tb.X=function(){if(this.nr)return void this.j();if(this.cj.set(this.g.x,this.g.y),this.Gv=this.rotation,!this.Ia||!this.parent.Ia)return this.Ml=-1,!1;this.g.P(this.a.K.x+this.na.qa,this.a.K.y+
this.na.oa);this.visible&&(this.Ml=this.a.ic.YF++);this.Lb&&this.Lb.update();this.body&&this.body.X();for(var a=0;a<this.children.length;a++)this.children[a].X();return!0};b.B.Tb.prototype={a:null,name:"",data:{},Gg:{},z:0,F:void 0,Lb:void 0,key:"",g:null,debug:!1,cj:null,Gv:0,Ml:0,Gu:!0,nr:!1,xc:null,bt:!0,Ia:{get:function(){return this.bt},set:function(a){a?(this.bt=!0,this.body&&this.body.type===b.f.Qo&&this.body.Qp(),this.visible=!0):(this.bt=!1,this.body&&this.body.type===b.f.Qo&&this.body.Ov(),
this.visible=!1)}},update:function(){},Fb:function(){this.mu&&this.key.Xa();this.Gg.Oe&&b.B.Oe.Fb.call(this);this.Gg.Hk&&b.B.Hk.Fb.call(this);for(var a=0;a<this.children.length;a++)this.children[a].Fb()}};b.B.DL=function(){};b.B.DL.prototype={Wf:null,qf:null,la:function(a,c){void 0===c&&(c=!1);a?(c&&null!==this.Wf?this.Wf.P(a.x,a.y,a.width,a.height):c&&null===this.Wf?this.Wf=new b.v(a.x,a.y,a.width,a.height):this.Wf=a,this.TB()):(this.qf=null,this.Wf=null,this.vV())},TB:function(){if(this.Wf){var a=
this.c.la.x,c=this.c.la.y,d=this.c.la.width,f=this.c.la.height;this.qf=b.v.clone(this.Wf,this.qf);this.qf.x+=this.Yc.x;this.qf.y+=this.Yc.y;var m=Math.max(this.Yc.x,this.qf.x),e=Math.max(this.Yc.y,this.qf.y),g=Math.min(this.Yc.right,this.qf.right)-m,h=Math.min(this.Yc.bottom,this.qf.bottom)-e;this.c.la.x=m;this.c.la.y=e;this.c.la.width=g;this.c.la.height=h;this.c.frame.width=Math.min(g,this.Wf.width);this.c.frame.height=Math.min(h,this.Wf.height);this.c.width=this.c.frame.width;this.c.height=this.c.frame.height;
this.c.Op();16777215===this.Gb||a===m&&c===e&&d===g&&f===h||(this.c.Nl=!0)}}};b.B.FL=function(){};b.B.FL.prototype={deltaX:{get:function(){return this.g.x-this.cj.x}},deltaY:{get:function(){return this.g.y-this.cj.y}},deltaZ:{get:function(){return this.rotation-this.Gv}}};b.B.Jo=function(){};b.B.Jo.prototype={pu:!1,j:function(a,c){if(null!==this.a&&!this.pu){void 0===a&&(a=!0);void 0===c&&(c=!1);this.pu=!0;this.F&&this.F.m4(this);this.parent&&(this.parent instanceof b.G?this.parent.remove(this):this.parent.removeChild(this));
this.input&&this.input.j();this.Lb&&this.Lb.j();this.body&&this.body.j();this.F&&this.F.j();this.a.dm.WA(this);var d=this.children.length;if(a)for(;d--;)this.children[d].j(a);else for(;d--;)this.removeChild(this.children[d]);this.qf&&(this.qf=null,this.Wf=null);this.Yc&&(this.Yc=null);b.Bd&&this.key instanceof b.Bd&&this.key.uA.remove(this.yJ,this);b.vc&&this.Im&&(this.Im=[]);this.visible=this.Ia=this.Dg=!1;this.a=this.Gf=this.filters=null;this.data={};this.df=!1;this.rw&&(this.rw=null,this.yK=null);
this.Ta=this.wg=this.xc=this.jz=this.na=this.ic=this.parent=this.Iq=null;this.ID();c&&this.c.j(!0);this.nr=this.pu=!1}}};b.pi=function(a){this.parent=a};b.pi.prototype={j:function(){this.zc=null;this.fN&&this.fN.Ga();this.bN&&this.bN.Ga();this.qN&&this.qN.Ga();this.rN&&this.rN.Ga();this.oN&&this.oN.Ga();this.sN&&this.sN.Ga();this.jN&&this.jN.Ga();this.pN&&this.pN.Ga();this.mN&&this.mN.Ga();this.lN&&this.lN.Ga();this.kN&&this.kN.Ga();this.nN&&this.nN.Ga();this.gN&&this.gN.Ga();this.iN&&this.iN.Ga();
this.hN&&this.hN.Ga();this.eN&&this.eN.Ga();this.cN&&this.cN.Ga();this.dN&&this.dN.Ga()},WS:null,LT:null,NT:null,rI:null,qv:null,pv:null,ov:null,Zq:null,iT:null};b.pi.prototype.constructor=b.pi;for(var h in b.pi.prototype)b.pi.prototype.hasOwnProperty(h)&&0===h.indexOf("on")&&null===b.pi.prototype[h]&&!function(a,c){Object.defineProperty(b.pi.prototype,a,{get:function(){return this[c]||(this[c]=new b.D)}});b.pi.prototype[a+"$dispatch"]=function(){return this[c]?this[c].s.apply(this[c],arguments):
null}}(h,"_"+h);b.B.Hk=function(){};b.B.Hk.Fb=function(){this.Ld&&(this.position.x=(this.a.K.view.x+this.ja.x)/this.a.K.scale.x,this.position.y=(this.a.K.view.y+this.ja.y)/this.a.K.scale.y)};b.B.Hk.prototype={px:!1,Ld:{get:function(){return this.px},set:function(a){a?(this.px=!0,this.ja.set(this.x,this.y)):this.px=!1}},ja:new b.h};b.B.SL=function(){};b.B.SL.prototype={Su:1,RH:100,OJ:function(a){return this.Su=a,this.Su>this.RH&&(this.Su=this.RH),this}};b.B.WL=function(){};b.B.WL.prototype={};b.B.XL=
function(){};b.B.XL.prototype={input:null,Uu:{get:function(){return this.input&&this.input.enabled},set:function(a){a?null===this.input?(this.input=new b.xs(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}};b.B.ri=function(){};b.B.ri.X=function(){if(this.TE||this.eu){if(this.xc.Jd(this.xa()),this.xc.x+=this.a.K.view.x,this.xc.y+=this.a.K.view.y,this.TE)if(this.a.g.K.view.Xb(this.xc))this.df=!0,this.a.g.K.pK++;else if(this.df=
!1,this.bU)return this.$j(),!1;if(this.eu)if(this.Cp&&this.a.g.l.Xb(this.xc))this.Cp=!1,this.F.p4(this);else if(!this.Cp&&!this.a.g.l.Xb(this.xc)&&(this.Cp=!0,this.F.v4(this),this.aU))return this.$j(),!1}return!0};b.B.ri.prototype={eu:!1,aU:!1,bU:!1,Cp:!1};b.B.rj=function(){};b.B.rj.X=function(){return!(0<this.Si&&(this.Si-=this.a.time.HA,0>=this.Si))||(this.$j(),!1)};b.B.rj.prototype={Dg:!0,Si:0,BJ:function(a){return void 0===a&&(a=100),this.Dg=!0,this.Ia=!0,this.visible=!0,"function"==typeof this.OJ&&
this.OJ(a),this.F&&this.F.w4(this),this},$j:function(){return this.Dg=!1,this.Ia=!1,this.visible=!1,this.F&&this.F.u4(this),this}};b.B.NC=function(){};b.B.NC.prototype={mu:!1,Yc:null,Th:function(a,c,d){a===b.mM?(a=c,c=0):c=c||0;(d||void 0===d)&&this.Lb&&this.Lb.stop();this.key=a;this.mu=!1;var f=this.a.cache,m=!0;d=!this.c.A.Qb;b.Sa&&a instanceof b.Sa?(this.key=a.key,this.fj(a)):b.Ke&&a instanceof b.Ke?(this.mu=!0,this.fj(a.c),m=f.BR(a.key,b.Cache.yo)?!this.Lb.dA(f.SG(a.key,b.Cache.yo),c):!this.Lb.dA(a.he,
0)):b.Bd&&a instanceof b.Bd?(this.mu=!0,c=a.c.valid,this.fj(a.c),this.Jf(a.c.frame.clone()),a.uA.add(this.yJ,this),this.c.valid=c):b.ac&&a instanceof b.cb?this.fj(PIXI.bb.wl(a.canvas)):a instanceof PIXI.bb?this.fj(a):(m=f.Oi(a,!0),this.key=m.key,this.fj(new PIXI.bb(m.$c)),"__default"===a?this.c.A.$n=!0:this.c.A.$n=!1,m=!this.Lb.dA(m.he,c));m&&(this.Yc=b.v.clone(this.c.frame));d||(this.c.A.Qb=1)},Jf:function(a){this.Yc=a;this.c.frame.x=a.x;this.c.frame.y=a.y;this.c.frame.width=a.width;this.c.frame.height=
a.height;this.c.la.x=a.x;this.c.la.y=a.y;this.c.la.width=a.width;this.c.la.height=a.height;a.Ak?(this.c.trim?(this.c.trim.x=a.fw,this.c.trim.y=a.gw,this.c.trim.width=a.Vl,this.c.trim.height=a.Ul):this.c.trim={x:a.fw,y:a.gw,width:a.Vl,height:a.Ul},this.c.width=a.Vl,this.c.height=a.Ul,this.c.frame.width=a.Vl,this.c.frame.height=a.Ul):!a.Ak&&this.c.trim&&(this.c.trim=null);this.Wf&&this.TB();this.c.Nl=!0;this.c.Op();this.kc&&(this.Tn=!0)},yJ:function(a,c,b){this.c.frame.resize(c,b);this.c.Jf(this.c.frame)},
vV:function(){this.Yc&&this.Jf(this.Yc)},frame:{get:function(){return this.Lb.frame},set:function(a){this.Lb.frame=a}},Fu:{get:function(){return this.Lb.Fu},set:function(a){this.Lb.Fu=a}}};b.B.lM=function(){};b.B.lM.prototype={LI:function(a){return b.v.Xb(this.xa(),a.xa())}};b.B.Oe=function(){};b.B.Oe.X=function(){return this.Gu&&this.Ia?(this.g.P(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.na.qa=this.g.x,this.na.oa=this.g.y,this.cj.set(this.g.x,this.g.y),this.Gv=
this.rotation,this.body&&this.body.X(),this.Gu=!1,!1):(this.cj.set(this.g.x,this.g.y),this.Gv=this.rotation,!(!this.bt||!this.parent.Ia)||(this.Ml=-1,!1))};b.B.Oe.Fb=function(){this.Ia&&this.body&&this.body.Fb()};b.B.Oe.prototype={body:null,x:{get:function(){return this.position.x},set:function(a){this.position.x=a;this.body&&!this.body.m&&(this.body.zi=!0)}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a;this.body&&!this.body.m&&(this.body.zi=!0)}}};b.B.Hs=function(){};
b.B.Hs.prototype.reset=function(a,c,b){return void 0===b&&(b=1),this.g.set(a,c),this.position.set(a,c),this.Gu=!0,this.Ia=!0,this.visible=!0,this.df=!0,this.Gg.ri&&(this.Cp=!1),this.Gg.rj&&(this.Dg=!0,this.Su=b),this.Gg.Oe&&this.body&&this.body.reset(a,c,!1,!1),this};b.B.FM=function(){};b.B.FM.prototype={rw:null,yK:this};b.B.GM=function(){};b.B.GM.prototype={zB:{get:function(){return!this.c.A.Qb},set:function(a){a?this.c&&(this.c.A.Qb=0):this.c&&(this.c.A.Qb=1)}}};b.ss=function(a){this.a=a;this.g=
this.a.g};b.ss.prototype={qb:function(a,c,d,f,m){return void 0===m&&(m=this.g),m.add(new b.Image(this.a,a,c,d,f))},b:function(a,c,b,f,m){return void 0===m&&(m=this.g),m.create(a,c,b,f)},group:function(a,c,d,f,m){return new b.G(this.a,a,c,d,f,m)},Ma:function(a,c,d){return void 0===a&&(a=null),void 0===c&&(c="group"),void 0===d&&(d=!1),new b.Wd(this.a,a,c,d)},audio:function(a,c,b,f){return this.a.ma.add(a,c,b,f)},ma:function(a,c,b,f){return this.a.ma.add(a,c,b,f)},qy:function(a){return this.a.ma.IE(a)},
kK:function(a,c,d,f,m,e,g){return void 0===g&&(g=this.g),g.add(new b.Pe(this.a,a,c,d,f,m,e))},text:function(a,c,d,f,m){return void 0===m&&(m=this.g),m.add(new b.Text(this.a,a,c,d,f))},button:function(a,c,d,f,m,e,g,h,k,l){return void 0===l&&(l=this.g),l.add(new b.Le(this.a,a,c,d,f,m,e,g,h,k))},am:function(a,c,d,f,m){return new b.ac(this.a,a,c,d,f,m)},Pv:function(a,c,d,f){void 0!==d&&""!==d||(d=this.a.sc.Rr());void 0===f&&(f=!1);a=new b.Sa(this.a,a,c,d);return f&&this.a.cache.GE(d,a),a},video:function(a,
c){return new b.Bd(this.a,a,c)},gl:function(a,c,d,f){void 0===f&&(f=!1);void 0!==d&&""!==d||(d=this.a.sc.Rr());a=new b.Ke(this.a,d,a,c);return f&&this.a.cache.BE(d,a),a},filter:function(a){var c=Array.prototype.slice.call(arguments,1);a=new b.Gk[a](this.a);return a.rb.apply(a,c),a}};b.ss.prototype.constructor=b.ss;b.rs=function(a){this.a=a;this.g=this.a.g};b.rs.prototype={qb:function(a,c,d,f){return new b.Image(this.a,a,c,d,f)},b:function(a,c,d,f){return new b.ka(this.a,a,c,d,f)},group:function(a,
c,d,f,m){return new b.G(this.a,a,c,d,f,m)},Ma:function(a,c,d){return void 0===c&&(c="group"),void 0===d&&(d=!1),new b.Wd(this.a,a,c,d)},audio:function(a,c,b,f){return this.a.ma.add(a,c,b,f)},qy:function(a){return this.a.ma.IE(a)},ma:function(a,c,b,f){return this.a.ma.add(a,c,b,f)},kK:function(a,c,d,f,m,e){return new b.Pe(this.a,a,c,d,f,m,e)},text:function(a,c,d,f){return new b.Text(this.a,a,c,d,f)},button:function(a,c,d,f,m,e,g,h,k){return new b.Le(this.a,a,c,d,f,m,e,g,h,k)},am:function(a,c,d,f,m){return new b.ac(this.a,
a,c,d,f,m)},Pv:function(a,c,d,f){void 0!==d&&""!==d||(d=this.a.sc.Rr());void 0===f&&(f=!1);a=new b.Sa(this.a,a,c,d);return f&&this.a.cache.GE(d,a),a},gl:function(a,c,d,f){void 0===f&&(f=!1);void 0!==d&&""!==d||(d=this.a.sc.Rr());a=new b.Ke(this.a,d,a,c);return f&&this.a.cache.BE(d,a),a},filter:function(a){var c=Array.prototype.slice.call(arguments,1);a=new b.Gk[a](this.a);return a.rb.apply(a,c),a}};b.rs.prototype.constructor=b.rs;b.ka=function(a,c,d,f,m){c=c||0;d=d||0;f=f||null;m=m||null;this.gc=
this.type=b.tg;PIXI.ka.call(this,b.Cache.DEFAULT);b.B.Tb.rb.call(this,a,c,d,f,m)};b.ka.prototype=Object.create(PIXI.ka.prototype);b.ka.prototype.constructor=b.ka;b.B.Tb.install.call(b.ka.prototype,"Angle Animation AutoCull Bounds BringToTop Crop Delta Destroy FixedToCamera Health InCamera InputEnabled InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset ScaleMinMax Smoothed".split(" "));b.ka.prototype.ai=b.B.Oe.X;b.ka.prototype.$h=b.B.rj.X;b.ka.prototype.ig=b.B.ri.X;b.ka.prototype.cf=b.B.Tb.X;b.ka.prototype.X=
function(){return!!(this.ai()&&this.$h()&&this.ig())&&this.cf()};b.Image=function(a,c,d,f,m){c=c||0;d=d||0;f=f||null;m=m||null;this.type=b.IMAGE;PIXI.ka.call(this,b.Cache.DEFAULT);b.B.Tb.rb.call(this,a,c,d,f,m)};b.Image.prototype=Object.create(PIXI.ka.prototype);b.Image.prototype.constructor=b.Image;b.B.Tb.install.call(b.Image.prototype,"Angle Animation AutoCull Bounds BringToTop Crop Destroy FixedToCamera InputEnabled LifeSpan LoadTexture Overlap Reset ScaleMinMax Smoothed".split(" "));b.Image.prototype.ig=
b.B.ri.X;b.Image.prototype.cf=b.B.Tb.X;b.Image.prototype.X=function(){return!!this.ig()&&this.cf()};b.Le=function(a,c,d,f,m,e,g,h,k,l){m=m||null;e=e||this;b.Image.call(this,a,c||0,d||0,f||null,h);this.type=b.tL;this.gc=b.tg;this.qv=new b.D;this.pv=new b.D;this.ov=new b.D;this.Zq=new b.D;this.FT=!0;this.jS=b.To.KM;this.CG=this.HG=!1;this.Uu=!0;this.input.start(0,!0);this.input.Qr=!0;this.SV(g,h,k,l);null!==m&&this.Zq.add(m,e);this.F.qv.add(this.sT,this);this.F.pv.add(this.rT,this);this.F.ov.add(this.qT,
this);this.F.Zq.add(this.tT,this);this.F.NT.add(this.jV,this)};b.Le.prototype=Object.create(b.Image.prototype);b.Le.prototype.constructor=b.Le;b.Le.prototype.jV=function(){this.Uu=!1};b.Le.prototype.Zv=function(a,c,b){var d="_on"+a+"Frame";null!==c?(this[d]=c,b&&this.Kj(a)):this[d]=null};b.Le.prototype.Kj=function(a){if(this.HG)return!1;a=this["_on"+a+"Frame"];return"string"==typeof a?(this.Fu=a,!0):"number"==typeof a&&(this.frame=a,!0)};b.Le.prototype.SV=function(a,c,b,f){this.Zv("Over",a,this.input.aJ());
this.Zv("Out",c,!this.input.aJ());this.Zv("Down",b,this.input.uU());this.Zv("Up",f,this.input.vU())};b.Le.prototype.yv=function(a){var c=this["on"+a+"Sound"];c&&c.play(this["on"+a+"SoundMarker"])};b.Le.prototype.sT=function(a,c){c.Dl()&&(this.jS&c.Av)===c.Av||(this.Kj("Over"),this.FT&&!c.Zj||(this.yv("Over"),this.qv&&this.qv.s(this,c)))};b.Le.prototype.rT=function(a,c){this.Kj("Out");this.yv("Out");this.pv&&this.pv.s(this,c)};b.Le.prototype.qT=function(a,c){this.Kj("Down");this.yv("Down");this.ov&&
this.ov.s(this,c)};b.Le.prototype.tT=function(a,c,b){(this.yv("Up"),this.Zq&&this.Zq.s(this,c,b),this.HG)||(!0===this.CG||(this.CG&c.Av)===c.Av?this.Kj("Out"):this.Kj("Up")||(b?this.Kj("Over"):this.Kj("Out")))};b.Wd=function(a,c,d,f){void 0!==c&&null!==c||(c=a.g);PIXI.Wd.call(this);b.G.call(this,a,c,d,f);this.type=b.EM};b.Wd.prototype=b.nc.extend(!0,b.Wd.prototype,PIXI.Wd.prototype,b.G.prototype);b.Wd.prototype.constructor=b.Wd;b.Ke=function(a,c,d,f,m){void 0!==d&&0!==d||(d=256);void 0!==f&&0!==f||
(f=256);void 0===m&&(m=!1);this.a=a;this.key=c;this.width=d;this.height=f;this.canvas=b.Of.create(this,d,f,null,m);this.Bh=this.context=this.canvas.getContext("2d",{alpha:!0});this.ao=a.Fe===b.li?a.Ha.N.ao:b.Of.Ou(this.context);this.cg=this.context.getImageData(0,0,d,f);this.data=null;this.cg&&(this.data=this.cg.data);this.Ll=null;this.data&&(this.cg.data.buffer?(this.buffer=this.cg.data.buffer,this.Ll=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.cg.data.length),
this.Ll=new Uint32Array(this.buffer)):this.Ll=this.cg.data);this.A=new PIXI.Uc(this.canvas);this.c=new PIXI.bb(this.A);this.he=new b.Ne;this.ho=this.he.Ei(new b.ue(0,0,0,d,f,"bitmapData"));this.c.frame=this.ho;this.type=b.yo;this.m=this.Vy=!1;this.CP=this.clear;this.xi=null;this.Gp=new b.h;this.Ag=new b.h;this.Cj=new b.h;this.zt=0;this.Qk={da:1,current:1};this.zm=new b.h;new b.ob;this.Bg=void 0};b.Ke.prototype={move:function(a,c,b){return 0!==a&&this.MS(a,b),0!==c&&this.OS(c,b),this},MS:function(a,
c){void 0===c&&(c=!0);void 0===this.Bg&&(this.Bg=PIXI.ab.create(this,this.width,this.height));var b=this.Bg.getContext("2d"),f=this.height,m=this.canvas;if(b.clearRect(0,0,this.width,this.height),0>a){a=Math.abs(a);var e=this.width-a;c&&b.drawImage(m,0,0,a,f,e,0,a,f);b.drawImage(m,a,0,e,f,0,0,e,f)}else e=this.width-a,c&&b.drawImage(m,e,0,a,f,0,0,a,f),b.drawImage(m,0,0,e,f,a,0,e,f);return this.clear(),this.O(this.Bg)},OS:function(a,c){void 0===c&&(c=!0);void 0===this.Bg&&(this.Bg=PIXI.ab.create(this,
this.width,this.height));var b=this.Bg.getContext("2d"),f=this.width,m=this.canvas;if(b.clearRect(0,0,this.width,this.height),0>a){a=Math.abs(a);var e=this.height-a;c&&b.drawImage(m,0,0,f,a,0,e,f,a);b.drawImage(m,0,a,f,e,0,0,f,e)}else e=this.height-a,c&&b.drawImage(m,0,e,f,a,0,0,f,a),b.drawImage(m,0,0,f,e,0,a,f,e);return this.clear(),this.O(this.Bg)},add:function(a){if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c].Th&&a[c].Th(this);else a.Th(this);return this},load:function(a){if("string"==typeof a&&
(a=this.a.cache.Oi(a)),a)return this.resize(a.width,a.height),this.CP(),this.Pj(a),this.update(),this},clear:function(a,c,b,f){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===b&&(b=this.width),void 0===f&&(f=this.height),this.context.clearRect(a,c,b,f),this.m=!0,this},fill:function(a,c,b,f){return void 0===f&&(f=1),this.context.fillStyle="rgba("+a+","+c+","+b+","+f+")",this.context.fillRect(0,0,this.width,this.height),this.m=!0,this},Iu:function(a){var b=new Image;b.src=this.canvas.toDataURL("image/png");
a=this.a.cache.Um(a,"",b);return new PIXI.bb(a.$c)},resize:function(a,b){return a===this.width&&b===this.height||(this.width=a,this.height=b,this.canvas.width=a,this.canvas.height=b,void 0!==this.Bg&&(this.Bg.width=a,this.Bg.height=b),this.A.width=a,this.A.height=b,this.ho.width=a,this.ho.height=b,this.c.width=a,this.c.height=b,this.c.la.width=a,this.c.la.height=b,this.update(),this.m=!0),this},update:function(a,b,d,f){return void 0===a&&(a=0),void 0===b&&(b=0),void 0===d&&(d=Math.max(1,this.width)),
void 0===f&&(f=Math.max(1,this.height)),this.cg=this.context.getImageData(a,b,d,f),this.data=this.cg.data,this.cg.data.buffer?(this.buffer=this.cg.data.buffer,this.Ll=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.cg.data.length),this.Ll=new Uint32Array(this.buffer)):this.Ll=this.cg.data,this},qR:function(a,b){if(0<=a&&a<=this.width&&0<=b&&b<=this.height)return this.Ll[b*this.width+a]},Mu:function(a){void 0===a&&(a=0);var c=b.ia.Ah(),d=0,f=0,m=1,e=!1;1===a?(m=-1,
f=this.height):3===a&&(m=-1,d=this.width);do b.ia.gX(this.qR(d,f),c),0===a||1===a?(d++,d===this.width&&(d=0,f+=m,(f>=this.height||0>=f)&&(e=!0))):2!==a&&3!==a||(f++,f===this.height&&(f=0,d+=m,(d>=this.width||0>=d)&&(e=!0)));while(0===c.R&&!e);return c.x=d,c.y=f,c},xa:function(a){return void 0===a&&(a=new b.v),a.x=this.Mu(2).x,a.x===this.width?a.P(0,0,0,0):(a.y=this.Mu(0).y,a.width=this.Mu(3).x-a.x+1,a.height=this.Mu(1).y-a.y+1,a)},Qp:function(a,b,d,f,m,e){m=m||1;e=e||1;a=this.a.add.qb(a,b,this);return a.anchor.set(d,
f),a.scale.set(m,e),a},O:function(a,c,d,f,m,e,g,h,k,l,n,y,v,x,A,B,z){if(void 0!==a&&null!==a||(a=this),(a instanceof b.Sa||a instanceof PIXI.Sa)&&(a=a.Ju()),this.xi=a,a instanceof b.ka||a instanceof b.Image||a instanceof b.Text||a instanceof PIXI.ka)this.Gp.set(a.c.la.x,a.c.la.y),this.Ag.set(a.c.la.width,a.c.la.height),this.Cj.set(a.scale.x,a.scale.y),this.zm.set(a.anchor.x,a.anchor.y),this.zt=a.rotation,this.Qk.current=a.alpha,a.c instanceof b.Sa||a.c instanceof PIXI.Sa?this.xi=a.c.Ju():this.xi=
a.c.A.source,void 0!==e&&null!==e||(e=a.x),void 0!==g&&null!==g||(g=a.y),a.c.trim&&(e+=a.c.trim.x-a.anchor.x*a.c.trim.width,g+=a.c.trim.y-a.anchor.y*a.c.trim.height),16777215!==a.Gb&&(a.cn!==a.Gb&&(a.cn=a.Gb,a.Kr=PIXI.se.ZG(a,a.Gb)),this.xi=a.Kr,this.Gp.set(0));else{if(this.Gp.set(0),this.Cj.set(1),this.zm.set(0),this.zt=0,this.Qk.current=1,a instanceof b.Ke)this.xi=a.canvas;else if("string"==typeof a){if(a=this.a.cache.Oi(a),null===a)return;this.xi=a}this.Ag.set(this.xi.width,this.xi.height)}if(void 0!==
c&&null!==c||(c=0),void 0!==d&&null!==d||(d=0),f&&(this.Ag.x=f),m&&(this.Ag.y=m),void 0!==e&&null!==e||(e=c),void 0!==g&&null!==g||(g=d),void 0!==h&&null!==h||(h=this.Ag.x),void 0!==k&&null!==k||(k=this.Ag.y),"number"==typeof l&&(this.zt=l),"number"==typeof n&&(this.zm.x=n),"number"==typeof y&&(this.zm.y=y),"number"==typeof v&&(this.Cj.x=v),"number"==typeof x&&(this.Cj.y=x),"number"==typeof A&&(this.Qk.current=A),void 0===z&&(z=!1),!(0>=this.Qk.current||0===this.Cj.x||0===this.Cj.y||0===this.Ag.x||
0===this.Ag.y))return a=this.context,this.Qk.da=a.globalAlpha,a.save(),a.globalAlpha=this.Qk.current,z&&(e|=0,g|=0),a.translate(e,g),a.scale(this.Cj.x,this.Cj.y),a.rotate(this.zt),a.drawImage(this.xi,this.Gp.x+c,this.Gp.y+d,this.Ag.x,this.Ag.y,-h*this.zm.x,-k*this.zm.y,h,k),a.restore(),a.globalAlpha=this.Qk.da,this.m=!0,this},Pj:function(a,b,d,f,m,e,g){return this.O(a,null,null,null,null,b,d,f,m,null,null,null,null,null,null,e,g)},rect:function(a,b,d,f,m){return"undefined"!=typeof m&&(this.context.fillStyle=
m),this.context.fillRect(a,b,d,f),this},text:function(a,b,d,f,m,e){void 0===b&&(b=0);void 0===d&&(d=0);void 0===f&&(f="14px Courier");void 0===m&&(m="rgb(255,255,255)");void 0===e&&(e=!0);var c=this.context,g=c.font;return c.font=f,e&&(c.fillStyle="rgb(0,0,0)",c.fillText(a,b+1,d+1)),c.fillStyle=m,c.fillText(a,b,d),c.font=g,this},il:function(a,b,d,f){var c=this.context;return void 0!==f&&(c.fillStyle=f),c.beginPath(),c.arc(a,b,d,0,2*Math.PI,!1),c.closePath(),c.fill(),this},Ff:function(a,b,d,f,m,e){void 0===
m&&(m="#fff");void 0===e&&(e=1);var c=this.context;return c.beginPath(),c.moveTo(a,b),c.lineTo(d,f),c.lineWidth=e,c.strokeStyle=m,c.stroke(),c.closePath(),this},Xa:function(){return!this.Vy&&this.m&&(this.A.m(),this.m=!1),this},j:function(){this.he.j();this.c.j(!0);PIXI.ab.remove(this)},WE:function(){return this},CO:function(){return this},EO:function(){return this},aF:function(){return this},ZE:function(){return this},$E:function(){return this},YE:function(){return this},XE:function(){return this},
zO:function(){return this},FO:function(){return this},xO:function(){return this},yO:function(){return this},blendColor:function(){return this}};Object.defineProperty(b.Ke.prototype,"smoothed",{get:function(){},set:function(a){b.Of.$V(this.context,a)}});Object.defineProperty(b.Ke.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(a){this.context.globalCompositeOperation=a}});b.Ke.Z2=function(a,b,d,f,m,e){return"number"!=typeof a&&(a=0),"number"!=typeof b&&(b=
0),"number"!=typeof d&&(d=1),"number"!=typeof f&&(f=1),"number"!=typeof m&&(m=0),"number"!=typeof e&&(e=0),{t5:d,u5:f,Z4:d,a5:f,g5:m,h5:e,x5:a,y5:b,qa:a,oa:b}};b.Ke.prototype.constructor=b.Ke;PIXI.S=function(){PIXI.Ra.call(this);this.df=!0;this.Kd=1;this.ak=this.lineWidth=0;this.Nd=[];this.Gb=16777215;this.cc=PIXI.Ve.ui;this.kb=null;this.Cg=[];this.Xu=!1;this.OO=0;this.sp=new PIXI.v(0,0,1,1);this.m=!0;this.aq=this.vw=this.vi=!1};PIXI.S.prototype=Object.create(PIXI.Ra.prototype);PIXI.S.prototype.constructor=
PIXI.S;PIXI.S.prototype.Sg=function(a,b,d){this.lineWidth=a||0;this.ak=b||0;this.Rg=void 0===d?1:d;this.kb&&(this.kb.shape.ea.length?this.tu(new PIXI.sg(this.kb.shape.ea.slice(-2))):(this.kb.lineWidth=this.lineWidth,this.kb.ak=this.ak,this.kb.Rg=this.Rg))};PIXI.S.prototype.moveTo=function(a,b){return this.tu(new PIXI.sg([a,b])),this};PIXI.S.prototype.lineTo=function(a,b){return this.kb||this.moveTo(0,0),this.kb.shape.ea.push(a,b),this.m=!0,this.vi=!0,this};PIXI.S.prototype.quadraticCurveTo=function(a,
b,d,f){this.kb?0===this.kb.shape.ea.length&&(this.kb.shape.ea=[0,0]):this.moveTo(0,0);var c,e,g=this.kb.shape.ea;0===g.length&&this.moveTo(0,0);for(var h=g[g.length-2],k=g[g.length-1],l,n=1;20>=n;++n)l=n/20,c=h+(a-h)*l,e=k+(b-k)*l,g.push(c+(a+(d-a)*l-c)*l,e+(b+(f-b)*l-e)*l);return this.m=!0,this.vi=!0,this};PIXI.S.prototype.bezierCurveTo=function(a,b,d,f,m,e){this.kb?0===this.kb.shape.ea.length&&(this.kb.shape.ea=[0,0]):this.moveTo(0,0);for(var c,g,p,h,k,l=this.kb.shape.ea,n=l[l.length-2],x=l[l.length-
1],A,B=1;20>=B;++B)A=B/20,c=1-A,g=c*c,p=g*c,h=A*A,k=h*A,l.push(p*n+3*g*A*a+3*c*h*d+k*m,p*x+3*g*A*b+3*c*h*f+k*e);return this.m=!0,this.vi=!0,this};PIXI.S.prototype.arcTo=function(a,b,d,f,m){this.kb?0===this.kb.shape.ea.length&&this.kb.shape.ea.push(a,b):this.moveTo(a,b);var c=this.kb.shape.ea,e=c[c.length-1]-b,g=c[c.length-2]-a;f-=b;d-=a;var h=Math.abs(e*d-g*f);if(1E-8>h||0===m)c[c.length-2]===a&&c[c.length-1]===b||c.push(a,b);else{var k=e*e+g*g,l=f*f+d*d,n=e*f+g*d,c=m*Math.sqrt(k)/h,h=m*Math.sqrt(l)/
h,k=c*n/k,l=h*n/l,n=c*d+h*g,v=c*f+h*e;this.arc(n+a,v+b,m,Math.atan2(e*(h+k)-v,g*(h+k)-n),Math.atan2(f*(c+l)-v,d*(c+l)-n),g*f>d*e)}return this.m=!0,this.vi=!0,this};PIXI.S.prototype.arc=function(a,b,d,f,m,e,g){if(f===m)return this;void 0===e&&(e=!1);void 0===g&&(g=40);!e&&m<=f?m+=2*Math.PI:e&&f<=m&&(f+=2*Math.PI);m=e?-1*(f-m):m-f;var c=Math.ceil(Math.abs(m)/(2*Math.PI))*g;if(0===m)return this;g=a+Math.cos(f)*d;var p=b+Math.sin(f)*d;e&&this.on?this.moveTo(a,b):this.moveTo(g,p);e=this.kb.shape.ea;m/=
2*c;g=2*m;for(var p=Math.cos(m),h=Math.sin(m),c=c-1,r=c%1/c,k=0;k<=c;k++){var l=m+f+g*(k+r*k),n=Math.cos(l),l=-Math.sin(l);e.push((p*n+h*l)*d+a,(p*-l+h*n)*d+b)}return this.m=!0,this.vi=!0,this};PIXI.S.prototype.fl=function(a,b){this.on=!0;this.fillColor=a||0;this.Kd=void 0===b?1:b;this.kb&&2>=this.kb.shape.ea.length&&(this.kb.fill=this.on,this.kb.fillColor=this.fillColor,this.kb.Kd=this.Kd)};PIXI.S.prototype.sq=function(){this.on=!1;this.fillColor=null;this.Kd=1};PIXI.S.prototype.tQ=function(a,b,
d,f){this.tu(new PIXI.v(a,b,d,f))};PIXI.S.prototype.rl=function(a,b,d){return this.tu(new PIXI.ob(a,b,d)),this};PIXI.S.prototype.clear=function(){return this.lineWidth=0,this.on=!1,this.m=!0,this.vi=!0,this.GF=!0,this.Nd=[],this.XB(),this};PIXI.S.prototype.Iu=function(a,b,d){void 0===a&&(a=1);void 0===b&&(b=PIXI.tc.DEFAULT);void 0===d&&(d=0);var c=this.xa();c.width+=d;c.height+=d;d=new PIXI.pg(c.width*a,c.height*a);b=PIXI.bb.wl(d.canvas,b);return b.A.I=a,d.context.scale(a,a),d.context.translate(-c.x,
-c.y),PIXI.Fk.vr(this,d.context),b};PIXI.S.prototype.nd=function(a){if(!1!==this.visible&&0!==this.alpha&&!0!==this.Xu){if(this.ph)return(this.m||this.aq)&&(this.ft(),this.EK(),this.aq=!1,this.m=!1),this.jb.Tc=this.Tc,void PIXI.ka.prototype.nd.call(this.jb,a);if(a.Ma.stop(),a.vh.zr(this.cc),this.Ta&&a.Pb.dj(this.Ta,a),this.Se&&a.Ze.Jv(this.ct),this.cc!==a.Ma.qc){a.Ma.qc=this.cc;var b=PIXI.wy[a.Ma.qc];a.Ma.H.blendFunc(b[0],b[1])}if(this.vw&&(this.m=!0,this.vw=!1),PIXI.Fa.vr(this,a),this.children.length){a.Ma.start();
for(b=0;b<this.children.length;b++)this.children[b].nd(a);a.Ma.stop()}this.Se&&a.Ze.Dv();this.Ta&&a.Pb.bj(this.Gf,a);a.pq++;a.Ma.start()}};PIXI.S.prototype.$d=function(a){if(!1!==this.visible&&0!==this.alpha&&!0!==this.Xu){if(this.vN!==this.Gb&&(this.m=!0,this.vN=this.Gb),this.ph)return(this.m||this.aq)&&(this.ft(),this.EK(),this.aq=!1,this.m=!1),this.jb.alpha=this.alpha,void PIXI.ka.prototype.$d.call(this.jb,a);var b=a.context,d=this.na;this.cc!==a.qc&&(a.qc=this.cc,b.globalCompositeOperation=PIXI.Yp[a.qc]);
this.Ta&&a.Pb.dj(this.Ta,a);var f=a.I;b.setTransform(d.R*f,d.L*f,d.ha*f,d.d*f,d.qa*a.I+a.Yn,d.oa*a.I+a.Zn);PIXI.Fk.vr(this,b);for(b=0;b<this.children.length;b++)this.children[b].$d(a);this.Ta&&a.Pb.bj(a)}};PIXI.S.prototype.xa=function(a){if(!this.wg){if(!this.df)return PIXI.DC;this.m&&(this.XB(),this.vw=!0,this.aq=!0,this.m=!1);var b=this.sp,d=b.x,f=b.width+b.x,m=b.y,e=b.height+b.y;a=a||this.na;var g=a.R,h=a.L,k=a.ha,l=a.d,n=a.qa,y=a.oa,v=g*f+k*e+n,b=l*e+h*f+y;a=g*d+k*e+n;var e=l*e+h*d+y,x=g*d+k*
m+n,d=l*m+h*d+y,g=g*f+k*m+n,f=l*m+h*f+y,m=v,h=b,v=a<v?a:v,v=x<v?x:v,v=g<v?g:v,b=e<b?e:b,b=d<b?d:b,b=f<b?f:b,m=a>m?a:m,m=x>m?x:m,h=e>h?e:h,h=d>h?d:h;this.xc.x=v;this.xc.width=(g>m?g:m)-v;this.xc.y=b;this.xc.height=(f>h?f:h)-b;this.wg=this.xc}return this.wg};PIXI.S.prototype.Pi=function(){var a=this.na;this.na=PIXI.Kq;for(var b=0;b<this.children.length;b++)this.children[b].Cb();var d=this.xa();this.na=a;for(b=0;b<this.children.length;b++)this.children[b].Cb();return d};PIXI.S.prototype.ju=function(a){this.na.eO(a,
tempPoint);a=this.Nd;for(var b=0;b<a.length;b++){var d=a[b];if(d.fill&&d.shape&&d.shape.contains(tempPoint.x,tempPoint.y))return!0}return!1};PIXI.S.prototype.XB=function(){var a=1/0,c=-(1/0),d=1/0,f=-(1/0);if(this.Nd.length)for(var m,e,g,h,k,l=0;l<this.Nd.length;l++)if(m=this.Nd[l],h=m.type,k=m.lineWidth,m=m.shape,h===PIXI.S.Ds||h===PIXI.S.Gs)e=m.x-k/2,g=m.y-k/2,h=m.width+k,k=m.height+k,a=e<a?e:a,c=e+h>c?e+h:c,d=g<d?g:d,f=g+k>f?g+k:f;else if(h===PIXI.S.Co)e=m.x,g=m.y,h=m.w+k/2,k=m.w+k/2,a=e-h<a?e-
h:a,c=e+h>c?e+h:c,d=g-k<d?g-k:d,f=g+k>f?g+k:f;else if(h===PIXI.S.ps)e=m.x,g=m.y,h=m.width+k/2,k=m.height+k/2,a=e-h<a?e-h:a,c=e+h>c?e+h:c,d=g-k<d?g-k:d,f=g+k>f?g+k:f;else for(m=m.ea,h=0;h<m.length;h++)m[h]instanceof b.h?(e=m[h].x,g=m[h].y):(e=m[h],g=m[h+1],h<m.length-1&&h++),a=e-k<a?e-k:a,c=e+k>c?e+k:c,d=g-k<d?g-k:d,f=g+k>f?g+k:f;else f=d=c=a=0;e=this.OO;this.sp.x=a-e;this.sp.width=c-a+2*e;this.sp.y=d-e;this.sp.height=f-d+2*e};PIXI.S.prototype.ft=function(){var a=this.Pi();if(this.jb)this.jb.buffer.resize(a.width,
a.height);else{var b=new PIXI.pg(a.width,a.height),d=PIXI.bb.wl(b.canvas);this.jb=new PIXI.ka(d);this.jb.buffer=b;this.jb.na=this.na}this.jb.anchor.x=-(a.x/a.width);this.jb.anchor.y=-(a.y/a.height);this.jb.buffer.context.translate(-a.x,-a.y);this.Tc=1;PIXI.Fk.vr(this,this.jb.buffer.context);this.jb.alpha=this.alpha};PIXI.S.prototype.EK=function(){var a=this.jb,b=a.c,d=a.buffer.canvas;b.A.width=d.width;b.A.height=d.height;b.la.width=b.frame.width=d.width;b.la.height=b.frame.height=d.height;a.Kb=d.width;
a.Ib=d.height;b.A.m()};PIXI.S.prototype.fQ=function(){this.jb.c.j(!0);this.jb=null};PIXI.S.prototype.tu=function(a){this.kb&&2>=this.kb.shape.ea.length&&this.Nd.pop();this.kb=null;a instanceof b.sg&&(a=a.clone(),a.Cu());a=new PIXI.ts(this.lineWidth,this.ak,this.Rg,this.fillColor,this.Kd,this.on,a);this.Nd.push(a);a.type===PIXI.S.Ro&&(a.shape.closed=this.on,this.kb=a);this.vi=this.m=!0};Object.defineProperty(PIXI.S.prototype,"cacheAsBitmap",{get:function(){return this.ph},set:function(a){(this.ph=
a)?this.ft():this.fQ();this.vw=this.m=!0}});PIXI.ts=function(a,b,d,f,m,e,g){this.lineWidth=a;this.ak=b;this.Rg=d;this.SD=b;this.fillColor=f;this.Kd=m;this.JD=f;this.fill=e;this.shape=g;this.type=g.type};PIXI.ts.prototype.constructor=PIXI.ts;PIXI.ts.prototype.clone=function(){return new GraphicsData(this.lineWidth,this.ak,this.Rg,this.fillColor,this.Kd,this.fill,this.shape)};PIXI.C={};PIXI.C.Qs=function(a,b,d){d=d||2;var c=b&&b.length,m=c?b[0]*d:a.length,e=PIXI.C.JH(a,0,m,d,!0),g=[];if(!e)return g;
var h,k,l,n;if(c&&(e=PIXI.C.wQ(a,b,e,d)),a.length>80*d){h=b=a[0];k=c=a[1];for(var y=d;y<m;y+=d)l=a[y],n=a[y+1],l<h&&(h=l),n<k&&(k=n),l>b&&(b=l),n>c&&(c=n);l=Math.max(b-h,c-k)}return PIXI.C.qq(e,g,d,h,k,l),g};PIXI.C.JH=function(a,b,d,f,m){var c,e,g,h=0;c=b;for(e=d-f;c<d;c+=f)h+=(a[e]-a[c])*(a[c+1]+a[e+1]),e=c;if(m===0<h)for(c=b;c<d;c+=f)g=PIXI.C.insertNode(c,a[c],a[c+1],g);else for(c=d-f;c>=b;c-=f)g=PIXI.C.insertNode(c,a[c],a[c+1],g);return g};PIXI.C.tq=function(a,b){if(!a)return a;b||(b=a);var c,
f=a;do if(c=!1,f.bK||!PIXI.C.Li(f,f.next)&&0!==PIXI.C.ra(f.da,f,f.next))f=f.next;else{if(PIXI.C.removeNode(f),f=b=f.da,f===f.next)return null;c=!0}while(c||f!==b);return b};PIXI.C.qq=function(a,b,d,f,m,e,g){if(a){!g&&e&&PIXI.C.KR(a,f,m,e);for(var c,p,h=a;a.da!==a.next;)if(c=a.da,p=a.next,e?PIXI.C.bS(a,f,m,e):PIXI.C.aS(a))b.push(c.rc/d),b.push(a.rc/d),b.push(p.rc/d),PIXI.C.removeNode(a),h=a=p.next;else if(a=p,a===h){g?1===g?(a=PIXI.C.WP(a,b,d),PIXI.C.qq(a,b,d,f,m,e,2)):2===g&&PIXI.C.DW(a,b,d,f,m,e):
PIXI.C.qq(PIXI.C.tq(a),b,d,f,m,e,1);break}}};PIXI.C.aS=function(a){var b=a.da,d=a.next;if(0<=PIXI.C.ra(b,a,d))return!1;for(var f=a.next.next;f!==a.da;){if(PIXI.C.zv(b.x,b.y,a.x,a.y,d.x,d.y,f.x,f.y)&&0<=PIXI.C.ra(f.da,f,f.next))return!1;f=f.next}return!0};PIXI.C.bS=function(a,b,d,f){var c=a.da,e=a.next;if(0<=PIXI.C.ra(c,a,e))return!1;var g=PIXI.C.kC(c.x<a.x?c.x<e.x?c.x:e.x:a.x<e.x?a.x:e.x,c.y<a.y?c.y<e.y?c.y:e.y:a.y<e.y?a.y:e.y,b,d,f);b=PIXI.C.kC(c.x>a.x?c.x>e.x?c.x:e.x:a.x>e.x?a.x:e.x,c.y>a.y?c.y>
e.y?c.y:e.y:a.y>e.y?a.y:e.y,b,d,f);for(d=a.Ae;d&&d.z<=b;){if(d!==a.da&&d!==a.next&&PIXI.C.zv(c.x,c.y,a.x,a.y,e.x,e.y,d.x,d.y)&&0<=PIXI.C.ra(d.da,d,d.next))return!1;d=d.Ae}for(d=a.bi;d&&d.z>=g;){if(d!==a.da&&d!==a.next&&PIXI.C.zv(c.x,c.y,a.x,a.y,e.x,e.y,d.x,d.y)&&0<=PIXI.C.ra(d.da,d,d.next))return!1;d=d.bi}return!0};PIXI.C.WP=function(a,b,d){var c=a;do{var m=c.da,e=c.next.next;PIXI.C.Xb(m,c,c.next,e)&&PIXI.C.Tq(m,e)&&PIXI.C.Tq(e,m)&&(b.push(m.rc/d),b.push(c.rc/d),b.push(e.rc/d),PIXI.C.removeNode(c),
PIXI.C.removeNode(c.next),c=a=e);c=c.next}while(c!==a);return c};PIXI.C.DW=function(a,b,d,f,m,e){var c=a;do{for(var g=c.next.next;g!==c.da;){if(c.rc!==g.rc&&PIXI.C.gS(c,g)){a=PIXI.C.ZJ(c,g);c=PIXI.C.tq(c,c.next);a=PIXI.C.tq(a,a.next);PIXI.C.qq(c,b,d,f,m,e);PIXI.C.qq(a,b,d,f,m,e);return}g=g.next}c=c.next}while(c!==a)};PIXI.C.wQ=function(a,b,d,f){var c,e,g,h,k=[];c=0;for(e=b.length;c<e;c++)g=b[c]*f,h=c<e-1?b[c+1]*f:a.length,g=PIXI.C.JH(a,g,h,f,!1),g===g.next&&(g.bK=!0),k.push(PIXI.C.lR(g));k.sort(compareX);
for(c=0;c<k.length;c++)PIXI.C.vQ(k[c],d),d=PIXI.C.tq(d,d.next);return d};PIXI.C.i2=function(a,b){return a.x-b.x};PIXI.C.vQ=function(a,b){if(b=PIXI.C.HQ(a,b)){var c=PIXI.C.ZJ(b,a);PIXI.C.tq(c,c.next)}};PIXI.C.HQ=function(a,b){var c,f=b,m=a.x,e=a.y,g=-(1/0);do{if(e<=f.y&&e>=f.next.y){var h=f.x+(e-f.y)*(f.next.x-f.x)/(f.next.y-f.y);h<=m&&h>g&&(g=h,c=f.x<f.next.x?f:f.next)}f=f.next}while(f!==b);if(!c)return null;if(a.x===c.x)return c.da;for(var k,h=c,l=1/0,f=c.next;f!==h;)m>=f.x&&f.x>=c.x&&PIXI.C.zv(e<
c.y?m:g,e,c.x,c.y,e<c.y?g:m,e,f.x,f.y)&&(k=Math.abs(e-f.y)/(m-f.x),(k<l||k===l&&f.x>c.x)&&PIXI.C.Tq(f,a)&&(c=f,l=k)),f=f.next;return c};PIXI.C.KR=function(a,b,d,f){var c=a;do null===c.z&&(c.z=PIXI.C.kC(c.x,c.y,b,d,f)),c.bi=c.da,c=c.Ae=c.next;while(c!==a);c.bi.Ae=null;c.bi=null;PIXI.C.xW(c)};PIXI.C.xW=function(a){var b,d,f,m,e,g,h,k=1;do{d=a;e=a=null;for(g=0;d;){g++;f=d;for(b=h=0;b<k&&(h++,f=f.Ae,f);b++);for(b=k;0<h||0<b&&f;)0===h?(m=f,f=f.Ae,b--):0!==b&&f?d.z<=f.z?(m=d,d=d.Ae,h--):(m=f,f=f.Ae,b--):
(m=d,d=d.Ae,h--),e?e.Ae=m:a=m,m.bi=e,e=m;d=f}e.Ae=null;k*=2}while(1<g)};PIXI.C.kC=function(a,b,d,f,m){return a=32767*(a-d)/m,b=32767*(b-f)/m,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1};PIXI.C.lR=function(a){var b=a,d=a;do b.x<d.x&&(d=b),b=b.next;while(b!==a);return d};PIXI.C.zv=function(a,b,d,f,m,e,g,h){return 0<=(m-g)*(b-h)-(a-g)*(e-h)&&0<=(a-g)*(f-h)-(d-g)*(b-h)&&0<=
(d-g)*(e-h)-(m-g)*(f-h)};PIXI.C.gS=function(a,b){return PIXI.C.Li(a,b)||a.next.rc!==b.rc&&a.da.rc!==b.rc&&!PIXI.C.ZR(a,b)&&PIXI.C.Tq(a,b)&&PIXI.C.Tq(b,a)&&PIXI.C.DS(a,b)};PIXI.C.ra=function(a,b,d){return(b.y-a.y)*(d.x-b.x)-(b.x-a.x)*(d.y-b.y)};PIXI.C.Li=function(a,b){return a.x===b.x&&a.y===b.y};PIXI.C.Xb=function(a,b,d,f){return 0<PIXI.C.ra(a,b,d)!=0<PIXI.C.ra(a,b,f)&&0<PIXI.C.ra(d,f,a)!=0<PIXI.C.ra(d,f,b)};PIXI.C.ZR=function(a,b){var c=a;do{if(c.rc!==a.rc&&c.next.rc!==a.rc&&c.rc!==b.rc&&c.next.rc!==
b.rc&&PIXI.C.Xb(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1};PIXI.C.Tq=function(a,b){return 0>PIXI.C.ra(a.da,a,a.next)?0<=PIXI.C.ra(a,b,a.next)&&0<=PIXI.C.ra(a,a.da,b):0>PIXI.C.ra(a,b,a.da)||0>PIXI.C.ra(a,a.next,b)};PIXI.C.DS=function(a,b){var c=a,f=!1,m=(a.x+b.x)/2,e=(a.y+b.y)/2;do c.y>e!=c.next.y>e&&m<(c.next.x-c.x)*(e-c.y)/(c.next.y-c.y)+c.x&&(f=!f),c=c.next;while(c!==a);return f};PIXI.C.ZJ=function(a,b){var c=new PIXI.C.Node(a.rc,a.x,a.y),f=new PIXI.C.Node(b.rc,b.x,b.y),m=a.next,e=b.da;
return a.next=b,b.da=a,c.next=m,m.da=c,f.next=c,c.da=f,e.next=f,f.da=e,f};PIXI.C.insertNode=function(a,b,d,f){a=new PIXI.C.Node(a,b,d);return f?(a.next=f.next,a.da=f,f.next.da=a,f.next=a):(a.da=a,a.next=a),a};PIXI.C.removeNode=function(a){a.next.da=a.da;a.da.next=a.next;a.bi&&(a.bi.Ae=a.Ae);a.Ae&&(a.Ae.bi=a.bi)};PIXI.C.Node=function(a,b,d){this.rc=a;this.x=b;this.y=d;this.Ae=this.bi=this.z=this.next=this.da=null;this.bK=!1};PIXI.Fa=function(){};PIXI.Fa.cK=6;PIXI.Fa.vr=function(a,b){var c,f=b.H,m=
b.vd,e=b.offset,g=b.uc.Hv;a.m&&PIXI.Fa.HK(a,f);for(var h=a.Cg[f.id],k=0;k<h.data.length;k++)1===h.data[k].mode?(c=h.data[k],b.gf.kJ(a,c,b),f.drawElements(f.TRIANGLE_FAN,4,f.UNSIGNED_SHORT,2*(c.Ea.length-4)),b.gf.cJ(a,c,b)):(c=h.data[k],b.uc.rk(g),g=b.uc.Hv,f.uniformMatrix3fv(g.jo,!1,a.na.Lr(!0)),f.uniform1f(g.Rj,1),f.uniform2f(g.Tg,m.x,-m.y),f.uniform2f(g.Vh,-e.x,-e.y),f.uniform3fv(g.qw,PIXI.Rh(a.Gb)),f.uniform1f(g.alpha,a.Tc),f.bindBuffer(f.ARRAY_BUFFER,c.buffer),f.vertexAttribPointer(g.Hd,2,f.FLOAT,
!1,24,0),f.vertexAttribPointer(g.fe,4,f.FLOAT,!1,24,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c.ie),f.drawElements(f.TRIANGLE_STRIP,c.Ea.length,f.UNSIGNED_SHORT,0))};PIXI.Fa.HK=function(a,b){var c=a.Cg[b.id];c||(c=a.Cg[b.id]={lastIndex:0,data:[],H:b});a.m=!1;var f;if(a.GF){a.GF=!1;for(f=0;f<c.data.length;f++){var m=c.data[f];m.reset();PIXI.Fa.Fz.push(m)}c.data=[];c.lastIndex=0}var e;for(f=c.lastIndex;f<a.Nd.length;f++){m=a.Nd[f];if(m.type===PIXI.S.Ro){if(m.ea=m.shape.ea.slice(),m.shape.closed&&(m.ea[0]===
m.ea[m.ea.length-2]&&m.ea[1]===m.ea[m.ea.length-1]||m.ea.push(m.ea[0],m.ea[1])),m.fill&&m.ea.length>=PIXI.Fa.cK)m.ea.length<2*PIXI.Fa.cK?(e=PIXI.Fa.Ir(c,0),PIXI.Fa.QO(m,e)||(e=PIXI.Fa.Ir(c,1),PIXI.Fa.fF(m,e))):(e=PIXI.Fa.Ir(c,1),PIXI.Fa.fF(m,e));0<m.lineWidth&&(e=PIXI.Fa.Ir(c,0),PIXI.Fa.Ut(m,e))}else e=PIXI.Fa.Ir(c,0),m.type===PIXI.S.Ds?PIXI.Fa.RO(m,e):m.type===PIXI.S.Co||m.type===PIXI.S.ps?PIXI.Fa.PO(m,e):m.type===PIXI.S.Gs&&PIXI.Fa.SO(m,e);c.lastIndex++}for(f=0;f<c.data.length;f++)e=c.data[f],e.m&&
e.upload()};PIXI.Fa.Ir=function(a,b){var c;return a.data.length?(c=a.data[a.data.length-1],c.mode===b&&1!==b||(c=PIXI.Fa.Fz.pop()||new PIXI.Ss(a.H),c.mode=b,a.data.push(c))):(c=PIXI.Fa.Fz.pop()||new PIXI.Ss(a.H),c.mode=b,a.data.push(c)),c.m=!0,c};PIXI.Fa.RO=function(a,b){var c=a.shape,f=c.x,e=c.y,g=c.width,c=c.height;if(a.fill){var h=PIXI.Rh(a.fillColor),k=a.Kd,l=h[0]*k,n=h[1]*k,h=h[2]*k,t=b.ea,y=b.Ea,v=t.length/6;t.push(f,e);t.push(l,n,h,k);t.push(f+g,e);t.push(l,n,h,k);t.push(f,e+c);t.push(l,n,
h,k);t.push(f+g,e+c);t.push(l,n,h,k);y.push(v,v,v+1,v+2,v+3,v+3)}a.lineWidth&&(k=a.ea,a.ea=[f,e,f+g,e,f+g,e+c,f,e+c,f,e],PIXI.Fa.Ut(a,b),a.ea=k)};PIXI.Fa.SO=function(a,b){var c=a.shape,f=c.x,e=c.y,g=c.width,h=c.height,k=c.w,c=[];if(c.push(f,e+k),c=c.concat(PIXI.Fa.Kv(f,e+h-k,f,e+h,f+k,e+h)),c=c.concat(PIXI.Fa.Kv(f+g-k,e+h,f+g,e+h,f+g,e+h-k)),c=c.concat(PIXI.Fa.Kv(f+g,e+k,f+g,e,f+g-k,e)),c=c.concat(PIXI.Fa.Kv(f+k,e,f,e,f,e+k)),a.fill){var h=PIXI.Rh(a.fillColor),f=a.Kd,e=h[0]*f,g=h[1]*f,h=h[2]*f,k=
b.ea,l=b.Ea,n=k.length/6,t=PIXI.C.Qs(c,null,2),y;for(y=0;y<t.length;y+=3)l.push(t[y]+n),l.push(t[y]+n),l.push(t[y+1]+n),l.push(t[y+2]+n),l.push(t[y+2]+n);for(y=0;y<c.length;y++)k.push(c[y],c[++y],e,g,h,f)}a.lineWidth&&(f=a.ea,a.ea=c,PIXI.Fa.Ut(a,b),a.ea=f)};PIXI.Fa.Kv=function(a,b,d,f,e,g){for(var c,m,p,h,k=[],l,n=0;20>=n;n++)l=n/20,c=a+(d-a)*l,m=b+(f-b)*l,p=d+(e-d)*l,h=f+(g-f)*l,c+=(p-c)*l,m+=(h-m)*l,k.push(c,m);return k};PIXI.Fa.PO=function(a,b){var c,f,e=a.shape,g=e.x,h=e.y;a.type===PIXI.S.Co?
(c=e.w,f=e.w):(c=e.width,f=e.height);var e=2*Math.PI/40,k;if(a.fill){k=PIXI.Rh(a.fillColor);var l=a.Kd,n=k[0]*l,t=k[1]*l,y=k[2]*l,v=b.ea,x=b.Ea,A=v.length/6;x.push(A);for(k=0;41>k;k++)v.push(g,h,n,t,y,l),v.push(g+Math.sin(e*k)*c,h+Math.cos(e*k)*f,n,t,y,l),x.push(A++,A++);x.push(A-1)}if(a.lineWidth){l=a.ea;a.ea=[];for(k=0;41>k;k++)a.ea.push(g+Math.sin(e*k)*c,h+Math.cos(e*k)*f);PIXI.Fa.Ut(a,b);a.ea=l}};PIXI.Fa.Ut=function(a,b){var c,f=a.ea;if(0!==f.length){if(a.lineWidth%2)for(c=0;c<f.length;c++)f[c]+=
.5;var e=new PIXI.h(f[0],f[1]),g=new PIXI.h(f[f.length-2],f[f.length-1]);if(e.x===g.x&&e.y===g.y){f=f.slice();f.pop();f.pop();var g=new PIXI.h(f[f.length-2],f[f.length-1]),h=g.x+.5*(e.x-g.x),e=g.y+.5*(e.y-g.y);f.unshift(h,e);f.push(h,e)}var k,l,n,t,y,v,x,A,B,z,D,E,H,I,G,P,Q,N,J,h=b.ea,e=b.Ea,g=f.length/2,Z=f.length,U=h.length/6,R=a.lineWidth/2;c=PIXI.Rh(a.ak);var K=a.Rg,L=c[0]*K,O=c[1]*K,M=c[2]*K;n=f[0];t=f[1];y=f[2];v=f[3];B=-(t-v);z=n-y;J=Math.sqrt(B*B+z*z);B=B/J*R;z=z/J*R;h.push(n-B,t-z,L,O,M,
K);h.push(n+B,t+z,L,O,M,K);for(c=1;c<g-1;c++)n=f[2*(c-1)],t=f[2*(c-1)+1],y=f[2*c],v=f[2*c+1],x=f[2*(c+1)],A=f[2*(c+1)+1],B=-(t-v),z=n-y,J=Math.sqrt(B*B+z*z),B/=J,z/=J,B*=R,z*=R,D=-(v-A),E=y-x,J=Math.sqrt(D*D+E*E),D/=J,E/=J,D*=R,E*=R,G=-z+t-(-z+v),P=-B+y-(-B+n),n=(-B+n)*(-z+v)-(-B+y)*(-z+t),t=-E+A-(-E+v),Q=-D+y-(-D+x),x=(-D+x)*(-E+v)-(-D+y)*(-E+A),A=G*Q-t*P,.1>Math.abs(A)?(h.push(y-B,v-z,L,O,M,K),h.push(y+B,v+z,L,O,M,K)):(k=(P*x-Q*n)/A,l=(t*n-G*x)/A,N=(k-y)*(k-y)+(l-v)+(l-v),19600<N?(H=B-D,I=z-E,J=
Math.sqrt(H*H+I*I),H/=J,I/=J,H*=R,I*=R,h.push(y-H,v-I),h.push(L,O,M,K),h.push(y+H,v+I),h.push(L,O,M,K),h.push(y-H,v-I),h.push(L,O,M,K),Z++):(h.push(k,l),h.push(L,O,M,K),h.push(y-(k-y),v-(l-v)),h.push(L,O,M,K)));n=f[2*(g-2)];t=f[2*(g-2)+1];y=f[2*(g-1)];v=f[2*(g-1)+1];B=-(t-v);z=n-y;J=Math.sqrt(B*B+z*z);B=B/J*R;z=z/J*R;h.push(y-B,v-z);h.push(L,O,M,K);h.push(y+B,v+z);h.push(L,O,M,K);e.push(U);for(c=0;c<Z;c++)e.push(U++);e.push(U-1)}};PIXI.Fa.fF=function(a,b){var c=a.ea.slice();if(!(6>c.length)){var f=
b.Ea;b.ea=c;b.alpha=a.Kd;b.color=PIXI.Rh(a.fillColor);for(var e,g,h=1/0,k=-(1/0),l=1/0,n=-(1/0),t=0;t<c.length;t+=2)e=c[t],g=c[t+1],h=e<h?e:h,k=e>k?e:k,l=g<l?g:l,n=g>n?g:n;c.push(h,l,k,l,k,n,h,n);c=c.length/2;for(t=0;t<c;t++)f.push(t)}};PIXI.Fa.QO=function(a,b){var c=a.ea;if(!(6>c.length)){var f=b.ea,e=b.Ea,g=c.length/2,h=PIXI.Rh(a.fillColor),k=a.Kd,l=h[0]*k,n=h[1]*k,h=h[2]*k,t=PIXI.C.Qs(c,null,2);if(!t)return!1;var y=f.length/6,v;for(v=0;v<t.length;v+=3)e.push(t[v]+y),e.push(t[v]+y),e.push(t[v+1]+
y),e.push(t[v+2]+y),e.push(t[v+2]+y);for(v=0;v<g;v++)f.push(c[2*v],c[2*v+1],l,n,h,k);return!0}};PIXI.Fa.Fz=[];PIXI.Ss=function(a){this.H=a;this.color=[0,0,0];this.ea=[];this.Ea=[];this.buffer=a.createBuffer();this.ie=a.createBuffer();this.alpha=this.mode=1;this.m=!0};PIXI.Ss.prototype.reset=function(){this.ea=[];this.Ea=[]};PIXI.Ss.prototype.upload=function(){var a=this.H;this.AR=new PIXI.Float32Array(this.ea);a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,this.AR,a.STATIC_DRAW);
this.yR=new PIXI.Uint16Array(this.Ea);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ie);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.yR,a.STATIC_DRAW);this.m=!1};PIXI.Fk=function(){};PIXI.Fk.vr=function(a,b){var c=a.Tc;a.m&&(this.lX(a),a.m=!1);for(var f=0;f<a.Nd.length;f++){var e=a.Nd[f],g=e.shape,h=e.JD,k=e.SD;if(b.lineWidth=e.lineWidth,e.type===PIXI.S.Ro){b.beginPath();var l=g.ea;b.moveTo(l[0],l[1]);for(var n=1;n<l.length/2;n++)b.lineTo(l[2*n],l[2*n+1]);g.closed&&b.lineTo(l[0],l[1]);l[0]===l[l.length-2]&&
l[1]===l[l.length-1]&&b.closePath();e.fill&&(b.globalAlpha=e.Kd*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill());e.lineWidth&&(b.globalAlpha=e.Rg*c,b.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),b.stroke())}else if(e.type===PIXI.S.Ds)(e.fillColor||0===e.fillColor)&&(b.globalAlpha=e.Kd*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fillRect(g.x,g.y,g.width,g.height)),e.lineWidth&&(b.globalAlpha=e.Rg*c,b.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),
b.strokeRect(g.x,g.y,g.width,g.height));else if(e.type===PIXI.S.Co)b.beginPath(),b.arc(g.x,g.y,g.w,0,2*Math.PI),b.closePath(),e.fill&&(b.globalAlpha=e.Kd*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.Rg*c,b.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),b.stroke());else if(e.type===PIXI.S.ps){var t=2*g.width,n=2*g.height,l=g.x-t/2,g=g.y-n/2;b.beginPath();var y=t/2*.5522848,v=n/2*.5522848,x=l+t,A=g+n,t=l+t/2,n=g+n/2;b.moveTo(l,n);b.bezierCurveTo(l,
n-v,t-y,g,t,g);b.bezierCurveTo(t+y,g,x,n-v,x,n);b.bezierCurveTo(x,n+v,t+y,A,t,A);b.bezierCurveTo(t-y,A,l,n+v,l,n);b.closePath();e.fill&&(b.globalAlpha=e.Kd*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill());e.lineWidth&&(b.globalAlpha=e.Rg*c,b.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),b.stroke())}else e.type===PIXI.S.Gs&&(l=g.x,n=g.y,y=g.width,v=g.height,g=g.w,x=Math.min(y,v)/2|0,g=g>x?x:g,b.beginPath(),b.moveTo(l,n+g),b.lineTo(l,n+v-g),b.quadraticCurveTo(l,n+v,l+g,
n+v),b.lineTo(l+y-g,n+v),b.quadraticCurveTo(l+y,n+v,l+y,n+v-g),b.lineTo(l+y,n+g),b.quadraticCurveTo(l+y,n,l+y-g,n),b.lineTo(l+g,n),b.quadraticCurveTo(l,n,l,n+g),b.closePath(),(e.fillColor||0===e.fillColor)&&(b.globalAlpha=e.Kd*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.Rg*c,b.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),b.stroke()))}};PIXI.Fk.nV=function(a,b){var c=a.Nd.length;if(0!==c){b.beginPath();for(var f=0;f<c;f++){var e=a.Nd[f],
g=e.shape;if(e.type===PIXI.S.Ro){e=g.ea;b.moveTo(e[0],e[1]);for(var h=1;h<e.length/2;h++)b.lineTo(e[2*h],e[2*h+1]);e[0]===e[e.length-2]&&e[1]===e[e.length-1]&&b.closePath()}else if(e.type===PIXI.S.Ds)b.rect(g.x,g.y,g.width,g.height),b.closePath();else if(e.type===PIXI.S.Co)b.arc(g.x,g.y,g.w,0,2*Math.PI),b.closePath();else if(e.type===PIXI.S.ps){var k=2*g.width,h=2*g.height,e=g.x-k/2,g=g.y-h/2,l=k/2*.5522848,n=h/2*.5522848,t=e+k,y=g+h,k=e+k/2,h=g+h/2;b.moveTo(e,h);b.bezierCurveTo(e,h-n,k-l,g,k,g);
b.bezierCurveTo(k+l,g,t,h-n,t,h);b.bezierCurveTo(t,h+n,k+l,y,k,y);b.bezierCurveTo(k-l,y,e,h+n,e,h);b.closePath()}else e.type===PIXI.S.Gs&&(e=g.x,h=g.y,l=g.width,n=g.height,g=g.w,t=Math.min(l,n)/2|0,g=g>t?t:g,b.moveTo(e,h+g),b.lineTo(e,h+n-g),b.quadraticCurveTo(e,h+n,e+g,h+n),b.lineTo(e+l-g,h+n),b.quadraticCurveTo(e+l,h+n,e+l,h+n-g),b.lineTo(e+l,h+g),b.quadraticCurveTo(e+l,h,e+l-g,h),b.lineTo(e+g,h),b.quadraticCurveTo(e,h,e,h+g),b.closePath())}}};PIXI.Fk.lX=function(a){if(16777215!==a.Gb)for(var b=
(a.Gb>>16&255)/255,d=(a.Gb>>8&255)/255,f=(255&a.Gb)/255,e=0;e<a.Nd.length;e++){var g=a.Nd[e],h=0|g.fillColor,k=0|g.ak;g.JD=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*d*255<<8)+(255&h)/255*f*255;g.SD=((k>>16&255)/255*b*255<<16)+((k>>8&255)/255*d*255<<8)+(255&k)/255*f*255}};b.S=function(a,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.type=b.OL;this.gc=b.tg;this.anchor=new b.h;PIXI.S.call(this);b.B.Tb.rb.call(this,a,c,d,"",null)};b.S.prototype=Object.create(PIXI.S.prototype);b.S.prototype.constructor=
b.S;b.B.Tb.install.call(b.S.prototype,"Angle AutoCull Bounds Destroy FixedToCamera InputEnabled InWorld LifeSpan PhysicsBody Reset".split(" "));b.S.prototype.ai=b.B.Oe.X;b.S.prototype.$h=b.B.rj.X;b.S.prototype.ig=b.B.ri.X;b.S.prototype.cf=b.B.Tb.X;b.S.prototype.X=function(){return!!(this.ai()&&this.$h()&&this.ig())&&this.cf()};b.S.prototype.Fb=function(){b.B.Oe.Fb.call(this);b.B.Hk.Fb.call(this);this.vi&&(this.XB(),this.vi=!1);for(var a=0;a<this.children.length;a++)this.children[a].Fb()};b.S.prototype.j=
function(a){this.clear();b.B.Jo.prototype.j.call(this,a)};b.Sa=function(a,c,d,f,e,g){void 0===f&&(f="");void 0===e&&(e=b.tc.DEFAULT);void 0===g&&(g=1);this.a=a;this.key=f;this.type=b.sM;this.Fd=new PIXI.rg;PIXI.Sa.call(this,c,d,this.a.Ha,e,g);this.Xa=b.Sa.prototype.Xa};b.Sa.prototype=Object.create(PIXI.Sa.prototype);b.Sa.prototype.constructor=b.Sa;b.Sa.prototype.qV=function(a,b,d){a.Cb();this.Fd.Jd(a.na);this.Fd.qa=b;this.Fd.oa=d;this.Ha.type===PIXI.Mk?this.cB(a,this.Fd,!1):this.ZA(a,this.Fd,!1)};
b.Sa.prototype.Xa=function(a,b,d){void 0===b||null===b?this.Fd.Jd(a.na):this.Fd.Jd(b);this.Ha.type===PIXI.Mk?this.cB(a,this.Fd,d):this.ZA(a,this.Fd,d)};b.Text=function(a,c,d,f,e){c=c||0;d=d||0;f=void 0===f||null===f?"":f.toString();e=b.nc.extend({},e);this.type=b.ex;this.gc=b.tg;this.padding=new b.h;this.Yl=null;this.canvas=PIXI.ab.create(this);this.context=this.canvas.getContext("2d");this.xe=[];this.vk=[];this.Oh=[];this.Ph=[];this.BX=this.pO=!1;this.Bj=a.Ha.I;this.od=f;this.Jc=null;this.Ib=this.Kb=
this.Ic=this.nt=0;b.ka.call(this,a,c,d,PIXI.bb.wl(this.canvas));this.aW(e);""!==f&&this.qe()};b.Text.prototype=Object.create(b.ka.prototype);b.Text.prototype.constructor=b.Text;b.Text.prototype.X=function(){return!!(this.ai()&&this.$h()&&this.ig())&&this.cf()};b.Text.prototype.update=function(){};b.Text.prototype.j=function(a){this.c.j(!0);b.B.Jo.prototype.j.call(this,a)};b.Text.prototype.aW=function(a){var b;void 0===b&&(b=!1);a=a||{};a.font=a.font||"bold 20pt Arial";a.backgroundColor=a.backgroundColor||
null;a.fill=a.fill||"black";a.align=a.align||"left";a.$m=a.$m||"left";a.an=a.an||"top";a.stroke=a.stroke||"black";a.Kf=a.Kf||0;a.wordWrap=a.wordWrap||!1;a.hm=a.hm||100;a.dv=a.dv||0;a.shadowOffsetX=a.shadowOffsetX||0;a.shadowOffsetY=a.shadowOffsetY||0;a.shadowColor=a.shadowColor||"rgba(0,0,0,0)";a.shadowBlur=a.shadowBlur||0;a.fo=a.fo||0;var d=this.Du(a.font);a.fontStyle&&(d.fontStyle=a.fontStyle);a.fontVariant&&(d.fontVariant=a.fontVariant);a.fontWeight&&(d.fontWeight=a.fontWeight);a.fontSize&&("number"==
typeof a.fontSize&&(a.fontSize+="px"),d.fontSize=a.fontSize);this.Jc=d;a.font=this.eq(this.Jc);this.style=a;this.m=!0;b&&this.qe()};b.Text.prototype.qe=function(){this.c.A.I=this.Bj;this.context.font=this.style.font;var a=this.text;this.style.wordWrap&&(a=this.HV(this.text));var a=a.split(/(?:\r\n|\r|\n)/),b=this.style.fo,d=[],f=0,e=this.gQ(this.style.font),g=a.length;0<this.style.dv&&this.style.dv<a.length&&(g=this.style.dv);for(var h=this.Ic=0;h<g;h++){if(0===b){var k=this.style.Kf+this.padding.x,
k=k+(0<this.xe.length||0<this.vk.length||0<this.Ph.length||0<this.Oh.length?this.iA(a[h]):this.context.measureText(a[h]).width);this.style.wordWrap&&(k-=this.context.measureText(" ").width)}else{var l=a[h].split(/(?:\t)/),k=this.padding.x+this.style.Kf;if(Array.isArray(b))for(var n=0,t=0;t<l.length;t++)k=0<this.xe.length||0<this.vk.length||0<this.Ph.length||0<this.Oh.length?this.iA(l[t]):Math.ceil(this.context.measureText(l[t]).width),0<t&&(n+=b[t-1]),k=n+k;else for(t=0;t<l.length;t++)k+=0<this.xe.length||
0<this.vk.length||0<this.Ph.length||0<this.Oh.length?this.iA(l[t]):Math.ceil(this.context.measureText(l[t]).width),k+=this.a.Pc.XJ(k,b)-k}d[h]=Math.ceil(k);f=Math.max(f,d[h])}this.canvas.width=f*this.Bj;l=e.fontSize+this.style.Kf+this.padding.y;h=l*g;n=this.nt;0>n&&Math.abs(n)>l&&(n=-l);0!==n&&(h+=0<n?n*a.length:n*(a.length-1));this.canvas.height=h*this.Bj;this.context.scale(this.Bj,this.Bj);navigator.Sz&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.style.backgroundColor&&
(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height));this.context.fillStyle=this.style.fill;this.context.font=this.style.font;this.context.strokeStyle=this.style.stroke;this.context.textBaseline="alphabetic";this.context.lineWidth=this.style.Kf;this.context.lineCap="round";this.context.lineJoin="round";for(h=this.Ic=0;h<g;h++)t=this.style.Kf/2,k=this.style.Kf/2+h*l+e.Pt,0<h&&(k+=n*h),"right"===this.style.align?t+=f-d[h]:"center"===this.style.align&&
(t+=(f-d[h])/2),this.pO&&(t=Math.round(t),k=Math.round(k)),0<this.xe.length||0<this.vk.length||0<this.Ph.length||0<this.Oh.length?this.oX(a[h],t,k):(this.style.stroke&&this.style.Kf&&(this.lo(this.style.Br),0===b?this.context.strokeText(a[h],t,k):this.sJ(a[h],t,k,!1)),this.style.fill&&(this.lo(this.style.Ar),0===b?this.context.fillText(a[h],t,k):this.sJ(a[h],t,k,!0)));this.ng();this.m=!1};b.Text.prototype.sJ=function(a,b,d,f){a=a.split(/(?:\t)/);var c=this.style.fo,e;if(Array.isArray(c))for(var g=
0,h=0;h<a.length;h++)0<h&&(g+=c[h-1]),e=b+g,f?this.context.fillText(a[h],e,d):this.context.strokeText(a[h],e,d);else for(h=0;h<a.length;h++)g=Math.ceil(this.context.measureText(a[h]).width),e=this.a.Pc.XJ(b,c),f?this.context.fillText(a[h],e,d):this.context.strokeText(a[h],e,d),b=e+g};b.Text.prototype.lo=function(a){a?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):
(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)};b.Text.prototype.iA=function(a){for(var b=0,d=0;d<a.length;d++){var f=a[d];if(0<this.Ph.length||0<this.Oh.length){var e=this.Du(this.context.font);this.Oh[this.Ic]&&(e.fontStyle=this.Oh[this.Ic]);this.Ph[this.Ic]&&(e.fontWeight=this.Ph[this.Ic]);this.context.font=this.eq(e)}this.style.stroke&&this.style.Kf&&(this.vk[this.Ic]&&(this.context.strokeStyle=this.vk[this.Ic]),this.lo(this.style.Br));
this.style.fill&&(this.xe[this.Ic]&&(this.context.fillStyle=this.xe[this.Ic]),this.lo(this.style.Ar));b+=this.context.measureText(f).width;this.Ic++}return Math.ceil(b)};b.Text.prototype.oX=function(a,b,d){for(var c=0;c<a.length;c++){var e=a[c];if(0<this.Ph.length||0<this.Oh.length){var g=this.Du(this.context.font);this.Oh[this.Ic]&&(g.fontStyle=this.Oh[this.Ic]);this.Ph[this.Ic]&&(g.fontWeight=this.Ph[this.Ic]);this.context.font=this.eq(g)}this.style.stroke&&this.style.Kf&&(this.vk[this.Ic]&&(this.context.strokeStyle=
this.vk[this.Ic]),this.lo(this.style.Br),this.context.strokeText(e,b,d));this.style.fill&&(this.xe[this.Ic]&&(this.context.fillStyle=this.xe[this.Ic]),this.lo(this.style.Ar),this.context.fillText(e,b,d));b+=this.context.measureText(e).width;this.Ic++}};b.Text.prototype.HV=function(a){return this.BX?this.$N(a):this.sO(a)};b.Text.prototype.$N=function(a){var b=this.context,d=this.style.hm,f="";a=a.replace(/ +/gi," ").split(/\r?\n/gi);for(var e=a.length,g=0;g<e;g++){var h=a[g],k="",h=h.replace(/^ *|\s*$/gi,
"");if(b.measureText(h).width<d)f+=h+"\n";else{for(var l=d,h=h.split(" "),n=0;n<h.length;n++){var t=h[n],y=t+" ",v=b.measureText(y).width;if(v>l){if(0===n){for(e=y;e.length&&(e=e.slice(0,-1),v=b.measureText(e).width,!(v<=l)););if(!e.length)throw Error("This text's wordWrapWidth setting is less than a single character!");h[n]=t.substr(e.length);k+=e}l=h.slice(h[n].length?n:n+1).join(" ").replace(/[ \n]*$/gi,"");a[g+1]=l+" "+(a[g+1]||"");e=a.length;break}k+=y;l-=v}f+=k.replace(/[ \n]*$/gi,"")+"\n"}}return f.replace(/[\s|\n]*$/gi,
"")};b.Text.prototype.sO=function(a){var b="";a=a.split("\n");for(var d=0;d<a.length;d++){for(var f=this.style.hm,e=a[d].split(" "),g=0;g<e.length;g++){var h=this.context.measureText(e[g]).width,k=h+this.context.measureText(" ").width;k>f?(0<g&&(b+="\n"),b+=e[g]+" ",f=this.style.hm-h):(f-=k,b+=e[g]+" ")}d<a.length-1&&(b+="\n")}return b};b.Text.prototype.ko=function(a){a=this.eq(a);this.style.font!==a&&(this.style.font=a,this.m=!0,this.parent&&this.Cb())};b.Text.prototype.Du=function(a){var b=a.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);
if(b){var d=b[5].trim();return/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(d)||/['",]/.exec(d)||(d="'"+d+"'"),{font:a,fontStyle:b[1]||"normal",fontVariant:b[2]||"normal",fontWeight:b[3]||"normal",fontSize:b[4]||"medium",fontFamily:d}}return console.warn("Phaser.Text - unparsable CSS font: "+a),{font:a}};b.Text.prototype.eq=function(a){var b,d=[];return b=a.fontStyle,b&&"normal"!==b&&d.push(b),b=a.fontVariant,b&&"normal"!==b&&d.push(b),b=a.fontWeight,b&&"normal"!==b&&d.push(b),b=
a.fontSize,b&&"medium"!==b&&d.push(b),b=a.fontFamily,b&&d.push(b),d.length||d.push(a.font),d.join(" ")};b.Text.prototype.ng=function(){var a=this.c.A,b=this.c.la,d=this.c.frame,f=this.canvas.width,e=this.canvas.height;if(a.width=f,a.height=e,b.width=f,b.height=e,d.width=f,d.height=e,this.c.width=f,this.c.height=e,this.Kb=f,this.Ib=e,this.Yl)a=this.Yl.x,b=this.Yl.y,"right"===this.style.$m?a+=this.Yl.width-this.canvas.width/this.I:"center"===this.style.$m&&(a+=this.Yl.Bc-this.canvas.width/this.I/2),
"bottom"===this.style.an?b+=this.Yl.height-this.canvas.height/this.I:"middle"===this.style.an&&(b+=this.Yl.dd-this.canvas.height/this.I/2),this.Zh.x=-a,this.Zh.y=-b;this.df=0!==f&&0!==e;this.c.Nl=!0;this.c.A.m()};b.Text.prototype.nd=function(a){this.m&&(this.qe(),this.m=!1);PIXI.ka.prototype.nd.call(this,a)};b.Text.prototype.$d=function(a){this.m&&(this.qe(),this.m=!1);PIXI.ka.prototype.$d.call(this,a)};b.Text.prototype.gQ=function(a){var c=b.Text.nz[a];if(!c){var c={},d=b.Text.AG,f=b.Text.OQ;f.font=
a;var e=Math.ceil(f.measureText("|M\u00c9q").width),g=Math.ceil(f.measureText("|M\u00c9q").width),h=2*g;if(g=1.4*g|0,d.width=e,d.height=h,f.fillStyle="#f00",f.fillRect(0,0,e,h),f.font=a,f.textBaseline="alphabetic",f.fillStyle="#000",f.fillText("|M\u00c9q",0,g),!f.getImageData(0,0,e,h))return c.Pt=g,c.mq=g+6,c.fontSize=c.Pt+c.mq,b.Text.nz[a]=c,c;for(var k,d=f.getImageData(0,0,e,h).data,f=d.length,l=4*e,n=0,t=!1,e=0;e<g;e++){for(k=0;k<l;k+=4)if(255!==d[n+k]){t=!0;break}if(t)break;n+=l}c.Pt=g-e;n=f-
l;t=!1;for(e=h;e>g;e--){for(k=0;k<l;k+=4)if(255!==d[n+k]){t=!0;break}if(t)break;n-=l}c.mq=e-g;c.mq+=6;c.fontSize=c.Pt+c.mq;b.Text.nz[a]=c}return c};b.Text.prototype.xa=function(a){return this.m&&(this.qe(),this.m=!1),PIXI.ka.prototype.xa.call(this,a)};Object.defineProperty(b.Text.prototype,"text",{get:function(){return this.od},set:function(a){a!==this.od&&(this.od=a.toString()||"",this.m=!0,this.parent&&this.Cb())}});Object.defineProperty(b.Text.prototype,"cssFont",{get:function(){return this.eq(this.Jc)},
set:function(a){this.Jc=this.Du(a||"bold 20pt Arial");this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"font",{get:function(){return this.Jc.fontFamily},set:function(a){a=(a||"Arial").trim();/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(a)||/['",]/.exec(a)||(a="'"+a+"'");this.Jc.fontFamily=a;this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"fontSize",{get:function(){var a=this.Jc.fontSize;return a&&/(?:^0$|px$)/.exec(a)?parseInt(a,10):a},set:function(a){a=a||
"0";"number"==typeof a&&(a+="px");this.Jc.fontSize=a;this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"fontWeight",{get:function(){return this.Jc.fontWeight||"normal"},set:function(a){this.Jc.fontWeight=a||"normal";this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"fontStyle",{get:function(){return this.Jc.fontStyle||"normal"},set:function(a){this.Jc.fontStyle=a||"normal";this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"fontVariant",{get:function(){return this.Jc.fontVariant||
"normal"},set:function(a){this.Jc.fontVariant=a||"normal";this.ko(this.Jc)}});Object.defineProperty(b.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(a){a!==this.style.fill&&(this.style.fill=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"align",{get:function(){return this.style.align},set:function(a){a!==this.style.align&&(this.style.align=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"resolution",{get:function(){return this.Bj},set:function(a){a!==this.Bj&&
(this.Bj=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"tabs",{get:function(){return this.style.fo},set:function(a){a!==this.style.fo&&(this.style.fo=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"boundsAlignH",{get:function(){return this.style.$m},set:function(a){a!==this.style.$m&&(this.style.$m=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"boundsAlignV",{get:function(){return this.style.an},set:function(a){a!==this.style.an&&(this.style.an=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,
"stroke",{get:function(){return this.style.stroke},set:function(a){a!==this.style.stroke&&(this.style.stroke=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"strokeThickness",{get:function(){return this.style.Kf},set:function(a){a!==this.style.Kf&&(this.style.Kf=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(a){a!==this.style.wordWrap&&(this.style.wordWrap=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"wordWrapWidth",
{get:function(){return this.style.hm},set:function(a){a!==this.style.hm&&(this.style.hm=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"lineSpacing",{get:function(){return this.nt},set:function(a){a!==this.nt&&(this.nt=parseFloat(a),this.m=!0,this.parent&&this.Cb())}});Object.defineProperty(b.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(a){a!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,
"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(a){a!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(a){a!==this.style.shadowColor&&(this.style.shadowColor=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(a){a!==this.style.shadowBlur&&(this.style.shadowBlur=
a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"shadowStroke",{get:function(){return this.style.Br},set:function(a){a!==this.style.Br&&(this.style.Br=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"shadowFill",{get:function(){return this.style.Ar},set:function(a){a!==this.style.Ar&&(this.style.Ar=a,this.m=!0)}});Object.defineProperty(b.Text.prototype,"width",{get:function(){return this.m&&(this.qe(),this.m=!1),this.scale.x*this.c.frame.width},set:function(a){this.scale.x=a/this.c.frame.width;
this.Kb=a}});Object.defineProperty(b.Text.prototype,"height",{get:function(){return this.m&&(this.qe(),this.m=!1),this.scale.y*this.c.frame.height},set:function(a){this.scale.y=a/this.c.frame.height;this.Ib=a}});b.Text.nz={};b.Text.AG=document.createElement("canvas");b.Text.OQ=b.Text.AG.getContext("2d");b.vc=function(a,c,d,f,e,g,h){c=c||0;d=d||0;f=f||"";e=e||"";g=g||32;h=h||"left";PIXI.Ra.call(this);this.type=b.nL;this.gc=b.tg;this.mw=this.wk=0;this.anchor=new b.h;this.fE=new b.h;this.Im=[];this.tp=
0;this.od=e.toString()||"";this.xg=a.cache.NG(f);this.dt=f;this.et=g;this.hp=h;this.ay=16777215;this.qe();this.m=!1;b.B.Tb.rb.call(this,a,c,d,"",null)};b.vc.prototype=Object.create(PIXI.Ra.prototype);b.vc.prototype.constructor=b.vc;b.B.Tb.install.call(b.vc.prototype,"Angle AutoCull Bounds Destroy FixedToCamera InputEnabled InWorld LifeSpan PhysicsBody Reset".split(" "));b.vc.prototype.ai=b.B.Oe.X;b.vc.prototype.$h=b.B.rj.X;b.vc.prototype.ig=b.B.ri.X;b.vc.prototype.cf=b.B.Tb.X;b.vc.prototype.X=function(){return!!(this.ai()&&
this.$h()&&this.ig())&&this.cf()};b.vc.prototype.Fb=function(){b.B.Oe.Fb.call(this);b.B.Hk.Fb.call(this);this.body&&this.body.type===b.f.nj&&(this.wk===this.body.Er&&this.mw===this.body.Dr||this.body.Xn(this.wk,this.mw))};b.vc.prototype.KV=function(a,b,d){for(var c=0,e=0,g=-1,h=0,k=null,l=0<this.tp?this.tp:null,n=[],t=0;t<d.length;t++){var y=t===d.length-1;if(/(?:\r\n|\r|\n)/.test(d.charAt(t)))return{width:e,text:d.substr(0,t),end:y,de:n};var v=d.charCodeAt(t),x=a.de[v],A=0;void 0===x&&(v=32,x=a.de[v]);
k=k&&x.El[k]?x.El[k]:0;if(/(\s)/.test(d.charAt(t))&&(g=t,h=e),A=(k+x.c.width+x.iC)*b,l&&e+A>=l&&-1<g)return{width:h||e,text:d.substr(0,t-(t-g)),end:y,de:n};e+=(x.hC+k)*b;n.push(c+(x.iC+k)*b);c+=(x.hC+k)*b;k=v}return{width:e,text:d,end:y,de:n}};b.vc.prototype.qe=function(){var a=this.xg.font;if(a){var b=this.text,d=this.et/a.size,f=[],e=0;this.wk=0;do{var g=this.KV(a,d,b);g.y=e;f.push(g);g.width>this.wk&&(this.wk=g.width);e+=a.lineHeight*d;b=b.substr(g.text.length+1)}while(!1===g.end);this.mw=e;for(var e=
b=0,h=this.wk*this.anchor.x,k=this.mw*this.anchor.y,l=0;l<f.length;l++){g=f[l];"right"===this.hp?e=this.wk-g.width:"center"===this.hp&&(e=(this.wk-g.width)/2);for(var n=0;n<g.text.length;n++){var t=g.text.charCodeAt(n),y=a.de[t];void 0===y&&(t=32,y=a.de[t]);(t=this.Im[b])?t.c=y.c:(t=new PIXI.ka(y.c),t.name=g.text[n],this.Im.push(t));t.position.x=g.de[n]+e-h;t.position.y=g.y+y.gL*d-k;t.scale.set(d);t.Gb=this.Gb;t.c.Nl=!0;t.parent||this.cl(t);b++}}for(l=b;l<this.Im.length;l++)this.removeChild(this.Im[l])}};
b.vc.prototype.Cb=function(){!this.m&&this.anchor.Li(this.fE)||(this.qe(),this.m=!1,this.fE.Jd(this.anchor));PIXI.Ra.prototype.Cb.call(this)};Object.defineProperty(b.vc.prototype,"align",{get:function(){return this.hp},set:function(a){a===this.hp||"left"!==a&&"center"!==a&&"right"!==a||(this.hp=a,this.qe())}});Object.defineProperty(b.vc.prototype,"tint",{get:function(){return this.ay},set:function(a){a!==this.ay&&(this.ay=a,this.qe())}});Object.defineProperty(b.vc.prototype,"font",{get:function(){return this.dt},
set:function(a){a!==this.dt&&(this.dt=a.trim(),this.xg=this.a.cache.NG(this.dt),this.qe())}});Object.defineProperty(b.vc.prototype,"fontSize",{get:function(){return this.et},set:function(a){a=parseInt(a,10);a!==this.et&&0<a&&(this.et=a,this.qe())}});Object.defineProperty(b.vc.prototype,"text",{get:function(){return this.od},set:function(a){a!==this.od&&(this.od=a.toString()||"",this.qe())}});Object.defineProperty(b.vc.prototype,"maxWidth",{get:function(){return this.tp},set:function(a){a!==this.tp&&
(this.tp=a,this.qe())}});Object.defineProperty(b.vc.prototype,"smoothed",{get:function(){return!this.xg.$c.Qb},set:function(a){a?this.xg.$c.Qb=0:this.xg.$c.Qb=1}});b.Db=function(a,c,d,f,e,g,h,k,l,n){if(!a.cache.tF(c))return!1;void 0!==g&&null!==g||(g=a.cache.Oi(c).width/d);this.yh=d;this.hl=f;this.qP=h||0;this.rP=k||0;this.pP=g;this.offsetX=l||0;this.offsetY=n||0;this.align="left";this.RS=!1;this.qO=!0;this.Bu=this.kq=this.Dh=0;a.cache.Oi(c);this.od="";this.Ez=[];this.he=new b.Ne;d=this.offsetX;f=
this.offsetY;for(h=g=0;h<e.length;h++)k=this.he.Ei(new b.ue(h,d,f,this.yh,this.hl)),this.Ez[e.charCodeAt(h)]=k.index,g++,g===this.pP?(g=0,d=this.offsetX,f+=this.hl+this.rP):d+=this.yh+this.qP;a.cache.VB(c,this.he);this.iw=new b.Image(a,0,0,c,0);b.Sa.call(this,a,100,100,"",b.tc.NEAREST);this.type=b.uM};b.Db.prototype=Object.create(b.Sa.prototype);b.Db.prototype.constructor=b.Db;b.Db.VX="left";b.Db.nC="right";b.Db.mC="center";b.Db.F0=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";
b.Db.I0=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.Db.J0="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";b.Db.K0="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789";b.Db.L0="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789";b.Db.M0="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ";b.Db.N0="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39";b.Db.O0="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.Db.P0="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!";b.Db.G0="ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.Db.H0="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789";
b.Db.prototype.gF=function(){var a,c=0;if(this.clear(),this.RS){var d=this.od.split("\n");0<this.Bu?this.resize(this.Bu,d.length*(this.hl+this.kq)-this.kq,!0):this.resize(this.nR()*(this.yh+this.Dh),d.length*(this.hl+this.kq)-this.kq,!0);for(var f=0;f<d.length;f++)a=0,this.align===b.Db.nC?a=this.width-d[f].length*(this.yh+this.Dh):this.align===b.Db.mC&&(a=this.width/2-d[f].length*(this.yh+this.Dh)/2,a+=this.Dh/2),0>a&&(a=0),this.SI(d[f],a,c,this.Dh),c+=this.hl+this.kq}else 0<this.Bu?this.resize(this.Bu,
this.hl,!0):this.resize(this.od.length*(this.yh+this.Dh),this.hl,!0),a=0,this.align===b.Db.nC?a=this.width-this.od.length*(this.yh+this.Dh):this.align===b.Db.mC&&(a=this.width/2-this.od.length*(this.yh+this.Dh)/2,a+=this.Dh/2),0>a&&(a=0),this.SI(this.od,a,0,this.Dh);this.Nl=!0};b.Db.prototype.SI=function(a,b,d,f){for(var c=0;c<a.length;c++)if(" "===a.charAt(c))b+=this.yh+f;else if(0<=this.Ez[a.charCodeAt(c)]&&(this.iw.frame=this.Ez[a.charCodeAt(c)],this.qV(this.iw,b,d),b+=this.yh+f,b>this.width))break};
b.Db.prototype.nR=function(){var a=0;if(0<this.od.length)for(var b=this.od.split("\n"),d=0;d<b.length;d++)b[d].length>a&&(a=b[d].length);return a};Object.defineProperty(b.Db.prototype,"text",{get:function(){return this.od},set:function(a){a=this.qO?a.toUpperCase():a;a!==this.od&&(this.od=a,this.gF())}});Object.defineProperty(b.Db.prototype,"smoothed",{get:function(){return this.iw.zB},set:function(a){this.iw.zB=a;this.gF()}});b.mc=function(a,c,d,f,e,g){this.ea=[];this.ea=g;this.ux=!1;c=c||0;d=d||
0;f=f||null;e=e||null;this.type=b.zM;PIXI.mc.call(this,b.Cache.DEFAULT,this.ea);b.B.Tb.rb.call(this,a,c,d,f,e)};b.mc.prototype=Object.create(PIXI.mc.prototype);b.mc.prototype.constructor=b.mc;b.B.Tb.install.call(b.mc.prototype,"Angle Animation AutoCull Bounds BringToTop Crop Delta Destroy FixedToCamera InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset ScaleMinMax Smoothed".split(" "));b.mc.prototype.ai=b.B.Oe.X;b.mc.prototype.$h=b.B.rj.X;b.mc.prototype.ig=b.B.ri.X;b.mc.prototype.cf=b.B.Tb.X;
b.mc.prototype.X=function(){return!!(this.ai()&&this.$h()&&this.ig())&&this.cf()};b.mc.prototype.update=function(){this.ux&&this.A5.call(this)};b.mc.prototype.reset=function(a,c){return b.B.Hs.prototype.reset.call(this,a,c),this};Object.defineProperty(b.mc.prototype,"updateAnimation",{get:function(){return this.pE},set:function(a){a&&"function"==typeof a?(this.ux=!0,this.pE=a):(this.ux=!1,this.pE=null)}});Object.defineProperty(b.mc.prototype,"segments",{get:function(){for(var a,c,d,f,e=[],g=0;g<this.ea.length;g++)a=
4*g,c=this.u[a]*this.scale.x,d=this.u[a+1]*this.scale.y,f=this.u[a+4]*this.scale.x,a=this.u[a+3]*this.scale.y,f=b.Math.gG(c,f),a=b.Math.gG(d,a),c+=this.g.x,d+=this.g.y,c=new b.v(c,d,f,a),e.push(c);return e}});b.Pe=function(a,c,d,f,e,g,h){c=c||0;d=d||0;f=f||256;e=e||256;g=g||null;h=h||null;this.type=b.HM;this.gc=b.tg;this.At=new b.h;var m=a.cache.Oi("__default",!0);PIXI.ve.call(this,new PIXI.bb(m.$c),f,e);b.B.Tb.rb.call(this,a,c,d,g,h)};b.Pe.prototype=Object.create(PIXI.ve.prototype);b.Pe.prototype.constructor=
b.Pe;b.B.Tb.install.call(b.Pe.prototype,"Angle Animation AutoCull Bounds BringToTop Destroy FixedToCamera Health InCamera InputEnabled InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset Smoothed".split(" "));b.Pe.prototype.ai=b.B.Oe.X;b.Pe.prototype.$h=b.B.rj.X;b.Pe.prototype.ig=b.B.ri.X;b.Pe.prototype.cf=b.B.Tb.X;b.Pe.prototype.X=function(){return 0!==this.At.x&&(this.jf.x+=this.At.x*this.a.time.ke),0!==this.At.y&&(this.jf.y+=this.At.y*this.a.time.ke),!!(this.ai()&&this.$h()&&this.ig())&&this.cf()};
b.Pe.prototype.j=function(a){b.B.Jo.prototype.j.call(this,a);PIXI.ve.prototype.j.call(this)};b.Pe.prototype.reset=function(a,c){return b.B.Hs.prototype.reset.call(this,a,c),this.jf.x=0,this.jf.y=0,this};b.Me=function(){this.Uy=0;this.Vj=this.nq=!1;this.iH=0;this.canvas=this.ww=this.fC=this.fA=this.KH=this.vF=this.Sp=this.TP=this.nG=this.oG=this.TS=this.node=this.gq=this.Gy=this.xf=!1;this.Ay=null;this.KX=this.BK=this.ZI=this.UP=this.QX=this.localStorage=this.GQ=this.file=this.uw=!1;this.getUserMedia=
!0;this.Cn=this.ah=this.PU=!1;this.Xr=null;this.chrome=this.fO=!1;this.wF=0;this.rn=this.DQ=!1;this.wG=0;this.Mq=!1;this.Nz=0;this.cX=!1;this.dX=0;this.jB=this.opera=this.ES=this.aI=this.mG=!1;this.EJ=0;this.jH=this.GR=this.kH=this.hH=this.XK=this.bL=this.hI=this.dH=this.oI=this.Wy=this.aL=this.MH=this.YK=this.gI=this.CA=this.nI=this.eC=this.kO=this.oW=this.ZK=!1;this.XI=0;this.vz=this.LW=this.Pw=this.aA=!1;this.lP=this.requestFullscreen="";this.$Q=!1};b.Me=new b.Me;b.Me.BI=new b.D;b.Me.cL=function(a,
b,d){var c=this.Rx;this.Uy||!c?a.call(b,this):c.yi||d?(c.Pm=c.Pm||[],c.Pm.push([a,b])):(c.yi=c.bind(this),c.Pm=c.Pm||[],c.Pm.push([a,b]),a="undefined"!=typeof window.gq,b=navigator.Sz,"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(c.yi,0):a&&!b?document.addEventListener("deviceready",c.yi,!1):(document.addEventListener("DOMContentLoaded",c.yi,!1),window.addEventListener("load",c.yi,!1)))};b.Me.Rx=function(){var a=this.Rx;if(document.body){if(!this.Uy){this.Uy=
Date.now();document.removeEventListener("deviceready",a.yi);document.removeEventListener("DOMContentLoaded",a.yi);window.removeEventListener("load",a.yi);this.ND();this.BI.s(this);for(var b;b=a.Pm.shift();)b[0].call(b[1],this);this.BI=this.ND=this.Rx=null}}else window.setTimeout(a.yi,20)};b.Me.ND=function(){function a(){var a=new ArrayBuffer(4),b=new Uint8Array(a),a=new Uint32Array(a);return b[0]=161,b[1]=178,b[2]=195,b[3]=212,3569595041===a[0]||2712847316!==a[0]&&null}function b(){if(void 0===Uint8ClampedArray)return!1;
var a=PIXI.ab.create(this,1,1).getContext("2d");if(!a)return!1;a=a.createImageData(1,1);return PIXI.ab.remove(this),a.data instanceof Uint8ClampedArray}var d=this;(function(){var a=navigator.userAgent;/Playstation Vita/.test(a)?d.C5=!0:/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?d.C3=!0:/Android/.test(a)?d.Sp=!0:/CrOS/.test(a)?d.vF=!0:/iP[ao]d|iPhone/i.test(a)?(d.Vj=!0,navigator.appVersion.match(/OS (\d+)/),d.iH=parseInt(RegExp.$1,10)):/Linux/.test(a)?d.KH=!0:/Mac OS/.test(a)?
d.fA=!0:/Windows/.test(a)&&(d.fC=!0);(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(d.Sp=!1,d.Vj=!1,d.fA=!1,d.fC=!0,d.ww=!0);var b=/Silk/.test(a);(d.fC||d.fA||d.KH&&!b||d.vF)&&(d.nq=!0);(d.ww||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(d.nq=!1)})();(function(){var a=navigator.userAgent;if(/Arora/.test(a)?d.fO=!0:/Edge\/\d+/.test(a)?d.mG=!0:/Chrome\/(\d+)/.test(a)&&!d.ww?(d.chrome=!0,d.wF=parseInt(RegExp.$1,10)):/Epiphany/.test(a)?d.DQ=!0:/Firefox\D+(\d+)/.test(a)?(d.rn=!0,d.wG=parseInt(RegExp.$1,
10)):/AppleWebKit/.test(a)&&d.Vj?d.aI=!0:/MSIE (\d+\.\d+);/.test(a)?(d.Mq=!0,d.Nz=parseInt(RegExp.$1,10)):/Midori/.test(a)?d.ES=!0:/Opera/.test(a)?d.opera=!0:/Safari\/(\d+)/.test(a)&&!d.ww?(d.jB=!0,/Version\/(\d+)\./.test(a)&&(d.EJ=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(d.Mq=!0,d.cX=!0,d.dX=parseInt(RegExp.$1,10),d.Nz=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(d.oW=!0),navigator.q5&&(d.ZK=!0),"undefined"!=typeof window.gq&&(d.gq=!0),"undefined"!=typeof process&&"undefined"!=
typeof require&&(d.node=!0),d.node&&"object"==typeof process.UK&&(d.TS=!!process.UK["node-webkit"],d.oG=!!process.UK.oG),navigator.Sz&&(d.xf=!0),d.xf)try{d.Gy="undefined"!=typeof CocoonJS}catch(m){d.Gy=!1}"undefined"!=typeof window.nG&&(d.nG=!0);/Crosswalk/.test(a)&&(d.TP=!0)})();(function(){d.kO=!!window.Audio;d.eC=!(!window.AudioContext&&!window.webkitAudioContext);var a=document.createElement("audio");try{if(a.canPlayType&&(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(d.nI=
!0),(a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||a.canPlayType("audio/opus;").replace(/^no$/,""))&&(d.CA=!0),a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(d.gI=!0),a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(d.YK=!0),(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))&&(d.MH=!0),a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(d.aL=!0),""!==a.canPlayType('audio/mp4;codecs="ec-3"')))if(d.mG)d.Wy=!0;else if(d.jB&&9<=
d.EJ&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var b=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(10===b&&11<=c||10<b)&&(d.Wy=!0)}}catch(r){}})();(function(){var a=document.createElement("video");try{a.canPlayType&&(a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(d.oI=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(d.dH=!0,d.hI=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(d.bL=!0),a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,
"")&&(d.XK=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(d.hH=!0))}catch(m){}})();(function(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",s_:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var e in c)void 0!==b.style[e]&&(b.style[e]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[e]));document.body.removeChild(b);d.UP=
void 0!==a&&0<a.length&&"none"!==a})();d.XI=window.devicePixelRatio||1;d.kH=-1!==navigator.userAgent.toLowerCase().indexOf("iphone");d.GR=2===d.XI&&d.kH;d.jH=-1!==navigator.userAgent.toLowerCase().indexOf("ipad");"undefined"!=typeof Int8Array?d.BK=!0:d.BK=!1;"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(d.aA=a(),d.Pw=d.aA);d.LW="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==d.aA&&b();
navigator.VK=navigator.VK||navigator.F5||navigator.T3||navigator.Y3;navigator.VK&&(d.KX=!0);(function(){d.canvas=!!window.CanvasRenderingContext2D||d.xf;try{d.localStorage=!!localStorage.getItem}catch(p){d.localStorage=!1}d.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob);d.GQ=!!window.requestFileSystem;var a;try{var b=document.createElement("canvas");a=(b.IJ=!1,!!window.WebGLRenderingContext&&(b.getContext("webgl")||b.getContext("experimental-webgl")))}catch(p){a=!1}d.uw=a;d.uw=
!!d.uw;d.QX=!!window.Worker;d.ZI="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;d.PU="CSS1Compat"!==document.compatMode;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.O3||navigator.V3||navigator.h4;window.URL=window.URL||window.webkitURL||window.S3||window.X3;d.getUserMedia=d.getUserMedia&&!!navigator.getUserMedia&&!!window.URL;d.rn&&21>d.wG&&(d.getUserMedia=!1);!d.Vj&&(d.Mq||d.rn||d.chrome)&&(d.Ay=
!0);(d.jB||d.aI)&&(d.Ay=!1)})();(function(){for(var a="requestFullscreen requestFullScreen webkitRequestFullscreen webkitRequestFullScreen msRequestFullscreen msRequestFullScreen mozRequestFullScreen mozRequestFullscreen".split(" "),b=document.createElement("div"),c=0;c<a.length;c++)if(b[a[c]]){d.vz=!0;d.requestFullscreen=a[c];break}a="cancelFullScreen exitFullscreen webkitCancelFullScreen webkitExitFullscreen msCancelFullScreen msExitFullscreen mozCancelFullScreen mozExitFullscreen".split(" ");if(d.vz)for(c=
0;c<a.length;c++)if(document[a[c]]){d.lP=a[c];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(d.$Q=!0)})();("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&1<=window.navigator.maxTouchPoints)&&(d.ah=!0);(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(d.Cn=!0);d.xf||("onwheel"in window||d.Mq&&"WheelEvent"in window?d.Xr="wheel":"onmousewheel"in window?d.Xr="mousewheel":d.rn&&"MouseScrollEvent"in window&&(d.Xr="DOMMouseScroll"))};b.Me.nF=function(a){return!("mp3"!==
a||!this.gI)||!("ogg"!==a||!this.nI&&!this.CA)||!("m4a"!==a||!this.MH)||!("opus"!==a||!this.CA)||!("wav"!==a||!this.YK)||!("webm"!==a||!this.aL)||!("mp4"!==a||!this.Wy)};b.Me.oF=function(a){return!("webm"!==a||!this.bL&&!this.XK)||!("mp4"!==a||!this.hI&&!this.dH)||!("ogg"!==a&&"ogv"!==a||!this.oI)||!("mpeg"!==a||!this.hH)};b.Me.r3=function(){return!(!window.console||!window.console.z2)||!(!window.console||(console.profile(),console.profileEnd(),console.clear&&console.clear(),!console.profiles))&&
0<console.profiles.length};b.Me.q3=function(){var a=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return a&&537>a[1]};b.Of={create:function(a,b,d,f,e){b=b||256;d=d||256;a=e?document.createElement("canvas"):PIXI.ab.create(a,b,d);return"string"==typeof f&&""!==f&&(a.id=f),a.width=b,a.height=d,a.style.display="block",a},lB:function(a,b){return b=b||"rgb(0,0,0)",a.style.backgroundColor=b,a},QJ:function(a,b){return b=b||"none",a.style.msTouchAction=b,a.style["ms-touch-action"]=b,a.style["touch-action"]=
b,a},dW:function(a,b){return b=b||"none",a.style["-webkit-touch-callout"]=b,a.style["-webkit-user-select"]=b,a.style["-khtml-user-select"]=b,a.style["-moz-user-select"]=b,a.style["-ms-user-select"]=b,a.style["user-select"]=b,a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",a},UN:function(a,b,d){var c;return void 0===d&&(d=!0),b&&("string"==typeof b?c=document.getElementById(b):"object"==typeof b&&1===b.nodeType&&(c=b)),c||(c=document.body),d&&c.style&&(c.style.overflow="hidden"),c.appendChild(a),
a},eV:function(a){a.parentNode&&a.parentNode.removeChild(a)},setTransform:function(a,b,d,f,e,g,h){return a.setTransform(f,g,h,e,b,d),a},$V:function(a,c){var d=b.Of.Ou(a);return d&&(a[d]=c),a},Ou:function(a){var b=["i","webkitI","msI","mozI","oI"],d;for(d in b){var f=b[d]+"mageSmoothingEnabled";if(f in a)return f}return null},X2:function(a){var c=b.Of.Ou(a);if(c)return a[c]},d5:function(a){for(var b="optimizeSpeed crisp-edges -moz-crisp-edges -webkit-optimize-contrast optimize-contrast pixelated".split(" "),
d=0;d<b.length;d++)a.style["image-rendering"]=b[d];return a.style.msInterpolationMode="nearest-neighbor",a},c5:function(a){return a.style["image-rendering"]="auto",a.style.msInterpolationMode="bicubic",a}};b.Zo=function(a,b){void 0===b&&(b=!1);this.a=a;this.Oc=!1;this.pz=b;for(var c=["ms","moz","webkit","o"],f=0;f<c.length&&!window.requestAnimationFrame;f++)window.requestAnimationFrame=window[c[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[f]+"CancelAnimationFrame"];this.jt=!1;
this.al=this.Lm=null};b.Zo.prototype={start:function(){this.Oc=!0;var a=this;!window.requestAnimationFrame||this.pz?(this.jt=!0,this.Lm=function(){return a.uX()},this.al=window.setTimeout(this.Lm,0)):(this.jt=!1,this.Lm=function(b){return a.tX(b)},this.al=window.requestAnimationFrame(this.Lm))},tX:function(a){this.Oc&&(this.a.update(Math.floor(a)),this.al=window.requestAnimationFrame(this.Lm))},uX:function(){this.Oc&&(this.a.update(Date.now()),this.al=window.setTimeout(this.Lm,this.a.time.QB))},stop:function(){this.jt?
clearTimeout(this.al):window.cancelAnimationFrame(this.al);this.Oc=!1}};b.Zo.prototype.constructor=b.Zo;b.Math={Xw:2*Math.PI,wf:function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},G2:function(a,b,d){return void 0===d&&(d=1E-4),Math.abs(a-b)<d},J2:function(a,b,d){return void 0===d&&(d=1E-4),a<b+d},I2:function(a,b,d){return void 0===d&&(d=1E-4),a>b-d},F2:function(a,b){return void 0===b&&(b=1E-4),Math.ceil(a-b)},H2:function(a,b){return void 0===b&&(b=1E-4),Math.floor(a+b)},O1:function(){for(var a=
0,b=arguments.length,d=0;d<b;d++)a+=+arguments[d];return a/b},e5:function(a){return a%1},l5:function(a,b,d){return void 0===d&&(d=0),0===b?a:(a-=d,a=b*Math.round(a/b),d+a)},m5:function(a,b,d){return void 0===d&&(d=0),0===b?a:(a-=d,a=b*Math.floor(a/b),d+a)},XJ:function(a,b,d){return void 0===d&&(d=0),0===b?a:(a-=d,a=b*Math.ceil(a/b),d+a)},Y4:function(a,b,d){void 0===b&&(b=0);void 0===d&&(d=10);b=Math.pow(d,-b);return Math.round(a*b)/b},C2:function(a,b,d){void 0===b&&(b=0);void 0===d&&(d=10);b=Math.pow(d,
-b);return Math.floor(a*b)/b},d2:function(a,b,d){void 0===b&&(b=0);void 0===d&&(d=10);b=Math.pow(d,-b);return Math.ceil(a*b)/b},X4:function(a,c,d){return void 0===d&&(d=.05),a===c?a:(Math.abs(c-a)<=d||Math.abs(c-a)>=b.Math.Xw-d?a=c:(Math.abs(c-a)>Math.PI&&(c<a?c+=b.Math.Xw:c-=b.Math.Xw),c>a?a+=d:c<a&&(a-=d)),a)},W2:function(a,b){var c=b-a;return 0===c?0:c-360*Math.floor((c- -180)/360)},cO:function(a,b,d,f){return Math.atan2(f-b,d-a)},K1:function(a,b,d,f){return Math.atan2(d-a,f-b)},I1:function(a,
b){return Math.atan2(b.y-a.y,b.x-a.x)},J1:function(a,b){return Math.atan2(b.x-a.x,b.y-a.y)},S4:function(a){return this.VS(a+Math.PI,!0)},VS:function(a){return a%=2*Math.PI,0<=a?a:a+2*Math.PI},K3:function(a,b,d){return Math.min(a+b,d)},N3:function(a,b,d){return Math.max(a-b,d)},$r:function(a,b,d){d-=b;if(0>=d)return 0;a=(a-b)%d;return 0>a&&(a+=d),a+b},H5:function(a,b,d){return a=Math.abs(a),b=Math.abs(b),d=Math.abs(d),(a+b)%d},v3:function(a){return!!(1&a)},t3:function(a){return!(1&a)},min:function(){for(var a=
1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments,b=1,d=0,f=a.length;b<f;b++)a[b]<a[d]&&(d=b);return a[d]},max:function(){for(var a=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments,b=1,d=0,f=a.length;b<f;b++)a[b]>a[d]&&(d=b);return a[d]},M3:function(a){for(var b=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1),d=1,f=0,e=b.length;d<e;d++)b[d][a]<b[f][a]&&(f=d);return b[f][a]},L3:function(a){for(var b=2===arguments.length&&
"object"==typeof arguments[1]?arguments[1]:arguments.slice(1),d=1,f=0,e=b.length;d<e;d++)b[d][a]>b[f][a]&&(f=d);return b[f][a]},yw:function(a,b){return b?this.$r(a,-Math.PI,Math.PI):this.$r(a,-180,180)},nS:function(a,b){var c=a.length-1,f=c*b,e=Math.floor(f);return 0>b?this.Ti(a[0],a[1],f):1<b?this.Ti(a[c],a[c-1],c-f):this.Ti(a[e],a[e+1>c?c:e+1],f-e)},P1:function(a,b){for(var c=0,f=a.length-1,e=0;e<=f;e++)c+=Math.pow(1-b,f-e)*Math.pow(b,e)*a[e]*this.uO(f,e);return c},c2:function(a,b){var c=a.length-
1,f=c*b,e=Math.floor(f);return a[0]===a[c]?(0>b&&(e=Math.floor(f=c*(1+b))),this.au(a[(e-1+c)%c],a[e],a[(e+1)%c],a[(e+2)%c],f-e)):0>b?a[0]-(this.au(a[0],a[0],a[1],a[1],-f)-a[0]):1<b?a[c]-(this.au(a[c],a[c],a[c-1],a[c-1],f-c)-a[c]):this.au(a[e?e-1:0],a[e],a[c<e+1?c:e+1],a[c<e+2?c:e+2],f-e)},Ti:function(a,b,d){return(b-a)*d+a},uO:function(a,b){return this.hz(a)/this.hz(b)/this.hz(a-b)},hz:function(a){if(0===a)return 1;for(var b=a;--a;)b*=a;return b},au:function(a,b,d,f,e){a=.5*(d-a);f=.5*(f-b);var c=
e*e;return(2*b-2*d+a+f)*e*c+(-3*b+3*d-2*a-f)*c+a*e+b},gG:function(a,b){return Math.abs(a-b)},EV:function(a){return 0<a?Math.ceil(a):Math.floor(a)},f5:function(a,b,d,f){void 0===b&&(b=1);void 0===d&&(d=1);void 0===f&&(f=1);f=f*Math.PI/a;for(var c=[],e=[],g=0;g<a;g++)d-=b*f,b+=d*f,c[g]=d,e[g]=b;return{sin:e,cos:c,length:a}},fb:function(a,b,d,f){a-=d;b-=f;return Math.sqrt(a*a+b*b)},s2:function(a,b,d,f){a-=d;b-=f;return a*a+b*b},r2:function(a,b,d,f,e){return void 0===e&&(e=2),Math.sqrt(Math.pow(d-a,e)+
Math.pow(f-b,e))},Vf:function(a,b,d){return a<b?b:d<a?d:a},f2:function(a,b){return a<b?b:a},G5:function(a,b,d){return Math.abs(a-b)<=d},J3:function(a,b,d,f,e){return f+(a-b)*(e-f)/(d-b)},k5:function(a,b,d){return a=Math.max(0,Math.min(1,(a-b)/(d-b))),a*a*(3-2*a)},j5:function(a,b,d){return a=Math.max(0,Math.min(1,(a-b)/(d-b))),a*a*a*(a*(6*a-15)+10)},sign:function(a){return 0>a?-1:0<a?1:0},On:function(a,b,d){return void 0===d&&(d=0),a>b||d>b?1:a<d||d>a?0:(a-d)/b}};var k=Math.PI/180,l=180/Math.PI;return b.Math.Gh=
function(a){return a*k},b.Math.Rn=function(a){return a*l},b.Yo=function(a){void 0===a&&(a=[]);this.ha=1;this.$g=this.Zg=this.Yg=0;"string"==typeof a?this.state(a):this.BW(a)},b.Yo.prototype={sc:function(){var a=2091639*this.Yg+2.3283064365386963E-10*this.ha;return this.ha=0|a,this.Yg=this.Zg,this.Zg=this.$g,this.$g=a-this.ha,this.$g},BW:function(a){if(this.Yg=this.hash(" "),this.Zg=this.hash(this.Yg),this.$g=this.hash(this.Zg),this.ha=1,a)for(var b=0;b<a.length&&null!=a[b];b++){var d=a[b];this.Yg-=
this.hash(d);this.Yg+=~~(0>this.Yg);this.Zg-=this.hash(d);this.Zg+=~~(0>this.Zg);this.$g-=this.hash(d);this.$g+=~~(0>this.$g)}},hash:function(a){var b,d,f;f=4022871197;a=a.toString();for(d=0;d<a.length;d++)f+=a.charCodeAt(d),b=.02519603282416938*f,f=b>>>0,b-=f,b*=f,f=b>>>0,b-=f,f+=4294967296*b;return 2.3283064365386963E-10*(f>>>0)},vq:function(){return this.sc.apply(this)+1.1102230246251565E-16*(2097152*this.sc.apply(this)|0)},Rz:function(a,b){return Math.floor(this.Sn(0,b-a+1)+a)},wf:function(a,
b){return this.Rz(a,b)},Sn:function(a,b){return this.vq()*(b-a)+a},tA:function(){return 1-2*this.vq()},Rr:function(){var a,b;for(b=a="";36>a++;b+=~a%5|3*a&4?(15^a?8^this.vq()*(20^a?16:4):4).toString(16):"-");return b},IA:function(a){return a[this.Rz(0,a.length-1)]},sign:function(){return this.IA([-1,1])},timestamp:function(a,b){return this.Sn(a||9466848E5,b||1577862E6)},angle:function(){return this.Rz(-180,180)},state:function(a){return"string"==typeof a&&a.match(/^!rnd/)&&(a=a.split(","),this.ha=
parseFloat(a[1]),this.Yg=parseFloat(a[2]),this.Zg=parseFloat(a[3]),this.$g=parseFloat(a[4])),["!rnd",this.ha,this.Yg,this.Zg,this.$g].join()}},b.Yo.prototype.constructor=b.Yo,b.tj=function(a,b,d,f,e,g,h){this.Xi=10;this.Wi=4;this.level=0;this.l={};this.ga=[];this.Zb=[];this.VM=[];this.reset(a,b,d,f,e,g,h)},b.tj.prototype={reset:function(a,b,d,f,e,g,h){this.Xi=e||10;this.Wi=g||4;this.level=h||0;this.l={x:Math.round(a),y:Math.round(b),width:d,height:f,kw:Math.floor(d/2),jw:Math.floor(f/2),right:Math.round(a)+
Math.floor(d/2),bottom:Math.round(b)+Math.floor(f/2)};this.ga.length=0;this.Zb.length=0},wU:function(a){a.forEach(this.xU,this,!0)},xU:function(a){a.body&&a.Ia&&this.Pz(a.body)},split:function(){this.Zb[0]=new b.tj(this.l.right,this.l.y,this.l.kw,this.l.jw,this.Xi,this.Wi,this.level+1);this.Zb[1]=new b.tj(this.l.x,this.l.y,this.l.kw,this.l.jw,this.Xi,this.Wi,this.level+1);this.Zb[2]=new b.tj(this.l.x,this.l.bottom,this.l.kw,this.l.jw,this.Xi,this.Wi,this.level+1);this.Zb[3]=new b.tj(this.l.right,
this.l.bottom,this.l.kw,this.l.jw,this.Xi,this.Wi,this.level+1)},Pz:function(a){var b,d=0;if(null!=this.Zb[0]&&(b=this.Mg(a),-1!==b))return void this.Zb[b].Pz(a);if(this.ga.push(a),this.ga.length>this.Xi&&this.level<this.Wi)for(null==this.Zb[0]&&this.split();d<this.ga.length;)b=this.Mg(this.ga[d]),-1!==b?this.Zb[b].Pz(this.ga.splice(d,1)[0]):d++},Mg:function(a){var b=-1;return a.x<this.l.right&&a.right<this.l.right?a.y<this.l.bottom&&a.bottom<this.l.bottom?b=1:a.y>this.l.bottom&&(b=2):a.x>this.l.right&&
(a.y<this.l.bottom&&a.bottom<this.l.bottom?b=0:a.y>this.l.bottom&&(b=3)),b},Un:function(a){if(a instanceof b.v)var c=this.ga,d=this.Mg(a);else{if(!a.body)return this.VM;c=this.ga;d=this.Mg(a.body)}return this.Zb[0]&&(-1!==d?c=c.concat(this.Zb[d].Un(a)):(c=c.concat(this.Zb[0].Un(a)),c=c.concat(this.Zb[1].Un(a)),c=c.concat(this.Zb[2].Un(a)),c=c.concat(this.Zb[3].Un(a)))),c},clear:function(){this.ga.length=0;for(var a=this.Zb.length;a--;)this.Zb[a].clear(),this.Zb.splice(a,1);this.Zb.length=0}},b.tj.prototype.constructor=
b.tj,b.Vw=function(a){this.a=a},b.Vw.prototype={decodeURI:function(a){return decodeURIComponent(a.replace(/\+/g," "))}},b.Vw.prototype.constructor=b.Vw,b.Rs=function(a){this.a=a;this.sz=!1;this.Ac=[];this.nh=[];this.uu={ZC:b.Z.ZC,$C:b.Z.$C,aD:b.Z.aD,bD:b.Z.bD,cD:b.Z.cD,zs:b.Z.zs.Ww,d0:b.Z.Vo.Na,lm:b.Z.lm.Na,e0:b.Z.Wo.Na,f0:b.Z.Xo.Na,B0:b.Z.Js.Na,dZ:b.Z.qs.Na,QY:b.Z.ns.Na,Ko:b.Z.Ko.Na,zo:b.Z.zo.Na,oj:b.Z.oj.Na,"Quad.easeIn":b.Z.Vo.Hc,"Cubic.easeIn":b.Z.lm.Hc,"Quart.easeIn":b.Z.Wo.Hc,"Quint.easeIn":b.Z.Xo.Hc,
"Sine.easeIn":b.Z.Js.Hc,"Expo.easeIn":b.Z.qs.Hc,"Circ.easeIn":b.Z.ns.Hc,"Elastic.easeIn":b.Z.Ko.Hc,"Back.easeIn":b.Z.zo.Hc,"Bounce.easeIn":b.Z.oj.Hc,"Quad.easeOut":b.Z.Vo.Na,"Cubic.easeOut":b.Z.lm.Na,"Quart.easeOut":b.Z.Wo.Na,"Quint.easeOut":b.Z.Xo.Na,"Sine.easeOut":b.Z.Js.Na,"Expo.easeOut":b.Z.qs.Na,"Circ.easeOut":b.Z.ns.Na,"Elastic.easeOut":b.Z.Ko.Na,"Back.easeOut":b.Z.zo.Na,"Bounce.easeOut":b.Z.oj.Na,"Quad.easeInOut":b.Z.Vo.Vc,"Cubic.easeInOut":b.Z.lm.Vc,"Quart.easeInOut":b.Z.Wo.Vc,"Quint.easeInOut":b.Z.Xo.Vc,
"Sine.easeInOut":b.Z.Js.Vc,"Expo.easeInOut":b.Z.qs.Vc,"Circ.easeInOut":b.Z.ns.Vc,"Elastic.easeInOut":b.Z.Ko.Vc,"Back.easeInOut":b.Z.zo.Vc,"Bounce.easeInOut":b.Z.oj.Vc};this.a.Ce.add(this.tN,this);this.a.Pd.add(this.BN,this)},b.Rs.prototype={getAll:function(){return this.Ac},$b:function(){for(var a=0;a<this.Ac.length;a++)this.Ac[a].Yh=!0;this.nh=[]},WA:function(a,c){void 0===c&&(c=!0);var d,f;if(Array.isArray(a))for(d=0,f=a.length;d<f;d++)this.WA(a[d]);else if(a.type===b.Vd&&c)for(d=0,f=a.children.length;d<
f;d++)this.WA(a.children[d]);else{d=0;for(f=this.Ac.length;d<f;d++)a===this.Ac[d].target&&this.remove(this.Ac[d]);d=0;for(f=this.nh.length;d<f;d++)a===this.nh[d].target&&this.remove(this.nh[d])}},add:function(a){a.D1=this;this.nh.push(a)},create:function(a){return new b.ep(a,this.a,this)},remove:function(a){var b=this.Ac.indexOf(a);-1!==b?this.Ac[b].Yh=!0:(b=this.nh.indexOf(a),-1!==b&&(this.nh[b].Yh=!0))},update:function(){var a=this.nh.length,b=this.Ac.length;if(0===b&&0===a)return!1;for(var d=0;d<
b;)this.Ac[d].update(this.a.time.time)?d++:(this.Ac.splice(d,1),b--);return 0<a&&(this.Ac=this.Ac.concat(this.nh),this.nh.length=0),!0},tN:function(){for(var a=this.Ac.length-1;0<=a;a--)this.Ac[a].Mx()},BN:function(){for(var a=this.Ac.length-1;0<=a;a--)this.Ac[a].Sx()},TI:function(){for(var a=this.Ac.length-1;0<=a;a--)this.Ac[a].pause()},zJ:function(){for(var a=this.Ac.length-1;0<=a;a--)this.Ac[a].resume(!0)}},b.Rs.prototype.constructor=b.Rs,b.ep=function(a,c,d){this.a=c;this.target=a;this.Od=d;this.xb=
[];this.reverse=!1;this.lK=1;this.Vg=0;this.Yh=!1;this.uv=new b.D;this.$i=new b.D;this.EI=new b.D;this.$S=new b.D;this.hg=new b.D;this.Oc=!1;this.current=0;this.La={};this.cu=null;this.dg=!1;this.sz=d.sz;this.Jx=this.vt=null;this.Ox=0;this.gt=this.Xd=!1},b.ep.prototype={Sd:function(a,c,d,f,e,g,h){return(void 0===c||0>=c)&&(c=1E3),void 0!==d&&null!==d||(d=b.Z.Jw),void 0===f&&(f=!1),void 0===e&&(e=0),void 0===g&&(g=0),void 0===h&&(h=!1),"string"==typeof d&&this.Od.uu[d]&&(d=this.Od.uu[d]),this.Oc?(console.warn("Phaser.Tween.to cannot be called after Tween.start"),
this):(this.xb.push((new b.Wc(this)).Sd(a,c,d,e,g,h)),f&&this.start(),this)},from:function(a,c,d,f,e,g,h){return void 0===c&&(c=1E3),void 0!==d&&null!==d||(d=b.Z.Jw),void 0===f&&(f=!1),void 0===e&&(e=0),void 0===g&&(g=0),void 0===h&&(h=!1),"string"==typeof d&&this.Od.uu[d]&&(d=this.Od.uu[d]),this.Oc?(console.warn("Phaser.Tween.from cannot be called after Tween.start"),this):(this.xb.push((new b.Wc(this)).from(a,c,d,e,g,h)),f&&this.start(),this)},start:function(a){if(void 0===a&&(a=0),null===this.a||
null===this.target||0===this.xb.length||this.Oc)return this;for(var b=0;b<this.xb.length;b++)for(var d in this.xb[b].Sc)this.La[d]=this.target[d]||0,Array.isArray(this.La[d])||(this.La[d]*=1);for(b=0;b<this.xb.length;b++)this.xb[b].sS();return this.Od.add(this),this.Oc=!0,(0>a||a>this.xb.length-1)&&(a=0),this.current=a,this.xb[this.current].start(),this},stop:function(a){return void 0===a&&(a=!1),this.Oc=!1,this.vt=null,this.Jx=null,a&&(this.hg.s(this.target,this),this.gt=!1,this.cu&&this.cu.start()),
this.Od.remove(this),this},gm:function(a,b,d){if(0===this.xb.length)return this;if(void 0===d&&(d=0),-1===d)for(d=0;d<this.xb.length;d++)this.xb[d][a]=b;else this.xb[d][a]=b;return this},cd:function(a,b){return this.gm("delay",a,b)},repeat:function(a,b,d){return void 0===b&&(b=0),this.gm("repeatCounter",a,d),this.gm("repeatDelay",b,d)},uJ:function(a,b){return this.gm("repeatDelay",a,b)},js:function(a,b,d){return void 0===b&&(b=0),this.gm("yoyo",a,d),this.gm("yoyoDelay",b,d)},hL:function(a,b){return this.gm("yoyoDelay",
a,b)},loop:function(a){return void 0===a&&(a=!0),this.Vg=a?-1:0,this},Jn:function(a,b){return this.vt=a,this.Jx=b,this},pause:function(){this.Xd=this.dg=!0;this.Ox=this.a.time.time},Mx:function(){this.Xd||(this.dg=!0,this.Ox=this.a.time.time)},resume:function(){if(this.dg){this.Xd=this.dg=!1;for(var a=0;a<this.xb.length;a++)this.xb[a].Oc||(this.xb[a].startTime+=this.a.time.time-this.Ox)}},Sx:function(){this.Xd||this.resume()},update:function(a){if(this.Yh||!this.target)return!1;if(this.dg)return!0;
a=this.xb[this.current].update(a);if(a===b.Wc.VC)return!0;if(a===b.Wc.cx)return this.gt||(this.uv.s(this.target,this),this.gt=!0),null!==this.vt&&this.vt.call(this.Jx,this,this.xb[this.current].value,this.xb[this.current]),this.Oc;if(a===b.Wc.LC)return-1===this.xb[this.current].Vg?this.$i.s(this.target,this):this.EI.s(this.target,this),!0;if(a===b.Wc.Hw)return a=!1,this.reverse?(this.current--,0>this.current&&(this.current=this.xb.length-1,a=!0)):(this.current++,this.current===this.xb.length&&(this.current=
0,a=!0)),a?-1===this.Vg?(this.xb[this.current].start(),this.$i.s(this.target,this),!0):0<this.Vg?(this.Vg--,this.xb[this.current].start(),this.EI.s(this.target,this),!0):(this.Oc=!1,this.hg.s(this.target,this),this.gt=!1,this.cu&&this.cu.start(),!1):(this.$S.s(this.target,this),this.xb[this.current].start(),!0)}},Object.defineProperty(b.ep.prototype,"totalDuration",{get:function(){for(var a=0,b=0;b<this.xb.length;b++)a+=this.xb[b].duration;return a}}),b.ep.prototype.constructor=b.ep,b.Wc=function(a){this.parent=
a;this.a=a.a;this.eh={};this.mj={};this.Sc={};this.Tr={};this.duration=1E3;this.eB=this.uJ=this.Vg=this.value=this.On=0;this.js=this.RR=!1;this.hL=0;this.Al=!1;this.Bf=this.cd=0;this.startTime=null;this.az=b.Z.Jw;this.VR=b.Math.nS;this.UR=b.Math;this.Uz=this.Oc=!1},b.Wc.VC=0,b.Wc.cx=1,b.Wc.LC=2,b.Wc.Hw=3,b.Wc.prototype={Sd:function(a,b,d,f,e,g){return this.Sc=a,this.duration=b,this.az=d,this.cd=f,this.eB=e,this.js=g,this.Uz=!1,this},from:function(a,b,d,f,e,g){return this.Sc=a,this.duration=b,this.az=
d,this.cd=f,this.eB=e,this.js=g,this.Uz=!0,this},start:function(){if(this.startTime=this.a.time.time+this.cd,this.parent.reverse?this.Bf=this.duration:this.Bf=0,0<this.cd?this.Oc=!1:this.Oc=!0,this.Uz)for(var a in this.mj)this.eh[a]=this.Tr[a],this.Sc[a]=this.mj[a],this.parent.target[a]=this.eh[a];return this.value=0,this.Vg=this.eB,this},sS:function(){for(var a in this.parent.La){if(this.eh[a]=this.parent.La[a],Array.isArray(this.Sc[a])){if(0===this.Sc[a].length)continue;0===this.On&&(this.Sc[a]=
[this.eh[a]].concat(this.Sc[a]))}"undefined"!=typeof this.Sc[a]?("string"==typeof this.Sc[a]&&(this.Sc[a]=this.eh[a]+parseFloat(this.Sc[a],10)),this.parent.La[a]=this.Sc[a]):this.Sc[a]=this.eh[a];this.mj[a]=this.eh[a];this.Tr[a]=this.Sc[a]}return this},update:function(a){if(this.Oc){if(a<this.startTime)return b.Wc.cx}else{if(!(a>=this.startTime))return b.Wc.VC;this.Oc=!0}a=this.parent.sz?this.a.time.HA:this.a.time.sl;this.parent.reverse?(this.Bf-=a*this.parent.lK,this.Bf=Math.max(this.Bf,0)):(this.Bf+=
a*this.parent.lK,this.Bf=Math.min(this.Bf,this.duration));this.On=this.Bf/this.duration;this.value=this.az(this.On);for(var c in this.Sc){a=this.eh[c];var d=this.Sc[c];Array.isArray(d)?this.parent.target[c]=this.VR.call(this.UR,d,this.value):this.parent.target[c]=a+(d-a)*this.value}return!this.parent.reverse&&1===this.On||this.parent.reverse&&0===this.On?this.repeat():b.Wc.cx},repeat:function(){if(this.js){if(this.Al&&0===this.Vg){for(var a in this.mj)this.eh[a]=this.mj[a],this.Sc[a]=this.Tr[a];return this.Al=
!1,b.Wc.Hw}this.Al=!this.Al}else if(0===this.Vg)return b.Wc.Hw;if(this.Al)for(a in this.mj)this.eh[a]=this.Tr[a],this.Sc[a]=this.mj[a];else{for(a in this.mj)this.eh[a]=this.mj[a],this.Sc[a]=this.Tr[a];0<this.Vg&&this.Vg--}return this.startTime=this.a.time.time,this.js&&this.Al?this.startTime+=this.hL:this.Al||(this.startTime+=this.uJ),this.parent.reverse?this.Bf=this.duration:this.Bf=0,b.Wc.LC}},b.Wc.prototype.constructor=b.Wc,b.Z={zs:{Ww:function(a){return a}},Vo:{Hc:function(a){return a*a},Na:function(a){return a*
(2-a)},Vc:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)}},lm:{Hc:function(a){return a*a*a},Na:function(a){return--a*a*a+1},Vc:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)}},Wo:{Hc:function(a){return a*a*a*a},Na:function(a){return 1- --a*a*a*a},Vc:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Xo:{Hc:function(a){return a*a*a*a*a},Na:function(a){return--a*a*a*a*a+1},Vc:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Js:{Hc:function(a){return 0===a?0:
1===a?1:1-Math.cos(a*Math.PI/2)},Na:function(a){return 0===a?0:1===a?1:Math.sin(a*Math.PI/2)},Vc:function(a){return 0===a?0:1===a?1:.5*(1-Math.cos(Math.PI*a))}},qs:{Hc:function(a){return 0===a?0:Math.pow(1024,a-1)},Na:function(a){return 1===a?1:1-Math.pow(2,-10*a)},Vc:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},ns:{Hc:function(a){return 1-Math.sqrt(1-a*a)},Na:function(a){return Math.sqrt(1- --a*a)},Vc:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-
a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Ko:{Hc:function(a){var b,d=.1;return 0===a?0:1===a?1:(!d||1>d?(d=1,b=.1):b=.4*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4)))},Na:function(a){var b,d=.1;return 0===a?0:1===a?1:(!d||1>d?(d=1,b=.1):b=.4*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1)},Vc:function(a){var b,d=.1;return 0===a?0:1===a?1:(!d||1>d?(d=1,b=.1):b=.4*Math.asin(1/d)/(2*Math.PI),1>(a*=2)?-.5*d*Math.pow(2,10*--a)*Math.sin(2*(a-
b)*Math.PI/.4):d*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1)}},zo:{Hc:function(a){return a*a*(2.70158*a-1.70158)},Na:function(a){return--a*a*(2.70158*a+1.70158)+1},Vc:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},oj:{Hc:function(a){return 1-b.Z.oj.Na(1-a)},Na:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},Vc:function(a){return.5>a?
.5*b.Z.oj.Hc(2*a):.5*b.Z.oj.Na(2*a-1)+.5}}},b.Z.Jw=b.Z.zs.Ww,b.Z.ZC=b.Z.zs.Ww,b.Z.$C=b.Z.Vo.Na,b.Z.aD=b.Z.lm.Na,b.Z.bD=b.Z.Wo.Na,b.Z.cD=b.Z.Xo.Na,b.cp=function(a){this.a=a;this.sl=this.Ji=this.now=this.fJ=this.time=0;this.ke=1/60;this.HA=1/60*1E3;this.Ty=1/60;this.Xs=60;this.Cr=1;this.ZN=!1;this.rz=this.frames=0;this.EG=1E3;this.DG=0;this.jI=1E3;this.MB=this.QB=this.iI=0;this.F=new b.Qe(this.a,!1);this.Dp=this.Zx=this.Zk=this.ox=this.qx=0;this.uf=[]},b.cp.prototype={ad:function(){this.Zk=Date.now();
this.time=Date.now();this.F.start();this.MB=this.time},add:function(a){return this.uf.push(a),a},create:function(a){void 0===a&&(a=!0);a=new b.Qe(this.a,a);return this.uf.push(a),a},$b:function(){for(var a=0;a<this.uf.length;a++)this.uf[a].j();this.uf=[];this.F.$b()},refresh:function(){var a=this.time;this.time=Date.now();this.sl=this.time-a},update:function(a){var b=this.time;this.time=Date.now();this.sl=this.time-b;this.fJ=this.now;this.now=a;this.Ji=this.now-this.fJ;this.a.rr.jt&&(this.QB=Math.floor(Math.max(0,
1E3/this.Xs-(this.MB-a))),this.MB=a+this.QB);this.ZN&&this.hX();this.a.paused||(this.F.update(this.time),this.uf.length&&this.AX())},AX:function(){for(var a=0,b=this.uf.length;a<b;)this.uf[a].update(this.time)?a++:(this.uf.splice(a,1),b--)},hX:function(){this.qx++;this.ox+=this.Ji;this.qx>=2*this.Xs&&(this.qx=0,this.ox=0);this.jI=Math.min(this.jI,this.Ji);this.iI=Math.max(this.iI,this.Ji);this.frames++;this.now>this.Zx+1E3&&(this.rz=Math.round(1E3*this.frames/(this.now-this.Zx)),this.EG=Math.min(this.EG,
this.rz),this.DG=Math.max(this.DG,this.rz),this.Zx=this.now,this.frames=0)},zq:function(){this.Dp=Date.now();this.F.pause();for(var a=this.uf.length;a--;)this.uf[a].Mx()},Aq:function(){this.time=Date.now();this.F.resume();for(var a=this.uf.length;a--;)this.uf[a].Sx()},$W:function(){return.001*(this.time-this.Zk)},reset:function(){this.Zk=this.time;this.$b()}},Object.defineProperty(b.cp.prototype,"desiredFps",{get:function(){return this.Xs},set:function(a){this.Xs=a;this.ke=1/a;this.HA=1E3*this.ke;
this.Ty=1/a}}),b.cp.prototype.constructor=b.cp,b.Qe=function(a,c){void 0===c&&(c=!0);this.a=a;this.kg=!1;this.mO=c;this.zu=!1;this.Ji=0;this.F=[];this.hg=new b.D;this.gk=0;this.TW=1E3;this.Xd=this.paused=!1;this.Nx=this.Dp=this.Zk=0;this.Ed=Date.now();this.up=this.W=this.yx=this.Yd=0},b.Qe.UZ=6E4,b.Qe.r0=1E3,b.Qe.AZ=500,b.Qe.a0=250,b.Qe.prototype={create:function(a,c,d,f,e,g){a=Math.round(a);a=new b.hx(this,a,a+(0===this.Ed?this.a.time.time:this.Ed),d,c,f,e,g);return this.F.push(a),this.order(),this.zu=
!1,a},add:function(a,b,d){return this.create(a,!1,0,b,d,Array.prototype.slice.call(arguments,3))},repeat:function(a,b,d,f){return this.create(a,!1,b,d,f,Array.prototype.slice.call(arguments,4))},loop:function(a,b,d){return this.create(a,!0,0,b,d,Array.prototype.slice.call(arguments,3))},start:function(a){if(!this.kg)for(this.Zk=this.a.time.time+(a||0),this.kg=!0,a=0;a<this.F.length;a++)this.F[a].hf=this.F[a].cd+this.Zk},stop:function(a){this.kg=!1;void 0===a&&(a=!0);a&&(this.F.length=0)},remove:function(a){for(var b=
0;b<this.F.length;b++)if(this.F[b]===a)return this.F[b].Yh=!0,!0;return!1},order:function(){0<this.F.length&&(this.F.sort(this.vW),this.gk=this.F[0].hf)},vW:function(a,b){return a.hf<b.hf?-1:a.hf>b.hf?1:0},BP:function(){for(this.W=this.F.length;this.W--;)this.F[this.W].Yh&&this.F.splice(this.W,1);this.Yd=this.F.length;this.W=0},update:function(a){if(this.paused)return!0;if(this.Ji=a-this.Ed,this.Ed=a,this.Ji>this.TW&&this.KE(a-this.Ji),this.yx=0,this.BP(),this.kg&&this.Ed>=this.gk&&0<this.Yd){for(;this.W<
this.Yd&&this.kg&&this.Ed>=this.F[this.W].hf&&!this.F[this.W].Yh;)this.up=this.Ed+this.F[this.W].cd-(this.Ed-this.F[this.W].hf),0>this.up&&(this.up=this.Ed+this.F[this.W].cd),!0===this.F[this.W].loop?(this.F[this.W].hf=this.up,this.F[this.W].pc.apply(this.F[this.W].U,this.F[this.W].oy)):0<this.F[this.W].tJ?(this.F[this.W].tJ--,this.F[this.W].hf=this.up,this.F[this.W].pc.apply(this.F[this.W].U,this.F[this.W].oy)):(this.yx++,this.F[this.W].Yh=!0,this.F[this.W].pc.apply(this.F[this.W].U,this.F[this.W].oy)),
this.W++;this.F.length>this.yx?this.order():(this.zu=!0,this.hg.s(this))}return!this.zu||!this.mO},pause:function(){this.kg&&(this.Xd=!0,this.paused||(this.Dp=this.a.time.time,this.paused=!0))},Mx:function(){!this.paused&&this.kg&&(this.Dp=this.a.time.time,this.paused=!0)},KE:function(a){for(var b=0;b<this.F.length;b++)if(!this.F[b].Yh){var d=this.F[b].hf-a;0>d&&(d=0);this.F[b].hf=this.Ed+d}a=this.gk-a;0>a?this.gk=this.Ed:this.gk=this.Ed+a},resume:function(){if(this.paused){var a=this.a.time.time;
this.Nx+=a-this.Ed;this.Ed=a;this.KE(this.Dp);this.Xd=this.paused=!1}},Sx:function(){this.Xd||this.resume()},$b:function(){this.hg.$b();this.W=this.Yd=this.F.length=0},j:function(){this.hg.$b();this.kg=!1;this.F=[];this.W=this.Yd=0}},Object.defineProperty(b.Qe.prototype,"next",{get:function(){return this.gk}}),Object.defineProperty(b.Qe.prototype,"duration",{get:function(){return this.kg&&this.gk>this.Ed?this.gk-this.Ed:0}}),Object.defineProperty(b.Qe.prototype,"length",{get:function(){return this.F.length}}),
Object.defineProperty(b.Qe.prototype,"ms",{get:function(){return this.kg?this.Ed-this.Zk-this.Nx:0}}),Object.defineProperty(b.Qe.prototype,"seconds",{get:function(){return this.kg?.001*this.U3:0}}),b.Qe.prototype.constructor=b.Qe,b.hx=function(a,b,d,f,e,g,h,k){this.UW=a;this.cd=b;this.hf=d;this.tJ=f-1;this.loop=e;this.pc=g;this.U=h;this.oy=k;this.Yh=!1},b.hx.prototype.constructor=b.hx,b.gh=function(a){this.b=a;this.a=a.a;this.ub=this.Aa=null;this.mX=!0;this.yH=!1;this.tb=null;this.Re={};this.wt=[]},
b.gh.prototype={dA:function(a,b){if(void 0===a)return!1;if(this.yH)for(var c in this.Re)this.Re[c].VB(a);return this.tb=a,void 0===b||null===b?this.frame=0:"string"==typeof b?this.Fu=b:this.frame=b,this.yH=!0,!0},add:function(a,c,d,f,e){return c=c||[],d=d||60,void 0===f&&(f=!1),void 0===e&&(e=!(!c||"number"!=typeof c[0])),this.wt=[],this.tb.iR(c,e,this.wt),this.Re[a]=new b.Je(this.a,this.b,a,this.tb,this.wt,d,f),this.ub=this.Re[a],this.b.kc&&(this.b.Tn=!0),this.Re[a]},play:function(a,b,d,f){if(this.Re[a])return this.ub===
this.Re[a]?!1===this.ub.Ob?(this.ub.paused=!1,this.ub.play(b,d,f)):this.ub:(this.ub&&this.ub.Ob&&this.ub.stop(),this.ub=this.Re[a],this.ub.paused=!1,this.Aa=this.ub.Aa,this.ub.play(b,d,f))},stop:function(a,b){void 0===b&&(b=!1);!this.ub||"string"==typeof a&&a!==this.ub.name||this.ub.stop(b)},update:function(){return!(this.mX&&!this.b.visible)&&!(!this.ub||!this.ub.update())&&(this.Aa=this.ub.Aa,!0)},next:function(a){this.ub&&(this.ub.next(a),this.Aa=this.ub.Aa)},aR:function(a){return"string"==typeof a&&
this.Re[a]?this.Re[a]:null},j:function(){var a=null;for(a in this.Re)this.Re.hasOwnProperty(a)&&this.Re[a].j();this.Re={};this.wt=[];this.a=this.b=this.Aa=this.ub=this.tb=null}},b.gh.prototype.constructor=b.gh,Object.defineProperty(b.gh.prototype,"frameData",{get:function(){return this.tb}}),Object.defineProperty(b.gh.prototype,"frameTotal",{get:function(){return this.tb.total}}),Object.defineProperty(b.gh.prototype,"paused",{get:function(){return this.ub.dg},set:function(a){this.ub.paused=a}}),Object.defineProperty(b.gh.prototype,
"name",{get:function(){if(this.ub)return this.ub.name}}),Object.defineProperty(b.gh.prototype,"frame",{get:function(){if(this.Aa)return this.Aa.index},set:function(a){"number"==typeof a&&this.tb&&null!==this.tb.Lg(a)&&(this.Aa=this.tb.Lg(a),this.Aa&&this.b.Jf(this.Aa))}}),Object.defineProperty(b.gh.prototype,"frameName",{get:function(){if(this.Aa)return this.Aa.name},set:function(a){"string"==typeof a&&this.tb&&null!==this.tb.vn(a)?(this.Aa=this.tb.vn(a),this.Aa&&(this.Vb=this.Aa.index,this.b.Jf(this.Aa))):
console.warn("Cannot set frameName: "+a)}}),b.Je=function(a,c,d,f,e,g,h){void 0===h&&(h=!1);this.a=a;this.zc=c;this.tb=f;this.name=d;this.ya=[];this.ya=this.ya.concat(e);this.cd=1E3/g;this.loop=h;this.dg=this.Ob=this.GH=!1;this.wj=this.Vb=0;this.op=1;this.Aa=this.tb.Lg(this.ya[this.Vb]);this.uv=new b.D;this.bf=null;this.hg=new b.D;this.$i=new b.D;this.Cl=!1;this.a.Ce.add(this.Ce,this);this.a.Pd.add(this.Pd,this)},b.Je.prototype={play:function(a,b,d){return"number"==typeof a&&(this.cd=1E3/a),"boolean"==
typeof b&&(this.loop=b),"undefined"!=typeof d&&(this.GH=d),this.Ob=!0,this.paused=!1,this.$k=this.a.time.time+this.cd,this.Vb=this.Cl?this.ya.length-1:0,this.UB(!1,!0),this.zc.F.l4(this.zc,this),this.uv.s(this.zc,this),this.zc.Lb.ub=this,this.zc.Lb.Aa=this.Aa,this},reverse:function(){return this.zV=!this.zV,this},Jf:function(a,b){var c;if(void 0===b&&(b=!1),"string"==typeof a)for(var f=0;f<this.ya.length;f++)this.tb.Lg(this.ya[f]).name===a&&(c=f);else if("number"==typeof a)if(b)c=a;else for(f=0;f<
this.ya.length;f++)this.ya[f]===a&&(c=f);c&&(this.Vb=c-1,this.$k=this.a.time.time,this.update())},stop:function(a,b){void 0===a&&(a=!1);void 0===b&&(b=!1);this.paused=this.Ob=!1;a&&(this.Aa=this.tb.Lg(this.ya[0]),this.zc.Jf(this.Aa));b&&(this.zc.F.XS(this.zc,this),this.hg.s(this.zc,this))},Ce:function(){this.Ob&&(this.wj=this.$k-this.a.time.time)},Pd:function(){this.Ob&&(this.$k=this.a.time.time+this.wj)},update:function(){return!this.dg&&!!(this.Ob&&this.a.time.time>=this.$k)&&(this.op=1,this.wj=
this.a.time.time-this.$k,this.wj>this.cd&&(this.op=Math.floor(this.wj/this.cd),this.wj-=this.op*this.cd),this.$k=this.a.time.time+(this.cd-this.wj),this.Cl?this.Vb-=this.op:this.Vb+=this.op,!this.Cl&&this.Vb>=this.ya.length||this.Cl&&-1>=this.Vb?this.loop?(this.Vb=Math.abs(this.Vb)%this.ya.length,this.Cl&&(this.Vb=this.ya.length-1-this.Vb),this.Aa=this.tb.Lg(this.ya[this.Vb]),this.Aa&&this.zc.Jf(this.Aa),this.zc.F.k4(this.zc,this),this.$i.s(this.zc,this),!this.bf||(this.bf.s(this,this.Aa),!!this.tb)):
(this.complete(),!1):this.UB(!0))},UB:function(a,b){if(void 0===b&&(b=!1),!this.tb)return!1;var c=this.Aa.index;return this.Aa=this.tb.Lg(this.ya[this.Vb]),this.Aa&&(b||!b&&c!==this.Aa.index)&&this.zc.Jf(this.Aa),!this.bf||!a||(this.bf.s(this,this.Aa),!!this.tb)},next:function(a){void 0===a&&(a=1);a=this.Vb+a;a>=this.ya.length&&(this.loop?a%=this.ya.length:a=this.ya.length-1);a!==this.Vb&&(this.Vb=a,this.UB(!0))},VB:function(a){this.Aa=(this.tb=a)?this.tb.Lg(this.ya[this.Vb%this.ya.length]):null},
j:function(){this.tb&&(this.a.Ce.remove(this.Ce,this),this.a.Pd.remove(this.Pd,this),this.a=null,this.zc=null,this.ya=null,this.tb=null,this.Aa=null,this.Ob=!1,this.uv.Ga(),this.$i.Ga(),this.hg.Ga(),this.bf&&this.bf.Ga())},complete:function(){this.Vb=this.ya.length-1;this.Aa=this.tb.Lg(this.ya[this.Vb]);this.paused=this.Ob=!1;this.zc.F.XS(this.zc,this);this.hg.s(this.zc,this);this.GH&&this.zc.$j()}},b.Je.prototype.constructor=b.Je,Object.defineProperty(b.Je.prototype,"paused",{get:function(){return this.dg},
set:function(a){(this.dg=a)||this.Ob&&(this.$k=this.a.time.time+this.cd)}}),Object.defineProperty(b.Je.prototype,"reversed",{get:function(){return this.Cl},set:function(a){this.Cl=a}}),Object.defineProperty(b.Je.prototype,"frameTotal",{get:function(){return this.ya.length}}),Object.defineProperty(b.Je.prototype,"frame",{get:function(){return null!==this.Aa?this.Aa.index:this.Vb},set:function(a){this.Aa=this.tb.Lg(this.ya[a]);null!==this.Aa&&(this.Vb=a,this.zc.Jf(this.Aa),this.bf&&this.bf.s(this,this.Aa))}}),
Object.defineProperty(b.Je.prototype,"speed",{get:function(){return 1E3/this.cd},set:function(a){0<a&&(this.cd=1E3/a)}}),Object.defineProperty(b.Je.prototype,"enableUpdate",{get:function(){return null!==this.bf},set:function(a){a&&null===this.bf?this.bf=new b.D:a||null===this.bf||(this.bf.Ga(),this.bf=null)}}),b.Je.K2=function(a,c,d,f,e){void 0===f&&(f="");var g=[];if(c<d)for(var m=c;m<=d;m++)c="number"==typeof e?b.nc.NI(m.toString(),e,"0",1):m.toString(),c=a+c+f,g.push(c);else for(m=c;m>=d;m--)c=
"number"==typeof e?b.nc.NI(m.toString(),e,"0",1):m.toString(),c=a+c+f,g.push(c);return g},b.ue=function(a,c,d,f,e,g){this.index=a;this.x=c;this.y=d;this.width=f;this.height=e;this.name=g;this.qd=Math.floor(f/2);this.rd=Math.floor(e/2);this.fb=b.Math.fb(0,0,f,e);this.Ak=!1;this.Vl=f;this.Ul=e;this.gw=this.fw=0;this.right=this.x+this.width;this.bottom=this.y+this.height},b.ue.prototype={resize:function(a,c){this.width=a;this.height=c;this.qd=Math.floor(a/2);this.rd=Math.floor(c/2);this.fb=b.Math.fb(0,
0,a,c);this.Vl=a;this.Ul=c;this.right=this.x+a;this.bottom=this.y+c},$v:function(a,b,d,f,e){(this.Ak=a)&&(this.Vl=b,this.Ul=d,this.qd=Math.floor(b/2),this.rd=Math.floor(d/2),this.fw=f,this.gw=e)},clone:function(){var a=new b.ue(this.index,this.x,this.y,this.width,this.height,this.name),c;for(c in this)this.hasOwnProperty(c)&&(a[c]=this[c]);return a}},b.ue.prototype.constructor=b.ue,b.Ne=function(){this.ya=[];this.xj=[]},b.Ne.prototype={Ei:function(a){return a.index=this.ya.length,this.ya.push(a),
""!==a.name&&(this.xj[a.name]=a.index),a},Lg:function(a){return a>=this.ya.length&&(a=0),this.ya[a]},vn:function(a){return"number"==typeof this.xj[a]?this.ya[this.xj[a]]:null},clone:function(){for(var a=new b.Ne,c=0;c<this.ya.length;c++)a.ya.push(this.ya[c].clone());for(var d in this.xj)this.xj.hasOwnProperty(d)&&a.xj.push(this.xj[d]);return a},iR:function(a,b,d){if(void 0===b&&(b=!0),void 0===d&&(d=[]),void 0===a||0===a.length)for(var c=0;c<this.ya.length;c++)d.push(this.ya[c].index);else for(c=
0;c<a.length;c++)b&&this.ya[a[c]]?d.push(this.ya[a[c]].index):this.vn(a[c])&&d.push(this.vn(a[c]).index);return d},j:function(){this.xj=this.ya=null}},b.Ne.prototype.constructor=b.Ne,Object.defineProperty(b.Ne.prototype,"total",{get:function(){return this.ya.length}}),b.wo={EW:function(a,c,d,f,e,g,h){var m=c;if("string"==typeof c&&(m=a.cache.Oi(c)),null===m)return null;a=m.width;var k=m.height;0>=d&&(d=Math.floor(-a/Math.min(-1,d)));0>=f&&(f=Math.floor(-k/Math.min(-1,f)));m=Math.floor((a-g)/(d+h))*
Math.floor((k-g)/(f+h));if(-1!==e&&(m=e),0===a||0===k||a<d||k<f||0===m)return console.warn("Phaser.AnimationParser.spriteSheet: '"+c+"'s width/height zero or width/height < given frameWidth/frameHeight"),null;c=new b.Ne;for(var k=e=g,p=0;p<m;p++)c.Ei(new b.ue(p,e,k,d,f,"")),e+=d+h,e+d>a&&(e=g,k+=f+h);return c},YL:function(a,c){if(!c.frames)return console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array"),void console.log(c);for(var d,f=new b.Ne,e=c.frames,
g=0;g<e.length;g++)d=f.Ei(new b.ue(g,e[g].frame.x,e[g].frame.y,e[g].frame.qo,e[g].frame.sd,e[g].filename)),e[g].Ak&&d.$v(e[g].Ak,e[g].EB.qo,e[g].EB.sd,e[g].Wl.x,e[g].Wl.y,e[g].Wl.qo,e[g].Wl.sd);return f},$L:function(a,c){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(a){if(!c[a])return console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing "'+a+'" key.'),void console.log(c)}),1!==c.ba.length)return console.warn("Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps."),
void console.log(c);for(var d,f=new b.Ne,e=c.$l,g=c.bm,h=c.ba[0].fi,k=0;k<h.length;k++)d=f.Ei(new b.ue(k,h[k].x,h[k].y,g,e,"frame_"+k)),d.$v(!1);return f},ZL:function(a,c){if(!c.frames)return console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object"),void console.log(c);var d,f=new b.Ne,e=c.frames,g=0,h;for(h in e)d=f.Ei(new b.ue(g,e[h].frame.x,e[h].frame.y,e[h].frame.qo,e[h].frame.sd,h)),e[h].Ak&&d.$v(e[h].Ak,e[h].EB.qo,e[h].EB.sd,e[h].Wl.x,e[h].Wl.y,
e[h].Wl.qo,e[h].Wl.sd),g++;return f},NM:function(a,c){if(!c.getElementsByTagName("TextureAtlas"))return void console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag");for(var d,f,e,g,h,k,l,n,t,y,v=new b.Ne,x=c.getElementsByTagName("SubTexture"),A=0;A<x.length;A++)f=x[A].attributes,d=f.name.value,e=parseInt(f.x.value,10),g=parseInt(f.y.value,10),h=parseInt(f.width.value,10),k=parseInt(f.height.value,10),n=l=null,f.VQ&&(l=Math.abs(parseInt(f.VQ.value,
10)),n=Math.abs(parseInt(f.D2.value,10)),t=parseInt(f.xq.value,10),y=parseInt(f.wq.value,10)),d=v.Ei(new b.ue(A,e,g,h,k,d)),null===l&&null===n||d.$v(!0,h,k,l,n,t,y);return v}},b.Cache=function(a){this.a=a;this.oO=!1;this.Ba={canvas:{},qb:{},c:{},ma:{},video:{},text:{},json:{},xml:{},ta:{},am:{},St:{},gl:{},Xp:{},wd:{},Pv:{}};this.qE={};this.Ft=new Image;this.Gt=null;this.HI=new b.D;this.oc=[];this.oc[b.Cache.li]=this.Ba.canvas;this.oc[b.Cache.IMAGE]=this.Ba.qb;this.oc[b.Cache.TEXTURE]=this.Ba.c;this.oc[b.Cache.vm]=
this.Ba.ma;this.oc[b.Cache.ex]=this.Ba.text;this.oc[b.Cache.nM]=this.Ba.ta;this.oc[b.Cache.fx]=this.Ba.am;this.oc[b.Cache.mL]=this.Ba.St;this.oc[b.Cache.yo]=this.Ba.gl;this.oc[b.Cache.pC]=this.Ba.Xp;this.oc[b.Cache.JSON]=this.Ba.json;this.oc[b.Cache.MM]=this.Ba.xml;this.oc[b.Cache.VIDEO]=this.Ba.video;this.oc[b.Cache.BM]=this.Ba.wd;this.oc[b.Cache.tM]=this.Ba.Pv;this.LN();this.PN()},b.Cache.li=1,b.Cache.IMAGE=2,b.Cache.TEXTURE=3,b.Cache.vm=4,b.Cache.ex=5,b.Cache.nM=6,b.Cache.fx=7,b.Cache.mL=8,b.Cache.yo=
9,b.Cache.pC=10,b.Cache.JSON=11,b.Cache.MM=12,b.Cache.VIDEO=13,b.Cache.BM=14,b.Cache.tM=15,b.Cache.DEFAULT=null,b.Cache.RC=null,b.Cache.prototype={Um:function(a,c,d){this.tF(a)&&this.fV(a);var f={key:a,url:c,data:d,$c:new PIXI.Uc(d),frame:new b.ue(0,0,0,d.width,d.height,a),he:new b.Ne};return f.he.Ei(new b.ue(0,0,0,d.width,d.height,c)),this.Ba.qb[a]=f,this.Sf(c,f),"__default"===a?b.Cache.DEFAULT=new PIXI.bb(f.$c):"__missing"===a&&(b.Cache.RC=new PIXI.bb(f.$c)),f},LN:function(){var a=new Image;a.src=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==";a=this.Um("__default",null,a);a.$c.$n=!0;b.Cache.DEFAULT=new PIXI.bb(a.$c)},PN:function(){var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==";
a=this.Um("__missing",null,a);b.Cache.RC=new PIXI.bb(a.$c)},HE:function(a,b,d,f,e){void 0===f&&(f=!0,e=!1);void 0===e&&(f=!1,e=!0);var c=!1;e&&(c=!0);this.Ba.ma[a]={url:b,data:d,Tz:!1,Ry:c,eC:f,M1:e,locked:this.a.ma.Fc};this.Sf(b,this.Ba.ma[a])},TN:function(a,b,d){this.Ba.text[a]={url:b,data:d};this.Sf(b,this.Ba.text[a])},FE:function(a,b,d,f){this.Ba.ta[a]={url:b,data:d,format:f};this.Sf(b,this.Ba.ta[a])},ky:function(a,b,d,f){this.Ba.am[a]={url:b,data:d,format:f};this.Sf(b,this.Ba.am[a])},IN:function(a,
b){this.Ba.St[a]=b},BE:function(a,c,d){return c.key=a,void 0===d&&(d=new b.Ne,d.Ei(c.ho)),this.Ba.gl[a]={data:c,he:d},c},hy:function(a,c,d,f,e,g,h){d={url:c,data:d,font:null,$c:new PIXI.Uc(d)};void 0===g&&(g=0);void 0===h&&(h=0);"json"===e?d.font=b.OC.iS(f,d.$c,g,h):d.font=b.OC.fL(f,d.$c,g,h);this.Ba.Xp[a]=d;this.Sf(c,d)},DE:function(a,b,d){this.Ba.json[a]={url:b,data:d};this.Sf(b,this.Ba.json[a])},XN:function(a,b,d){this.Ba.xml[a]={url:b,data:d};this.Sf(b,this.Ba.xml[a])},WN:function(a,b,d,f){this.Ba.video[a]=
{url:b,data:d,wH:f,locked:!0};this.Sf(b,this.Ba.video[a])},RN:function(a,b,d){this.Ba.wd[a]={url:b,data:d};this.Sf(b,this.Ba.wd[a])},GE:function(a,c){this.Ba.Pv[a]={c:c,frame:new b.ue(0,0,0,c.width,c.height,"","")}},SN:function(a,c,d,f,e,g,h,k){void 0===g&&(g=-1);void 0===h&&(h=0);void 0===k&&(k=0);d={key:a,url:c,data:d,xq:f,wq:e,margin:h,Fr:k,$c:new PIXI.Uc(d),he:b.wo.EW(this.a,d,f,e,g,h,k)};this.Ba.qb[a]=d;this.Sf(c,d)},jy:function(a,c,d,f,e){d={key:a,url:c,data:d,$c:new PIXI.Uc(d)};e===b.yb.ap?
d.he=b.wo.NM(this.a,f,a):e===b.yb.nD?d.he=b.wo.$L(this.a,f,a):Array.isArray(f.frames)?d.he=b.wo.YL(this.a,f,a):d.he=b.wo.ZL(this.a,f,a);this.Ba.qb[a]=d;this.Sf(c,d)},ZU:function(a){var b=this,d=this.Qh(a);d&&(d.data.src=d.url,d.data.addEventListener("canplaythrough",function(){return b.$U(a)},!1),d.data.load())},$U:function(a){var b=this.Qh(a);b&&(b.locked=!1,this.HI.s(a))},xX:function(a,b,d){(a=this.Qh(a))&&(a[b]=d)},cQ:function(a,b){var c=this.Qh(a);c.data=b;c.Ry=!0;c.Tz=!1},$u:function(a){if(a=
this.getItem(a,b.Cache.vm,"isSoundDecoded"))return a.Ry},AH:function(a){if(a=this.getItem(a,b.Cache.vm,"isSoundDecoded"))return a.Ry&&!this.a.ma.Fc},du:function(a,b){return!!this.oc[a][b]},tF:function(a){return this.du(b.Cache.IMAGE,a)},tP:function(a){return this.du(b.Cache.vm,a)},vP:function(a){return this.du(b.Cache.VIDEO,a)},getItem:function(a,b,d,f){return this.du(b,a)?void 0===f?this.oc[b][a]:this.oc[b][a][f]:(d&&console.warn("Phaser.Cache."+d+': Key "'+a+'" not found in Cache.'),null)},Ju:function(a){return this.getItem(a,
b.Cache.li,"getCanvas","canvas")},Oi:function(a,c){void 0!==a&&null!==a||(a="__default");void 0===c&&(c=!1);var d=this.getItem(a,b.Cache.IMAGE,"getImage");return null===d&&(d=this.getItem("__missing",b.Cache.IMAGE,"getImage")),c?d:d.data},Qh:function(a){return this.getItem(a,b.Cache.vm,"getSound")},Pu:function(a){return this.getItem(a,b.Cache.vm,"getSoundData","data")},vR:function(a){return this.getItem(a,b.Cache.fx,"getTilemapData")},NG:function(a){return this.getItem(a,b.Cache.pC,"getBitmapFont")},
kR:function(a,c){var d=this.getItem(a,b.Cache.JSON,"getJSON","data");return d?c?b.nc.extend(!0,Array.isArray(d)?[]:{},d):d:null},aH:function(a){return this.getItem(a,b.Cache.VIDEO,"getVideo")},Lg:function(a,c){return void 0===c&&(c=b.Cache.IMAGE),this.getItem(a,c,"getFrame","frame")},SG:function(a,c){return void 0===c&&(c=b.Cache.IMAGE),this.getItem(a,c,"getFrameData","frameData")},BR:function(a,c){return void 0===c&&(c=b.Cache.IMAGE),null!==this.getItem(a,c,"","frameData")},VB:function(a,c,d){void 0===
d&&(d=b.Cache.IMAGE);this.oc[d][a]&&(this.oc[d][a].he=c)},vn:function(a,b,d){return(a=this.SG(a,d))?a.vn(b):null},fV:function(a,b){void 0===b&&(b=!0);var c=this.Oi(a,!0);b&&c.$c&&c.$c.j();delete this.Ba.qb[a]},AP:function(){for(var a in this.Ba.qb)this.Ba.qb[a].$c.Dd=[]},Sf:function(a,b){return this.oO?(this.Ft.src=this.a.load.UE+a,this.Gt=this.Ft.src,this.Ft.src="",b&&(this.qE[this.Gt]=b),this.Gt):null},j:function(){for(var a=0;a<this.oc.length;a++){var b=this.oc[a],d;for(d in b)"__default"!==d&&
"__missing"!==d&&(b[d].j&&b[d].j(),delete b[d])}this.Gt=this.Ft=this.qE=null}},b.Cache.prototype.constructor=b.Cache,b.yb=function(a){this.a=a;this.cache=a.cache;this.ye=this.Pq=this.gB=!1;this.De=null;this.crossOrigin=!1;this.path=this.UE="";this.headers={wJ:!1,json:"application/json",xml:"application/xml"};this.wA=new b.D;this.CI=new b.D;this.yA=new b.D;this.xI=new b.D;this.vI=new b.D;this.wI=new b.D;this.tE=this.FX=!1;this.xQ=!0;this.zS=4;this.GN=0;this.yg=[];this.rh=[];this.Om=0;this.mp=!1;this.rp=
this.Wk=this.Rm=this.Np=0},b.yb.Ls=0,b.yb.mD=1,b.yb.ap=2,b.yb.C_=3,b.yb.D_=4,b.yb.nD=5,b.yb.prototype={resize:function(){this.De&&this.De.height!==this.De.b.height&&(this.De.rect.height=this.De.b.height)},bR:function(a,b){for(var c=-1,f=0;f<this.yg.length;f++){var e=this.yg[f];if(e.type===a&&e.key===b&&(c=f,!e.loaded&&!e.yn))break}return c},reset:function(a,b){void 0===b&&(b=!1);this.gB||(a&&(this.De=null),this.Pq=!1,this.Om=0,this.yg.length=0,this.rh.length=0,this.mp=!1,this.Rm=0,this.Np=0,this.Wk=
0,this.rp=0,b&&(this.wA.$b(),this.CI.$b(),this.yA.$b(),this.xI.$b(),this.vI.$b(),this.wI.$b()))},ae:function(a,b,d,f,e,g){if(void 0===e&&(e=!1),void 0===b||""===b)return console.warn("Phaser.Loader: Invalid or no key given of type "+a),this;if(void 0===d||null===d){if(!g)return console.warn("Phaser.Loader: No URL given for file type: "+a+" key: "+b),this;d=b+g}d={type:a,key:b,path:this.path,url:d,fK:0<this.GN,data:null,yn:!1,loaded:!1,error:!1};if(f)for(var c in f)d[c]=f[c];a=this.bR(a,b);e&&-1<a?
(e=this.yg[a],e.yn||e.loaded?(this.yg.push(d),this.Rm++):this.yg[a]=d):-1===a&&(this.yg.push(d),this.Rm++);return this},qb:function(a,b,d){return this.ae("image",a,b,void 0,d,".png")},images:function(a,b){if(Array.isArray(b))for(var c=0;c<a.length;c++)this.qb(a[c],b[c]);else for(c=0;c<a.length;c++)this.qb(a[c]);return this},text:function(a,b,d){return this.ae("text",a,b,void 0,d,".txt")},json:function(a,b,d){return this.ae("json",a,b,void 0,d,".json")},wd:function(a,b,d){return this.ae("shader",a,
b,void 0,d,".frag")},xml:function(a,b,d){return this.ae("xml",a,b,void 0,d,".xml")},LV:function(a,b,d,f){return void 0===d&&(d=!1),!1!==d&&void 0===f&&(f=this),this.ae("script",a,b,{fK:!0,pc:d,U:f},!1,".js")},St:function(a,b,d,f){return void 0===d&&(d=!1),!1!==d&&void 0===f&&(f=d),this.ae("binary",a,b,{pc:d,U:f},!1,".bin")},hw:function(a,b,d,f,e,g,h){return void 0===e&&(e=-1),void 0===g&&(g=0),void 0===h&&(h=0),this.ae("spritesheet",a,b,{xq:d,wq:f,FG:e,margin:g,Fr:h},!1,".png")},audio:function(a,
b,d){return this.a.ma.If?this:(void 0===d&&(d=!0),"string"==typeof b&&(b=[b]),this.ae("audio",a,b,{buffer:null,ry:d}))},qy:function(a,b,d,f,e){return this.a.ma.If?this:(void 0===d&&(d=null),void 0===f&&(f=null),void 0===e&&(e=!0),this.audio(a,b,e),d?this.json(a+"-audioatlas",d):f?("string"==typeof f&&(f=JSON.parse(f)),this.cache.DE(a+"-audioatlas","",f)):console.warn("Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object"),this)},lO:function(a,b,d,f,e){return this.qy(a,
b,d,f,e)},video:function(a,b,d,f){return void 0===d&&(d=this.a.pa.rn?"loadeddata":"canplaythrough"),void 0===f&&(f=!1),"string"==typeof b&&(b=[b]),this.ae("video",a,b,{buffer:null,py:f,cA:d})},am:function(a,c,d,f){if(void 0===c&&(c=null),void 0===d&&(d=null),void 0===f&&(f=b.ac.Do),c||d||(c=f===b.ac.Do?a+".csv":a+".json"),d){switch(f){case b.ac.Ms:"string"==typeof d&&(d=JSON.parse(d))}this.cache.ky(a,null,d,f)}else this.ae("tilemap",a,c,{format:f});return this},ta:function(a,c,d,f){return void 0===
c&&(c=null),void 0===d&&(d=null),void 0===f&&(f=b.f.RZ),c||d||(c=a+".json"),d?("string"==typeof d&&(d=JSON.parse(d)),this.cache.FE(a,null,d,f)):this.ae("physics",a,c,{format:f}),this},Xp:function(a,b,d,f,e,g){if(void 0!==b&&null!==b||(b=a+".png"),void 0===d&&(d=null),void 0===f&&(f=null),null===d&&null===f&&(d=a+".xml"),void 0===e&&(e=0),void 0===g&&(g=0),d)this.ae("bitmapfont",a,b,{vf:d,es:e,hs:g});else if("string"==typeof f){var c,m;try{c=JSON.parse(f)}catch(w){m=this.EA(f)}if(!m&&!c)throw Error("Phaser.Loader. Invalid Bitmap Font atlas given");
this.ae("bitmapfont",a,b,{vf:null,Ij:c||m,Up:c?"json":"xml",es:e,hs:g})}return this},hO:function(a,c,d,f){return this.Qt(a,c,d,f,b.yb.Ls)},iO:function(a,c,d,f){return this.Qt(a,c,d,f,b.yb.mD)},jO:function(a,c,d,f){return void 0===d&&(d=null),void 0===f&&(f=null),d||f||(d=a+".xml"),this.Qt(a,c,d,f,b.yb.ap)},Qt:function(a,c,d,f,e){if(void 0!==c&&null!==c||(c=a+".png"),void 0===d&&(d=null),void 0===f&&(f=null),void 0===e&&(e=b.yb.Ls),d||f||(d=e===b.yb.ap?a+".xml":a+".json"),d)this.ae("textureatlas",
a,c,{vf:d,format:e});else{switch(e){case b.yb.Ls:"string"==typeof f&&(f=JSON.parse(f));break;case b.yb.ap:if("string"==typeof f){d=this.EA(f);if(!d)throw Error("Phaser.Loader. Invalid Texture Atlas XML given");f=d}}this.ae("textureatlas",a,c,{vf:null,Ij:f,format:e})}return this},$b:function(){this.yg.length=0;this.rh.length=0},start:function(){this.Pq||(this.ye=!1,this.Pq=!0,this.LK(),this.jJ())},jJ:function(){if(!this.Pq)return console.warn("Phaser.Loader - active loading canceled / reset"),void this.kz(!0);
for(var a=0;a<this.rh.length;a++){var c=this.rh[a];(c.loaded||c.error)&&(this.rh.splice(a,1),a--,c.yn=!1,c.fB=null,c.vJ=null,c.error&&this.wI.s(c.key,c),"packfile"!==c.type?(this.rp++,this.vI.s(this.SA,c.key,!c.error,this.rp,this.Rm)):"packfile"===c.type&&c.error&&(this.Wk++,this.yA.s(c.key,!c.error,this.Wk,this.Np)))}for(var d=!1,f=this.xQ?b.Math.Vf(this.zS,1,12):1,a=this.Om;a<this.yg.length&&!(c=this.yg[a],"packfile"===c.type&&!c.error&&c.loaded&&a===this.Om&&(this.LU(c),this.Wk++,this.yA.s(c.key,
!c.error,this.Wk,this.Np)),c.loaded||c.error?a===this.Om&&(this.Om=a+1):!c.yn&&this.rh.length<f&&("packfile"!==c.type||c.data?d||(this.mp||(this.mp=!0,this.wA.s()),this.rh.push(c),c.yn=!0,this.xI.s(this.SA,c.key,c.url),this.LH(c)):(this.rh.push(c),c.yn=!0,this.LH(c))),!c.loaded&&c.fK&&(d=!0),this.rh.length>=f||d&&this.Wk===this.Np);a++);if(this.LK(),this.Om>=this.yg.length)this.kz();else if(!this.rh.length){console.warn("Phaser.Loader - aborting: processing queue empty, loading may have stalled");
var e=this;setTimeout(function(){e.kz(!0)},2E3)}},kz:function(a){this.ye||(this.ye=!0,this.Pq=!1,a||this.mp||(this.mp=!0,this.wA.s()),this.CI.s(),this.a.state.bA(),this.reset())},Tf:function(a,b){void 0===b&&(b="");a.loaded=!0;a.error=!!b;b&&(a.x2=b,console.warn("Phaser.Loader - "+a.type+"["+a.key+"]: "+b));this.jJ()},LU:function(a){var c=a.data[a.key];if(!c)return void console.warn("Phaser.Loader - "+a.key+": pack has data, but not for pack key");for(var d=0;d<c.length;d++){var f=c[d];switch(f.type){case "image":this.qb(f.key,
f.url,f.wv);break;case "text":this.text(f.key,f.url,f.wv);break;case "json":this.json(f.key,f.url,f.wv);break;case "xml":this.xml(f.key,f.url,f.wv);break;case "script":this.LV(f.key,f.url,f.pc,a.U||this);break;case "binary":this.St(f.key,f.url,f.pc,a.U||this);break;case "spritesheet":this.hw(f.key,f.url,f.xq,f.wq,f.FG,f.margin,f.Fr);break;case "video":this.video(f.key,f.PK);break;case "audio":this.audio(f.key,f.PK,f.ry);break;case "audiosprite":this.lO(f.key,f.PK,f.y3,f.x3,f.ry);break;case "tilemap":this.am(f.key,
f.url,f.data,b.ac[f.format]);break;case "physics":this.ta(f.key,f.url,f.data,b.yb[f.format]);break;case "bitmapFont":this.Xp(f.key,f.nw,f.vf,f.Ij,f.es,f.hs);break;case "atlasJSONArray":this.hO(f.key,f.nw,f.vf,f.Ij);break;case "atlasJSONHash":this.iO(f.key,f.nw,f.vf,f.Ij);break;case "atlasXML":this.jO(f.key,f.nw,f.vf,f.Ij);break;case "atlas":this.Qt(f.key,f.nw,f.vf,f.Ij,b.yb[f.format]);break;case "shader":this.wd(f.key,f.url,f.wv)}}},Td:function(a,b){return!!a&&(a.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?
a:this.UE+b.path+a)},LH:function(a){switch(a.type){case "packfile":this.og(a,this.Td(a.url,a),"text",this.Nh);break;case "image":case "spritesheet":case "textureatlas":case "bitmapfont":this.pS(a);break;case "audio":a.url=this.cR(a.url);a.url?this.a.ma.Rc?this.og(a,this.Td(a.url,a),"arraybuffer",this.Nh):this.a.ma.Ud&&this.oS(a):this.vl(a,null,"No supported audio URL specified or device does not have audio playback support");break;case "video":a.url=this.xR(a.url);a.url?a.py?this.og(a,this.Td(a.url,
a),"blob",this.Nh):this.tS(a):this.vl(a,null,"No supported video URL specified or device does not have video playback support");break;case "json":this.og(a,this.Td(a.url,a),"text",this.bv);break;case "xml":this.og(a,this.Td(a.url,a),"text",this.jC);break;case "tilemap":a.format===b.ac.Ms?this.og(a,this.Td(a.url,a),"text",this.bv):a.format===b.ac.Do?this.og(a,this.Td(a.url,a),"text",this.VP):this.Tf(a,"invalid Tilemap format: "+a.format);break;case "text":case "script":case "shader":case "physics":this.og(a,
this.Td(a.url,a),"text",this.Nh);break;case "binary":this.og(a,this.Td(a.url,a),"arraybuffer",this.Nh)}},pS:function(a){var b=this;a.data=new Image;a.data.name=a.key;this.crossOrigin&&(a.data.crossOrigin=this.crossOrigin);a.data.onload=function(){a.data.onload&&(a.data.onload=null,a.data.onerror=null,b.Nh(a))};a.data.onerror=function(){a.data.onload&&(a.data.onload=null,a.data.onerror=null,b.vl(a))};a.data.src=this.Td(a.url,a);a.data.complete&&a.data.width&&a.data.height&&(a.data.onload=null,a.data.onerror=
null,this.Nh(a))},tS:function(a){function c(){a.data.removeEventListener(a.cA,c,!1);a.data.onerror=null;a.data.$t=!0;b.Mw[d.a.id].load.Nh(a)}var d=this;a.data=document.createElement("video");a.data.name=a.key;a.data.controls=!1;a.data.autoplay=!1;a.data.onerror=function(){a.data.removeEventListener(a.cA,c,!1);a.data.onerror=null;a.data.$t=!1;d.vl(a)};a.data.addEventListener(a.cA,c,!1);a.data.src=this.Td(a.url,a);a.data.load()},oS:function(a){var b=this;if(this.a.ma.Fc)a.data=new Audio,a.data.name=
a.key,a.data.qr="auto",a.data.src=this.Td(a.url,a),this.Nh(a);else{a.data=new Audio;a.data.name=a.key;var d=function(){a.data.removeEventListener("canplaythrough",d,!1);a.data.onerror=null;b.Nh(a)};a.data.onerror=function(){a.data.removeEventListener("canplaythrough",d,!1);a.data.onerror=null;b.vl(a)};a.data.qr="auto";a.data.src=this.Td(a.url,a);a.data.addEventListener("canplaythrough",d,!1);a.data.load()}},og:function(a,b,d,f,e){if(this.FX&&window.XDomainRequest)return void this.UX(a,b,d,f,e);var c=
new XMLHttpRequest;c.open("GET",b,!0);c.responseType=d;!1!==this.headers.wJ&&c.setRequestHeader("X-Requested-With",this.headers.wJ);this.headers[a.type]&&c.setRequestHeader("Accept",this.headers[a.type]);e=e||this.vl;var g=this;c.onload=function(){try{return 4===c.readyState&&400<=c.status&&599>=c.status?e.call(g,a,c):f.call(g,a,c)}catch(u){g.ye?window.console&&console.error(u):g.Tf(a,u.message||"Exception")}};c.onerror=function(){try{return e.call(g,a,c)}catch(u){g.ye?window.console&&console.error(u):
g.Tf(a,u.message||"Exception")}};a.vJ=c;a.fB=b;c.send()},UX:function(a,b,d,f,e){this.tE||this.a.pa.Mq&&!(10<=this.a.pa.Nz)||(this.tE=!0,console.warn("Phaser.Loader - using XDomainRequest outside of IE 9"));var c=new window.XDomainRequest;c.open("GET",b,!0);c.responseType=d;c.timeout=3E3;e=e||this.vl;var g=this;c.onerror=function(){try{return e.call(g,a,c)}catch(u){g.Tf(a,u.message||"Exception")}};c.ontimeout=function(){try{return e.call(g,a,c)}catch(u){g.Tf(a,u.message||"Exception")}};c.onprogress=
function(){};c.onload=function(){try{return 4===c.readyState&&400<=c.status&&599>=c.status?e.call(g,a,c):f.call(g,a,c)}catch(u){g.Tf(a,u.message||"Exception")}};a.vJ=c;a.fB=b;setTimeout(function(){c.send()},0)},xR:function(a){for(var b=0;b<a.length;b++){var d,f=a[b];if(f.uri){if(d=f.type,f=f.uri,this.a.pa.oF(d))return f}else{if(0===f.indexOf("blob:")||0===f.indexOf("data:"))return f;0<=f.indexOf("?")&&(f=f.substr(0,f.indexOf("?")));if(d=f.substr((Math.max(0,f.lastIndexOf("."))||1/0)+1).toLowerCase(),
this.a.pa.oF(d))return a[b]}}return null},cR:function(a){if(this.a.ma.If)return null;for(var b=0;b<a.length;b++){var d,f=a[b];if(f.uri){if(d=f.type,f=f.uri,this.a.pa.nF(d))return f}else{if(0===f.indexOf("blob:")||0===f.indexOf("data:"))return f;0<=f.indexOf("?")&&(f=f.substr(0,f.indexOf("?")));if(d=f.substr((Math.max(0,f.lastIndexOf("."))||1/0)+1).toLowerCase(),this.a.pa.nF(d))return a[b]}}return null},vl:function(a,b,d){var c="error loading asset from URL "+(a.fB||this.Td(a.url,a));!d&&b&&(d=b.status);
d&&(c=c+" ("+d+")");this.Tf(a,c)},Nh:function(a,c){var d=!0;switch(a.type){case "packfile":var f=JSON.parse(c.responseText);a.data=f||{};break;case "image":this.cache.Um(a.key,a.url,a.data);break;case "spritesheet":this.cache.SN(a.key,a.url,a.data,a.xq,a.wq,a.FG,a.margin,a.Fr);break;case "textureatlas":if(null==a.vf)this.cache.jy(a.key,a.url,a.data,a.Ij,a.format);else if(d=!1,a.format===b.yb.Ls||a.format===b.yb.mD||a.format===b.yb.nD)this.og(a,this.Td(a.vf,a),"text",this.bv);else{if(a.format!==b.yb.ap)throw Error("Phaser.Loader. Invalid Texture Atlas format: "+
a.format);this.og(a,this.Td(a.vf,a),"text",this.jC)}break;case "bitmapfont":a.vf?(d=!1,this.og(a,this.Td(a.vf,a),"text",function(a,b){var c;try{c=JSON.parse(b.responseText)}catch(u){}c?(a.Up="json",this.bv(a,b)):(a.Up="xml",this.jC(a,b))})):this.cache.hy(a.key,a.url,a.data,a.Ij,a.Up,a.es,a.hs);break;case "video":if(a.py)try{a.data=c.response}catch(m){throw Error("Phaser.Loader. Unable to parse video file as Blob: "+a.key);}this.cache.WN(a.key,a.url,a.data,a.py);break;case "audio":this.a.ma.Rc?(a.data=
c.response,this.cache.HE(a.key,a.url,a.data,!0,!1),a.ry&&this.a.ma.decode(a.key)):this.cache.HE(a.key,a.url,a.data,!1,!0);break;case "text":a.data=c.responseText;this.cache.TN(a.key,a.url,a.data);break;case "shader":a.data=c.responseText;this.cache.RN(a.key,a.url,a.data);break;case "physics":f=JSON.parse(c.responseText);this.cache.FE(a.key,a.url,f,a.format);break;case "script":a.data=document.createElement("script");a.data.language="javascript";a.data.type="text/javascript";a.data.defer=!1;a.data.text=
c.responseText;document.head.appendChild(a.data);a.pc&&(a.data=a.pc.call(a.U,a.key,c.responseText));break;case "binary":a.pc?a.data=a.pc.call(a.U,a.key,c.response):a.data=c.response,this.cache.IN(a.key,a.data)}d&&this.Tf(a)},bv:function(a,b){var c=JSON.parse(b.responseText);"tilemap"===a.type?this.cache.ky(a.key,a.url,c,a.format):"bitmapfont"===a.type?this.cache.hy(a.key,a.url,a.data,c,a.Up,a.es,a.hs):"json"===a.type?this.cache.DE(a.key,a.url,c):this.cache.jy(a.key,a.url,a.data,c,a.format);this.Tf(a)},
VP:function(a,b){this.cache.ky(a.key,a.url,b.responseText,a.format);this.Tf(a)},jC:function(a,b){var c=this.EA(b.responseText);if(!c)return console.warn("Phaser.Loader - "+a.key+": invalid XML ("+(b.responseType||b.contentType)+")"),void this.Tf(a,"invalid XML");"bitmapfont"===a.type?this.cache.hy(a.key,a.url,a.data,c,a.Up,a.es,a.hs):"textureatlas"===a.type?this.cache.jy(a.key,a.url,a.data,c,a.format):"xml"===a.type&&this.cache.XN(a.key,a.url,c);this.Tf(a)},EA:function(a){var b;try{window.DOMParser?
b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(d){b=null}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length?b:null},LK:function(){this.De&&(0===this.De.direction?this.De.rect.width=Math.floor(this.De.width/100*this.SA):this.De.rect.height=Math.floor(this.De.height/100*this.SA),this.De.b?this.De.b.TB():this.De=null)},aX:function(){return this.Rm-this.rp},bX:function(){return this.Np-this.Wk}},Object.defineProperty(b.yb.prototype,
"progressFloat",{get:function(){return b.Math.Vf(this.rp/this.Rm*100||0,0,100)}}),Object.defineProperty(b.yb.prototype,"progress",{get:function(){return Math.round(this.K4)}}),b.yb.prototype.constructor=b.yb,b.OC={Xp:function(a,b,d,f){return this.fL(a,b,d,f)},fL:function(a,b,d,f){var c={},e=a.getElementsByTagName("info")[0],g=a.getElementsByTagName("common")[0];c.font=e.getAttribute("face");c.size=parseInt(e.getAttribute("size"),10);c.lineHeight=parseInt(g.getAttribute("lineHeight"),10)+f;c.de={};
e=a.getElementsByTagName("char");for(f=0;f<e.length;f++)g=parseInt(e[f].getAttribute("id"),10),c.de[g]={x:parseInt(e[f].getAttribute("x"),10),y:parseInt(e[f].getAttribute("y"),10),width:parseInt(e[f].getAttribute("width"),10),height:parseInt(e[f].getAttribute("height"),10),iC:parseInt(e[f].getAttribute("xoffset"),10),gL:parseInt(e[f].getAttribute("yoffset"),10),hC:parseInt(e[f].getAttribute("xadvance"),10)+d,El:{}};a=a.getElementsByTagName("kerning");for(f=0;f<a.length;f++)d=parseInt(a[f].getAttribute("first"),
10),e=parseInt(a[f].getAttribute("second"),10),g=parseInt(a[f].getAttribute("amount"),10),c.de[e].El[d]=g;return this.tG(b,c)},iS:function(a,b,d,f){var c={font:a.font.info.z1,size:parseInt(a.font.info.Ag,10),lineHeight:parseInt(a.font.h2.C1,10)+f,de:{}};return a.font.de["char"].forEach(function(a){c.de[parseInt(a.B1,10)]={x:parseInt(a.ey,10),y:parseInt(a.fy,10),width:parseInt(a.Kb,10),height:parseInt(a.Ib,10),iC:parseInt(a.G1,10),gL:parseInt(a.H1,10),hC:parseInt(a.F1,10)+d,El:{}}}),a.font.EH&&a.font.EH.El&&
a.font.EH.El.forEach(function(a){c.de[a.E1].El[a.A1]=parseInt(a.y1,10)}),this.tG(b,c)},tG:function(a,c){return Object.keys(c.de).forEach(function(d){d=c.de[d];d.c=new PIXI.bb(a,new b.v(d.x,d.y,d.width,d.height))}),c}},b.ls=function(a,b){this.a=a;this.key=b;this.Da=this.a.cache.kR(b+"-audioatlas");this.ty=null;this.autoplay=!1;this.Tl={};for(var c in this.Da.FW){var f=this.Da.FW[c],e=this.a.add.ma(this.key);e.ON(c,f.start,f.end-f.start,null,f.loop);this.Tl[c]=e}this.Da.autoplay&&(this.ty=this.Da.autoplay,
this.play(this.ty),this.autoplay=this.Tl[this.ty])},b.ls.prototype={play:function(a,b){return void 0===b&&(b=1),this.Tl[a].play(a,null,b)},stop:function(a){if(a)this.Tl[a].stop();else for(var b in this.Tl)this.Tl[b].stop()},get:function(a){return this.Tl[a]}},b.ls.prototype.constructor=b.ls,b.uj=function(a,c,d,f,e){void 0===d&&(d=1);void 0===f&&(f=!1);void 0===e&&(e=a.ma.PF);this.a=a;this.key=this.name=c;this.loop=f;this.Vi={};this.context=null;this.autoplay=!1;this.position=this.Qj=this.duration=
this.currentTime=this.startTime=this.kj=0;this.paused=!1;this.UI=this.FA=0;this.Ob=!1;this.Xf="";this.sG=null;this.OE=this.MI=this.Nn=!1;this.Rc=this.a.ma.Rc;this.Ud=this.a.ma.Ud;this.Y=this.Cf=this.NH=this.Mi=null;this.Rc?(this.context=this.a.ma.context,this.NH=this.a.ma.ck,void 0===this.context.createGain?this.Cf=this.context.createGainNode():this.Cf=this.context.createGain(),this.Cf.gain.value=d*this.a.ma.volume,e&&this.Cf.connect(this.NH)):this.Ud&&(this.a.cache.Qh(c)&&this.a.cache.AH(c)?(this.Y=
this.a.cache.Pu(c),this.kj=0,this.Y.duration&&(this.kj=this.Y.duration)):this.a.cache.HI.add(this.AW,this));this.qI=new b.D;this.Gl=new b.D;this.Ce=new b.D;this.Pd=new b.D;this.$i=new b.D;this.JI=new b.D;this.jk=new b.D;this.xA=new b.D;this.uI=new b.D;this.Di=d;this.Ts=null;this.bc=!1;this.Wx=this.Km=this.oE=this.Mp=this.Yx=this.Xx=0;this.WD=this.Zc=!1},b.uj.prototype={AW:function(a){a===this.key&&(this.Y=this.a.cache.Pu(this.key),this.kj=this.Y.duration)},ON:function(a,b,d,f,e){void 0!==d&&null!==
d||(d=1);void 0!==f&&null!==f||(f=1);void 0===e&&(e=!1);this.Vi[a]={name:a,start:b,stop:b+d,volume:f,duration:d,Qj:1E3*d,loop:e}},tI:function(){this.Y.onended=null;this.Ob=!1;this.currentTime=this.Qj;this.stop()},update:function(){return this.a.cache.tP(this.key)?(this.s3&&!this.WD&&(this.qI.s(this),this.WD=!0),this.Nn&&this.a.cache.AH(this.key)&&(this.Nn=!1,this.play(this.Xx,this.Yx,this.Mp,this.Wx)),void(this.Ob&&(this.currentTime=this.a.time.time-this.startTime,this.currentTime>=this.Qj&&(this.Rc?
this.loop?(this.$i.s(this),this.Ob=!1,""===this.Xf?(this.currentTime=0,this.startTime=this.a.time.time,this.Ob=!0):(this.xA.s(this.Xf,this),this.play(this.Xf,0,this.volume,!0,!0))):""!==this.Xf&&this.stop():this.loop?(this.$i.s(this),""===this.Xf&&(this.currentTime=0,this.startTime=this.a.time.time),this.Ob=!1,this.play(this.Xf,0,this.volume,!0,!0)):this.stop())))):void this.j()},play:function(a,b,d,f,e){if(void 0!==a&&!1!==a&&null!==a||(a=""),void 0===e&&(e=!0),this.Ob&&!this.OE&&!e&&!this.MI)return this;
if(this.Y&&this.Ob&&!this.OE&&(this.MI||e)){if(this.Rc){if(void 0===this.Y.stop)this.Y.noteOff(0);else try{this.Y.stop(0)}catch(p){}this.Mi?this.Y.disconnect(this.Mi):this.Cf&&this.Y.disconnect(this.Cf)}else this.Ud&&(this.Y.pause(),this.Y.currentTime=0);this.Ob=!1}if(""===a&&0<Object.keys(this.Vi).length)return this;if(""!==a){if(!this.Vi[a])return console.warn("Phaser.Sound.play: audio marker "+a+" doesn't exist"),this;this.Xf=a;this.position=this.Vi[a].start;this.volume=this.Vi[a].volume;this.loop=
this.Vi[a].loop;this.duration=this.Vi[a].duration;this.Qj=this.Vi[a].Qj;"undefined"!=typeof d&&(this.volume=d);"undefined"!=typeof f&&(this.loop=f);this.Xx=a;this.Yx=this.position;this.Mp=this.volume;this.Wx=this.loop}else b=b||0,void 0===d&&(d=this.Di),void 0===f&&(f=this.loop),this.position=Math.max(0,b),this.volume=d,this.loop=f,this.Qj=this.duration=0,this.Xx=a,this.Yx=b,this.Mp=d,this.Wx=f;return this.Rc?this.a.cache.$u(this.key)?(this.Y=this.context.createBufferSource(),this.Mi?this.Y.connect(this.Mi):
this.Y.connect(this.Cf),this.Ts=this.a.cache.Pu(this.key),this.Y.buffer=this.Ts,this.loop&&""===a&&(this.Y.loop=!0),this.loop||""!==a||(this.Y.onended=this.tI.bind(this)),this.kj=this.Y.buffer.duration,0===this.duration&&(this.duration=this.kj,this.Qj=Math.ceil(1E3*this.kj)),void 0===this.Y.start?this.Y.noteGrainOn(0,this.position,this.duration):this.loop&&""===a?this.Y.start(0,0):this.Y.start(0,this.position,this.duration),this.Ob=!0,this.startTime=this.a.time.time,this.currentTime=0,this.Gl.s(this)):
(this.Nn=!0,this.a.cache.Qh(this.key)&&!1===this.a.cache.Qh(this.key).Tz&&this.a.ma.decode(this.key,this)):this.a.cache.Qh(this.key)&&this.a.cache.Qh(this.key).locked?(this.a.cache.ZU(this.key),this.Nn=!0):this.Y&&(this.a.pa.xf||4===this.Y.readyState)?(this.Y.play(),this.kj=this.Y.duration,0===this.duration&&(this.duration=this.kj,this.Qj=1E3*this.kj),this.Y.currentTime=this.position,this.Y.muted=this.bc,this.bc||this.a.ma.iv?this.Y.volume=0:this.Y.volume=this.Di,this.Ob=!0,this.startTime=this.a.time.time,
this.currentTime=0,this.Gl.s(this)):this.Nn=!0,this},pause:function(){this.Ob&&this.Y&&(this.paused=!0,this.FA=this.currentTime,this.UI=this.a.time.time,this.oE=this.Y.currentTime,this.Ce.s(this),this.stop())},resume:function(){if(this.paused&&this.Y){if(this.Rc){var a=Math.max(0,this.position+this.FA/1E3);this.Y=this.context.createBufferSource();this.Y.buffer=this.Ts;this.Mi?this.Y.connect(this.Mi):this.Y.connect(this.Cf);this.loop&&(this.Y.loop=!0);this.loop||""!==this.Xf||(this.Y.onended=this.tI.bind(this));
var b=this.duration-this.FA/1E3;void 0===this.Y.start?this.Y.noteGrainOn(0,a,b):this.loop&&this.a.pa.chrome?42===this.a.pa.wF?this.Y.start(0):this.Y.start(0,a):this.Y.start(0,a,b)}else this.Y.currentTime=this.oE,this.Y.play();this.Ob=!0;this.paused=!1;this.startTime+=this.a.time.time-this.UI;this.Pd.s(this)}},stop:function(){if(this.Ob&&this.Y)if(this.Rc){if(void 0===this.Y.stop)this.Y.noteOff(0);else try{this.Y.stop(0)}catch(c){}this.Mi?this.Y.disconnect(this.Mi):this.Cf&&this.Y.disconnect(this.Cf)}else this.Ud&&
(this.Y.pause(),this.Y.currentTime=0);if(this.Nn=!1,this.Ob=!1,!this.paused){var a=this.Xf;""!==this.Xf&&this.xA.s(this.Xf,this);this.Xf="";null!==this.sG&&this.sG.stop();this.JI.s(this,a)}},kX:function(a){this.Ud&&this.Y&&(this.Y.volume=a*this.Di)},j:function(a){void 0===a&&(a=!0);this.stop();a?this.a.ma.remove(this):(this.Vi={},this.context=null,this.Ts=null,this.Mi=null,this.qI.Ga(),this.Gl.Ga(),this.Ce.Ga(),this.Pd.Ga(),this.$i.Ga(),this.JI.Ga(),this.jk.Ga(),this.xA.Ga())}},b.uj.prototype.constructor=
b.uj,Object.defineProperty(b.uj.prototype,"isDecoding",{get:function(){return this.a.cache.Qh(this.key).Tz}}),Object.defineProperty(b.uj.prototype,"isDecoded",{get:function(){return this.a.cache.$u(this.key)}}),Object.defineProperty(b.uj.prototype,"mute",{get:function(){return this.bc||this.a.ma.iv},set:function(a){a=a||!1;a!==this.bc&&(a?(this.bc=!0,this.Km=this.Mp,this.Rc?this.Cf.gain.value=0:this.Ud&&this.Y&&(this.Y.volume=0)):(this.bc=!1,this.Rc?this.Cf.gain.value=this.Km:this.Ud&&this.Y&&(this.Y.volume=
this.Km)),this.jk.s(this))}}),Object.defineProperty(b.uj.prototype,"volume",{get:function(){return this.Di},set:function(a){return this.a.pa.rn&&this.Ud&&(a=this.a.Pc.Vf(a,0,1)),this.bc?void(this.Km=a):(this.Mp=a,this.Di=a,void(this.Rc?this.Cf.gain.value=a:this.Ud&&this.Y&&(this.Y.volume=a)))}}),b.wm=function(a){this.a=a;this.GI=new b.D;this.XT=new b.D;this.jk=new b.D;this.BA=new b.D;this.context=null;this.If=this.Ud=this.Rc=!1;this.PF=!0;this.Fc=!1;this.kI=!0;this.bc=this.Sk=!1;this.Ue=null;this.Di=
1;this.pb=[];this.Kt=new b.ki;this.uE=!1;this.FN=this.EN=null},b.wm.prototype={ad:function(){if(window.gd){if(!0===window.gd.hQ)return this.If=!0,void(this.Fc=!1);if(!0===window.gd.p2)return this.Ud=!0,void(this.Fc=!1)}if(window.gd&&window.gd.SE)this.context=window.gd.SE;else if(window.AudioContext)try{this.context=new window.AudioContext}catch(a){this.context=null,this.Fc=this.Rc=!1}else if(window.webkitAudioContext)try{this.context=new window.webkitAudioContext}catch(a){this.context=null,this.Fc=
this.Rc=!1}if(null===this.context){if(void 0===window.Audio)return void(this.If=!0);this.Ud=!0}else this.Rc=!0,void 0===this.context.createGain?this.ck=this.context.createGainNode():this.ck=this.context.createGain(),this.ck.gain.value=1,this.ck.connect(this.context.destination);this.If||(!this.a.pa.xf&&this.a.pa.Vj||window.gd&&window.gd.FQ)&&this.rB()},rB:function(){this.If||window.gd&&!0===window.gd.hQ||(8<this.a.pa.iH?this.a.input.ah.ly(this.unlock,this,!0):this.a.input.ah.ly(this.unlock,this),
this.Fc=!0)},unlock:function(){if(this.If||!this.Fc||null!==this.Ue)return!0;if(this.Ud)this.Fc=!1,this.Ue=null;else if(this.Rc){var a=this.context.createBuffer(1,1,22050);this.Ue=this.context.createBufferSource();this.Ue.buffer=a;this.Ue.connect(this.context.destination);void 0===this.Ue.start?this.Ue.noteOn(0):this.Ue.start(0)}return!0},IW:function(){if(!this.If)for(var a=0;a<this.pb.length;a++)this.pb[a]&&this.pb[a].stop()},TI:function(){if(!this.If)for(var a=0;a<this.pb.length;a++)this.pb[a]&&
this.pb[a].pause()},zJ:function(){if(!this.If)for(var a=0;a<this.pb.length;a++)this.pb[a]&&this.pb[a].resume()},decode:function(a,b){b=b||null;var c=this.a.cache.Pu(a);if(c&&!1===this.a.cache.$u(a)){this.a.cache.xX(a,"isDecoding",!0);var f=this;try{this.context.decodeAudioData(c,function(c){c&&(f.a.cache.cQ(a,c),f.GI.s(a,b))})}catch(m){}}},update:function(){if(!this.If){!this.Fc||null===this.Ue||this.Ue.playbackState!==this.Ue.PLAYING_STATE&&this.Ue.playbackState!==this.Ue.FINISHED_STATE||(this.Fc=
!1,this.Ue=null);for(var a=0;a<this.pb.length;a++)this.pb[a].update();if(this.uE){for(a=this.Kt.first;a;)this.a.cache.$u(a)&&this.Kt.remove(a),a=this.Kt.next;0===this.Kt.total&&(this.uE=!1,this.EN.call(this.FN))}}},add:function(a,c,d,f){void 0===c&&(c=1);void 0===d&&(d=!1);void 0===f&&(f=this.PF);a=new b.uj(this.a,a,c,d,f);return this.pb.push(a),a},IE:function(a){return new b.ls(this.a,a)},remove:function(a){for(var b=this.pb.length;b--;)if(this.pb[b]===a)return this.pb[b].j(!1),this.pb.splice(b,
1),!0;return!1},play:function(a,b,d){if(!this.If)return a=this.add(a,b,d),a.play(),a},qk:function(){if(!this.bc){this.bc=!0;this.Rc&&(this.Km=this.ck.gain.value,this.ck.gain.value=0);for(var a=0;a<this.pb.length;a++)this.pb[a].Ud&&(this.pb[a].iv=!0);this.jk.s()}},fm:function(){if(this.bc&&!this.Sk){this.bc=!1;this.Rc&&(this.ck.gain.value=this.Km);for(var a=0;a<this.pb.length;a++)this.pb[a].Ud&&(this.pb[a].iv=!1);this.BA.s()}},j:function(){this.IW();for(var a=0;a<this.pb.length;a++)this.pb[a]&&this.pb[a].j();
this.pb=[];this.GI.Ga();this.context&&(window.gd?window.gd.SE=this.context:this.context.close&&this.context.close())}},b.wm.prototype.constructor=b.wm,Object.defineProperty(b.wm.prototype,"mute",{get:function(){return this.bc},set:function(a){a?this.bc||(this.Sk=!0,this.qk()):this.bc&&(this.Sk=!1,this.fm())}}),Object.defineProperty(b.wm.prototype,"volume",{get:function(){return this.Di},set:function(a){if(0>a?a=0:1<a&&(a=1),this.Di!==a){if(this.Di=a,this.Rc)this.ck.gain.value=a;else for(var b=0;b<
this.pb.length;b++)this.pb[b].Ud&&this.pb[b].kX(a);this.XT.s(a)}}}),b.Ya=function(a,c,d){this.a=a;this.Yf=b.lc;this.Ng=null;this.height=this.width=0;this.maxHeight=this.minHeight=this.maxWidth=this.minWidth=null;this.offset=new b.h;this.Lx=this.Kx=this.Wj=this.SQ=this.QQ=!1;this.ET=new b.D;this.CQ=new b.D;this.lS=new b.D;this.CR=!1;this.Cm=this.Hu=null;this.mT=new b.D;this.nT=new b.D;this.Vn=this.Yf.Bz();this.Uv=new b.h(1,1);this.GJ=new b.h(1,1);this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0};
this.l=new b.v;this.event=null;this.OX={right:"layout",bottom:""};this.Fg={JB:!1,vv:null,lI:!1,scrollTo:null,RQ:!1,mF:!0,IF:""};this.Fm=this.Jp=b.Ya.Uw;this.DA=!1;this.parentNode=null;this.Mn=new b.h(1,1);this.wK=2E3;this.FI=new b.D;this.pp=this.xt=this.OT=this.sv=null;this.Hm=new b.v;this.rE=new b.h(1,1);this.sE=new b.h(0,0);this.bl=this.RD=0;this.by=100;this.sh=new b.v;this.Lp=new b.v;this.PD=new b.v;this.QD=new b.v;this.xD=!1;a.Da&&this.Hl(a.Da);this.jW(c,d)},b.Ya.BC=0,b.Ya.Uw=1,b.Ya.SHOW_ALL=
2,b.Ya.Zw=3,b.Ya.tD=4,b.Ya.prototype={ad:function(){var a=this.Fg;a.JB=this.a.pa.vz&&!this.a.pa.xf;this.a.pa.jH||this.a.pa.ZK||this.a.pa.nq||(this.a.pa.Sp&&!this.a.pa.chrome?a.scrollTo=new b.h(0,1):a.scrollTo=new b.h(0,0));this.a.pa.nq?(a.vv="screen",a.IF="when-not-mouse"):(a.vv="",a.IF="");var c=this;this.aE=function(a){return c.$T(a)};this.vE=function(a){return c.PX(a)};window.addEventListener("orientationchange",this.aE,!1);window.addEventListener("resize",this.vE,!1);this.Fg.JB&&(this.yj=function(a){return c.YQ(a)},
this.zj=function(a){return c.ZQ(a)},document.addEventListener("webkitfullscreenchange",this.yj,!1),document.addEventListener("mozfullscreenchange",this.yj,!1),document.addEventListener("MSFullscreenChange",this.yj,!1),document.addEventListener("fullscreenchange",this.yj,!1),document.addEventListener("webkitfullscreenerror",this.zj,!1),document.addEventListener("mozfullscreenerror",this.zj,!1),document.addEventListener("MSFullscreenError",this.zj,!1),document.addEventListener("fullscreenerror",this.zj,
!1));this.a.Pd.add(this.LD,this);this.Yf.Nu(this.a.canvas,this.offset);this.l.P(this.offset.x,this.offset.y,this.width,this.height);this.TV(this.a.width,this.a.height);this.Vn=this.Yf.Bz(this.Fg.vv);b.Mo&&(this.Ng=new b.Mo(this,this.width,this.height));this.xD=!0;null!==this.xt&&(this.Qb=this.xt,this.xt=null)},Hl:function(a){void 0!==a.Qb&&(this.xD?this.Qb=a.Qb:this.xt=a.Qb);void 0!==a.uz&&(this.uz=a.uz);a.Hu&&(this.Hu=a.Hu)},jW:function(a,c){var d,f=new b.v;""!==this.a.parent&&("string"==typeof this.a.parent?
d=document.getElementById(this.a.parent):this.a.parent&&1===this.a.parent.nodeType&&(d=this.a.parent));d?(this.parentNode=d,this.DA=!1,this.xl(this.sh),f.width=this.sh.width,f.height=this.sh.height,this.offset.set(this.sh.x,this.sh.y)):(this.parentNode=null,this.DA=!0,f.width=this.Yf.re.width,f.height=this.Yf.re.height,this.offset.set(0,0));var e=d=0;"number"==typeof a?d=a:(this.Mn.x=parseInt(a,10)/100,d=f.width*this.Mn.x);"number"==typeof c?e=c:(this.Mn.y=parseInt(c,10)/100,e=f.height*this.Mn.y);
d=Math.floor(d);e=Math.floor(e);this.Hm.P(0,0,d,e);this.Pr(d,e,!1)},LD:function(){this.Ug(!0)},TV:function(a,c){this.Hm.P(0,0,a,c);this.ZF!==b.Ya.Zw&&this.Pr(a,c,!0);this.Ug(!0)},nW:function(){if(!b.v.FJ(this,this.PD)||!b.v.FJ(this.a,this.QD)){var a=this.width,c=this.height;this.PD.P(0,0,a,c);this.QD.P(0,0,this.a.width,this.a.height);this.Ng&&this.Ng.sv(a,c);this.FI.s(this,a,c);this.ZF===b.Ya.Zw&&(this.a.state.resize(a,c),this.a.load.resize(a,c))}},X:function(){if(!(this.a.time.time<this.RD+this.bl)){var a=
this.bl;this.by=400<=a?0:100;this.Yf.Nu(this.a.canvas,this.offset);var c=this.sh.width,d=this.sh.height,f=this.xl(this.sh),c=f.width!==c||f.height!==d,d=this.sX();(c||d)&&(this.sv&&this.sv.call(this.OT,this,f),this.WB(),this.nW());f=2*this.bl;this.bl<a&&(f=Math.min(a,this.by));this.bl=b.Math.Vf(f,25,this.wK);this.RD=this.a.time.time}},mr:function(){this.X();this.bl=this.wK},Pr:function(a,b,d){this.width=a*this.Mn.x;this.height=b*this.Mn.y;this.a.width=this.width;this.a.height=this.height;this.MK();
d&&(this.a.Ha.resize(this.width,this.height),this.a.K.Xn(this.width,this.height),this.a.g.resize(this.width,this.height))},MK:function(){this.Uv.x=this.a.width/this.width;this.Uv.y=this.a.height/this.height;this.GJ.x=this.width/this.a.width;this.GJ.y=this.height/this.a.height;this.a.canvas&&this.Yf.Nu(this.a.canvas,this.offset);this.l.P(this.offset.x,this.offset.y,this.width,this.height);this.a.input&&this.a.input.scale&&this.a.input.scale.P(this.Uv.x,this.Uv.y)},DF:function(a){return"portrait-primary"===
a||"portrait-secondary"===a?"portrait":"landscape-primary"===a||"landscape-secondary"===a?"landscape":null},sX:function(){var a=this.Vn,b=this.Wj;this.Vn=this.Yf.Bz(this.Fg.vv);this.Wj=this.QQ&&!this.u3||this.SQ&&!this.w3;var d=a!==this.Vn,f=b!==this.Wj;return f&&(this.Wj?this.CQ.s():this.lS.s()),(d||f)&&this.ET.s(this,a,b),d||f},$T:function(a){this.event=a;this.Ug(!0)},PX:function(a){this.event=a;this.Ug(!0)},scrollTop:function(){var a=this.Fg.scrollTo;a&&window.scrollTo(a.x,a.y)},refresh:function(){this.scrollTop();
this.Ug(!0)},WB:function(){var a=this.ZF;if(a===b.Ya.Zw)return void this.YU();(this.scrollTop(),this.Fg.RQ&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.Wj?this.VV():a===b.Ya.BC?this.RV():a===b.Ya.SHOW_ALL?!this.Bl&&this.MO&&this.Fg.mF?(this.qB(!0),this.Qv(),this.qB()):this.qB():a===b.Ya.Uw?(this.width=this.a.width,this.height=this.a.height):a===b.Ya.tD&&(this.width=this.a.width*this.rE.x-this.sE.x,this.height=this.a.height*this.rE.y-this.sE.y),this.Fg.mF||a!==b.Ya.SHOW_ALL&&
a!==b.Ya.tD)||(a=this.xl(this.Lp),this.width=Math.min(this.width,a.width),this.height=Math.min(this.height,a.height));this.width|=0;this.height|=0;this.XU()},xl:function(a){a=a||new b.v;var c=this.MO,d=this.Yf.re,f=this.Yf.Qi;if(c){var e=c.getBoundingClientRect(),c=c.offsetParent?c.offsetParent.getBoundingClientRect():c.getBoundingClientRect();a.P(e.left-c.left,e.top-c.top,e.width,e.height);e=this.OX;e.right&&(c="layout"===e.right?f:d,a.right=Math.min(a.right,c.width));e.bottom&&(c="layout"===e.bottom?
f:d,a.bottom=Math.min(a.bottom,c.height))}else a.P(0,0,d.width,d.height);return a.P(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)),a},LE:function(a,b){var c=this.xl(this.Lp),f=this.a.canvas,e=this.margin;if(a){e.left=e.right=0;var g=f.getBoundingClientRect();if(this.width<c.width&&!this.Wj){var h=g.left-c.x,k=c.width/2-this.width/2,k=Math.max(k,0);e.left=Math.round(k-h)}f.style.marginLeft=e.left+"px";0!==e.left&&(e.right=-(c.width-g.width-e.left),f.style.marginRight=e.right+
"px")}b&&(e.top=e.bottom=0,g=f.getBoundingClientRect(),this.height<c.height&&!this.Wj&&(h=g.top-c.y,k=c.height/2-this.height/2,k=Math.max(k,0),e.top=Math.round(k-h)),f.style.marginTop=e.top+"px",0!==e.top&&(e.bottom=-(c.height-g.height-e.top),f.style.marginBottom=e.bottom+"px"));e.x=e.left;e.y=e.top},YU:function(){this.Qv("","");var a=this.xl(this.Lp);this.Pr(a.width,a.height,!0)},XU:function(){this.Wj||(this.width=b.Math.Vf(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=b.Math.Vf(this.height,
this.minHeight||0,this.maxHeight||this.height));this.Qv();this.Fg.lI||(this.Bl&&this.Cm?this.LE(!0,!0):this.LE(this.E4,this.F4));this.MK()},Qv:function(a,b){void 0===a&&(a=this.width+"px");void 0===b&&(b=this.height+"px");var c=this.a.canvas;this.Fg.lI||(c.style.marginLeft="",c.style.marginTop="",c.style.marginRight="",c.style.marginBottom="");c.style.width=a;c.style.height=b},Ug:function(a){a&&(this.sh.width=0,this.sh.height=0);this.bl=this.by},reset:function(a){a&&this.Ng&&this.Ng.reset()},VV:function(){this.width=
this.Yf.re.width;this.height=this.Yf.re.height},qB:function(a){var b=this.xl(this.Lp),d=b.width,b=b.height;a=a?Math.max(b/this.a.height,d/this.a.width):Math.min(b/this.a.height,d/this.a.width);this.width=Math.round(this.a.width*a);this.height=Math.round(this.a.height*a)},RV:function(){var a=this.xl(this.Lp);this.width=a.width;this.height=a.height;this.Bl||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},EF:function(){var a=
this.Cm;if(a&&a.parentNode){var b=a.parentNode;b.insertBefore(this.a.canvas,a);b.removeChild(a)}this.Cm=null},Fv:function(a){var c=!!this.Cm,d=this.Cm||this.Hu;a?(c||this.uz===b.Ya.BC)&&d!==this.a.canvas&&(this.pp={QW:d.style.width,PW:d.style.height},d.style.width="100%",d.style.height="100%"):(this.pp&&(d.style.width=this.pp.QW,d.style.height=this.pp.PW,this.pp=null),this.Pr(this.Hm.width,this.Hm.height,!0),this.Qv())},YQ:function(a){this.event=a;this.Bl?(this.Fv(!0),this.WB(),this.Ug(!0)):(this.Fv(!1),
this.EF(),this.WB(),this.Ug(!0));this.mT.s(this,this.width,this.height)},ZQ:function(a){this.event=a;this.EF();console.warn("Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API");this.nT.s(this)},j:function(){this.a.Pd.remove(this.LD,this);window.removeEventListener("orientationchange",this.aE,!1);window.removeEventListener("resize",this.vE,!1);this.Fg.JB&&(document.removeEventListener("webkitfullscreenchange",this.yj,!1),document.removeEventListener("mozfullscreenchange",
this.yj,!1),document.removeEventListener("MSFullscreenChange",this.yj,!1),document.removeEventListener("fullscreenchange",this.yj,!1),document.removeEventListener("webkitfullscreenerror",this.zj,!1),document.removeEventListener("mozfullscreenerror",this.zj,!1),document.removeEventListener("MSFullscreenError",this.zj,!1),document.removeEventListener("fullscreenerror",this.zj,!1))}},b.Ya.prototype.constructor=b.Ya,Object.defineProperty(b.Ya.prototype,"boundingParent",{get:function(){return this.DA||
this.Bl&&this.CR&&!this.Cm?null:this.a.canvas&&this.a.canvas.parentNode||null}}),Object.defineProperty(b.Ya.prototype,"scaleMode",{get:function(){return this.Jp},set:function(a){return a!==this.Jp&&(this.Bl||(this.Pr(this.Hm.width,this.Hm.height,!0),this.Ug(!0)),this.Jp=a),this.Jp}}),Object.defineProperty(b.Ya.prototype,"fullScreenScaleMode",{get:function(){return this.Fm},set:function(a){return a!==this.Fm&&(this.Bl?(this.Fv(!1),this.Fm=a,this.Fv(!0),this.Ug(!0)):this.Fm=a),this.Fm}}),Object.defineProperty(b.Ya.prototype,
"currentScaleMode",{get:function(){return this.Bl?this.Fm:this.Jp}}),Object.defineProperty(b.Ya.prototype,"pageAlignHorizontally",{get:function(){return this.Kx},set:function(a){a!==this.Kx&&(this.Kx=a,this.Ug(!0))}}),Object.defineProperty(b.Ya.prototype,"pageAlignVertically",{get:function(){return this.Lx},set:function(a){a!==this.Lx&&(this.Lx=a,this.Ug(!0))}}),Object.defineProperty(b.Ya.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||
document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(b.Ya.prototype,"isPortrait",{get:function(){return"portrait"===this.DF(this.Vn)}}),Object.defineProperty(b.Ya.prototype,"isLandscape",{get:function(){return"landscape"===this.DF(this.Vn)}}),Object.defineProperty(b.Ya.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(b.Ya.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),b.nc.os=function(a){this.a=
a;this.context=this.canvas=this.Lc=this.b=null;this.font="14px Courier";this.NF=100;this.lineHeight=16;this.rJ=!0;this.iq=this.$F=0;this.XP=1;this.m=!1},b.nc.os.prototype={ad:function(){this.a.Fe===b.li?this.context=this.a.context:(this.Lc=new b.Ke(this.a,"__DEBUG",this.a.width,this.a.height,!0),this.b=this.a.Fl.qb(0,0,this.Lc),this.a.ic.cl(this.b),this.a.scale.FI.add(this.resize,this),this.canvas=PIXI.ab.create(this,this.a.width,this.a.height),this.context=this.canvas.getContext("2d"))},resize:function(a,
b,d){this.Lc.resize(b,d);this.canvas.width=b;this.canvas.height=d},X:function(){this.m&&this.b&&(this.Lc.clear(),this.Lc.Pj(this.canvas,0,0),this.context.clearRect(0,0,this.a.width,this.a.height),this.m=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.a.width,this.a.height);this.b&&this.Lc.clear()},start:function(a,b,d,f){"number"!=typeof a&&(a=0);"number"!=typeof b&&(b=0);d=d||"rgb(255,255,255)";void 0===f&&(f=0);this.$F=a;this.iq=b;this.YP=d;this.NF=f;this.m=!0;this.context.save();
this.context.setTransform(1,0,0,1,0,0);this.context.strokeStyle=d;this.context.fillStyle=d;this.context.font=this.font;this.context.globalAlpha=this.XP},stop:function(){this.context.restore()},Ff:function(){for(var a=this.$F,b=0;b<arguments.length;b++)this.rJ&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[b],a+1,this.iq+1),this.context.fillStyle=this.YP),this.context.fillText(arguments[b],a,this.iq),a+=this.NF;this.iq+=this.lineHeight},UW:function(a,b,d,f){this.start(b,d,f);
this.Ff("Timer (running: "+a.kg+" expired: "+a.zu+")");this.Ff("Next Tick: "+a.next+" Duration: "+a.duration);this.Ff("Paused: "+a.paused+" Length: "+a.length);this.stop()},key:function(a,b,d,f){this.start(b,d,f,150);this.Ff("Key:",a.keyCode,"isDown:",a.va);this.Ff("justDown:",a.z3,"justUp:",a.A3);this.Ff("Time Down:",a.Rd.toFixed(0),"duration:",a.duration.toFixed(0));this.stop()},Bq:function(a,c,d,f){void 0===d&&(d=!0);void 0===f&&(f=0);c=c||"rgba(0,255,0,0.4)";this.start();this.context.fillStyle=
c;this.context.strokeStyle=c;a instanceof b.v||1===f?d?this.context.fillRect(a.x-this.a.K.x,a.y-this.a.K.y,a.width,a.height):this.context.strokeRect(a.x-this.a.K.x,a.y-this.a.K.y,a.width,a.height):a instanceof b.ob||2===f?(this.context.beginPath(),this.context.arc(a.x-this.a.K.x,a.y-this.a.K.y,a.w,0,2*Math.PI,!1),this.context.closePath(),d?this.context.fill():this.context.stroke()):a instanceof b.h||3===f?this.context.fillRect(a.x-this.a.K.x,a.y-this.a.K.y,4,4):(a instanceof b.sb||4===f)&&(this.context.lineWidth=
1,this.context.beginPath(),this.context.moveTo(a.start.x+.5-this.a.K.x,a.start.y+.5-this.a.K.y),this.context.lineTo(a.end.x+.5-this.a.K.x,a.end.y+.5-this.a.K.y),this.context.closePath(),this.context.stroke());this.stop()},WU:function(a,b,d){void 0===d&&(d=!0);b=b||"rgba(0, 255, 0, 0.4)";this.start();d?(this.context.fillStyle=b,this.context.fillRect(a.x-this.a.K.x,a.y-this.a.K.y,a.width,a.height)):(this.context.strokeStyle=b,this.context.strokeRect(a.x-this.a.K.x,a.y-this.a.K.y,a.width,a.height));
this.stop()},text:function(a,b,d,f,e){f=f||"rgb(255,255,255)";e=e||"16px Courier";this.start();this.context.font=e;this.rJ&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(a,b+1,d+1));this.context.fillStyle=f;this.context.fillText(a,b,d);this.stop()},Qn:function(a,b){b=b||"rgba(255,0,0,0.3)";this.start();var c=a.l;if(0===a.Zb.length)for(this.context.strokeStyle=b,this.context.strokeRect(c.x,c.y,c.width,c.height),this.text("size: "+a.ga.length,c.x+4,c.y+16,"rgb(0,200,0)","12px Courier"),
this.context.strokeStyle="rgb(0,255,0)",c=0;c<a.ga.length;c++)this.context.strokeRect(a.ga[c].x,a.ga[c].y,a.ga[c].width,a.ga[c].height);else for(c=0;c<a.Zb.length;c++)this.Qn(a.Zb[c]);this.stop()},body:function(a,c,d){a.body&&(this.start(),a.body.type===b.f.nj?b.f.$.Body.Xa(this.context,a.body,c,d):a.body.type===b.f.Tw?b.f.SC.Body.Xa(this.context,a.body,c,d):a.body.type===b.f.ms&&b.f.uL.P4(this.context,a.body,c),this.stop())},j:function(){PIXI.ab.remove(this)}},b.nc.os.prototype.constructor=b.nc.os,
b.lc={Nu:function(a,c){c=c||new b.h;var d=a.getBoundingClientRect(),f=b.lc.scrollY,e=document.documentElement.clientTop;return c.x=d.left+b.lc.scrollX-document.documentElement.clientLeft,c.y=d.top+f-e,c},xa:function(a,b){return void 0===b&&(b=0),a=a&&!a.nodeType?a[0]:a,!(!a||1!==a.nodeType)&&this.hP(a.getBoundingClientRect(),b)},hP:function(a,b){b=+b||0;var c={width:0,height:0,left:0,right:0,top:0,bottom:0};return c.width=(c.right=a.right+b)-(c.left=a.left-b),c.height=(c.bottom=a.bottom+b)-(c.top=
a.top-b),c},N2:function(a){a=null==a?this.re:1===a.nodeType?this.xa(a):a;var b=a.width,d=a.height;return"function"==typeof b&&(b=b.call(a)),"function"==typeof d&&(d=d.call(a)),b/d},k3:function(a,b){var c=this.xa(a,b);return!!c&&0<=c.bottom&&0<=c.right&&c.top<=this.Qi.width&&c.left<=this.Qi.height},Bz:function(a){var b=window.screen,d=b.orientation||b.R3||b.W3;if(d&&"string"==typeof d.type)return d.type;if("string"==typeof d)return d;if("screen"===a)return b.height>b.width?"portrait-primary":"landscape-primary";
if("viewport"===a)return this.re.height>this.re.width?"portrait-primary":"landscape-primary";if("window.orientation"===a&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?"portrait-primary":"landscape-primary";if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return"portrait-primary";if(window.matchMedia("(orientation: landscape)").matches)return"landscape-primary"}return this.re.height>this.re.width?"portrait-primary":"landscape-primary"},
re:new b.v,Qi:new b.v,su:new b.v},b.Me.cL(function(a){var c=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},d=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};Object.defineProperty(b.lc,"scrollX",{get:c});Object.defineProperty(b.lc,"scrollY",{get:d});Object.defineProperty(b.lc.re,"x",{get:c});Object.defineProperty(b.lc.re,"y",{get:d});Object.defineProperty(b.lc.Qi,
"x",{value:0});Object.defineProperty(b.lc.Qi,"y",{value:0});a.nq&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight?(a=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},c=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)},Object.defineProperty(b.lc.re,"width",{get:a}),Object.defineProperty(b.lc.re,"height",{get:c}),Object.defineProperty(b.lc.Qi,"width",{get:a}),Object.defineProperty(b.lc.Qi,
"height",{get:c})):(Object.defineProperty(b.lc.re,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(b.lc.re,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(b.lc.Qi,"width",{get:function(){var a=document.documentElement.clientWidth,b=window.innerWidth;return a<b?b:a}}),Object.defineProperty(b.lc.Qi,"height",{get:function(){var a=document.documentElement.clientHeight,b=window.innerHeight;return a<b?b:a}}));Object.defineProperty(b.lc.su,"x",{value:0});
Object.defineProperty(b.lc.su,"y",{value:0});Object.defineProperty(b.lc.su,"width",{get:function(){var a=document.documentElement;return Math.max(a.clientWidth,a.offsetWidth,a.scrollWidth)}});Object.defineProperty(b.lc.su,"height",{get:function(){var a=document.documentElement;return Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight)}})},null,!0),b.ki=function(a){this.position=0;this.list=a||[]},b.ki.prototype={add:function(a){return this.Ia(a)||this.list.push(a),a},Mg:function(a){return this.list.indexOf(a)},
PG:function(a,b){for(var c=this.list.length;c--;)if(this.list[c][a]===b)return this.list[c];return null},Ia:function(a){return-1<this.list.indexOf(a)},reset:function(){this.list.length=0},remove:function(a){var b=this.list.indexOf(a);if(-1<b)return this.list.splice(b,1),a},Wn:function(a,b){for(var c=this.list.length;c--;)this.list[c]&&(this.list[c][a]=b)},zy:function(a){for(var b=Array.prototype.slice.call(arguments,1),d=this.list.length;d--;)this.list[d]&&this.list[d][a]&&this.list[d][a].apply(this.list[d],
b)},$b:function(a){void 0===a&&(a=!1);for(var b=this.list.length;b--;)if(this.list[b]){var d=this.remove(this.list[b]);a&&d.j()}this.position=0;this.list=[]}},Object.defineProperty(b.ki.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(b.ki.prototype,"first",{get:function(){return this.position=0,0<this.list.length?this.list[0]:null}}),Object.defineProperty(b.ki.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):
null}}),b.ki.prototype.constructor=b.ki,b.Dw={U2:function(a,b,d){if(null===a)return null;void 0===b&&(b=0);void 0===d&&(d=a.length);b+=Math.floor(Math.random()*d);return void 0===a[b]?null:a[b]},O4:function(a,b,d){if(null==a)return null;void 0===b&&(b=0);void 0===d&&(d=a.length);b+=Math.floor(Math.random()*d);return b<a.length?(a=a.splice(b,1),void 0===a[0]?null:a[0]):null},SJ:function(a){for(var b=a.length-1;0<b;b--){var d=Math.floor(Math.random()*(b+1)),f=a[b];a[b]=a[d];a[d]=f}return a},zK:function(a){for(var b=
a.length,d=a[0].length,f=Array(d),e=0;e<d;e++){f[e]=Array(b);for(var g=b-1;-1<g;g--)f[e][g]=a[g][e]}return f},W4:function(a,c){if("string"!=typeof c&&(c=(c%360+360)%360),90===c||-270===c||"rotateLeft"===c)a=b.Dw.zK(a),a=a.reverse();else if(-90===c||270===c||"rotateRight"===c)a=a.reverse(),a=b.Dw.zK(a);else if(180===Math.abs(c)||"rotate180"===c){for(var d=0;d<a.length;d++)a[d].reverse();a=a.reverse()}return a},y2:function(a,b){if(!b.length)return NaN;if(1===b.length||a<b[0])return b[0];for(var c=1;b[c]<
a;)c++;var f=b[c-1],c=c<b.length?b[c]:Number.POSITIVE_INFINITY;return c-a<=a-f?c:f},CV:function(a){var b=a.pop();return a.unshift(b),b},BV:function(a){var b=a.shift();return a.push(b),b},rotate:function(a){var b=a.shift();return a.push(b),b},f4:function(a,b){for(var c=[],f=a;f<=b;f++)c.push(f);return c},g4:function(a,c,d){void 0!==a&&null!==a||(a=0);void 0!==c&&null!==c||(c=a,a=0);void 0===d&&(d=1);var f=[];c=Math.max(b.Math.EV((c-a)/(d||1)),0);for(var e=0;e<c;e++)f.push(a),a+=d;return f}},b.Qw=function(){this.Ef=
this.first=this.da=this.next=null;this.total=0},b.Qw.prototype={add:function(a){return 0===this.total&&null===this.first&&null===this.Ef?(this.first=a,this.Ef=a,this.next=a,a.da=this,this.total++,a):(this.Ef.next=a,a.da=this.Ef,this.Ef=a,this.total++,a)},reset:function(){this.da=this.next=this.Ef=this.first=null;this.total=0},remove:function(a){return 1===this.total?(this.reset(),void(a.next=a.da=null)):(a===this.first?this.first=this.first.next:a===this.Ef&&(this.Ef=this.Ef.da),a.da&&(a.da.next=
a.next),a.next&&(a.next.da=a.da),a.next=a.da=null,null===this.first&&(this.Ef=null),void this.total--)},zy:function(a){if(this.first&&this.Ef){var b=this.first;do b&&b[a]&&b[a].call(b),b=b.next;while(b!==this.Ef.next)}}},b.Qw.prototype.constructor=b.Qw,b.oi=function(a){this.a=a;this.Bh=this.canvas=this.Lc=null;this.eU=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",vo:"#44891A",xo:"#A3CE27",Bo:"#1B2632",Go:"#005784",E:"#31A2F2",Lo:"#B2DCEF"},
{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",vo:"#d6b97b",xo:"#e9d8a1",Bo:"#216c4b",Go:"#d365c8",E:"#afaab9",Lo:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",vo:"#6cd947",xo:"#7be2f9",Bo:"#eb8a60",Go:"#e23d69",E:"#ffd93f",Lo:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",
vo:"#bd736a",xo:"#525252",Bo:"#838383",Go:"#acee8b",E:"#7b73de",Lo:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",vo:"#d6b97b",xo:"#e9d8a1",Bo:"#216c4b",Go:"#d365c8",E:"#afaab9",Lo:"#fff"}]},b.oi.w_=0,b.oi.A_=1,b.oi.y_=2,b.oi.x_=3,b.oi.z_=4,b.oi.prototype={c:function(a,b,d,f,e){void 0===d&&(d=8);void 0===f&&(f=d);void 0===e&&(e=0);var c=b[0].length*d,g=b.length*f;null===this.Lc&&(this.Lc=this.a.Fl.gl(),this.canvas=this.Lc.canvas,
this.Bh=this.Lc.context);this.Lc.resize(c,g);this.Lc.clear();for(c=0;c<b.length;c++)for(var g=b[c],m=0;m<g.length;m++){var h=g[m];"."!==h&&" "!==h&&(this.Bh.fillStyle=this.eU[e][h],this.Bh.fillRect(m*d,c*f,d,f))}return this.Lc.Iu(a)},Ng:function(a,b,d,f,e,g){null===this.Lc&&(this.Lc=this.a.Fl.gl(),this.canvas=this.Lc.canvas,this.Bh=this.Lc.context);this.Lc.resize(b,d);this.Bh.fillStyle=g;for(g=0;g<d;g+=e)this.Bh.fillRect(0,g,b,1);for(e=0;e<b;e+=f)this.Bh.fillRect(e,0,1,d);return this.Lc.Iu(a)}},b.oi.prototype.constructor=
b.oi,b.Mo=function(a,c,d){this.a=a.a;this.Od=a;this.width=c;this.height=d;new b.v(0,0,c,d);this.ce=new b.v(0,0,c,d);this.Tt=new b.v(0,0,c,d);this.Zp=new b.v(0,0,c,d);new b.h(0,0);this.zU=new b.h(0,0);new b.h(0,0);this.AU=new b.h(0,0);new b.h(1,1);this.IV=new b.h(1,1);this.yr=new b.h(1,1);this.JV=new b.h(1,1);new b.h(1,1);this.Dn=0;this.ba=[]},b.Mo.prototype={Xn:function(a,c){this.width=a;this.height=c;new b.h(1,1);this.Zp.width=this.width;this.Zp.height=this.height;this.refresh()},reset:function(){for(var a=
this.ba.length;a--;)this.ba[a].pU||(this.ba[a].position=null,this.ba[a].scale=null,this.ba.slice(a,1))},sv:function(a,b){this.refresh(a,b)},refresh:function(){this.Dn=Math.min(this.Od.height/this.height,this.Od.width/this.width);this.ce.width=Math.round(this.width*this.Dn);this.ce.height=Math.round(this.height*this.Dn);this.IV.set(this.ce.width/this.width,this.ce.height/this.height);this.yr.set(this.width/this.ce.width,this.height/this.ce.height);this.JV.set(this.Tt.width/this.width,this.Tt.height/
this.height);this.Tt.width=Math.round(this.Od.width*this.yr.x);this.Tt.height=Math.round(this.Od.height*this.yr.y);this.ce.Fi(this.Od.l.qd,this.Od.l.rd);this.Zp.Fi(this.Od.l.qd,this.Od.l.rd);this.zU.set(this.ce.x,this.ce.y);this.AU.set(this.Zp.x,this.Zp.y)},debug:function(){this.a.debug.text(this.ce.width+" x "+this.ce.height,this.ce.x+4,this.ce.y+16);this.a.debug.Bq(this.ce,"rgba(255,0,0,0.9",!1)}},b.Mo.prototype.constructor=b.Mo,b.No=function(a,c,d,f){b.G.call(this,a.a,null,"__flexLayer"+a.a.sc.Rr(),
!1);this.Od=a.Od;this.Ng=a;this.pU=!1;this.position=c;this.l=d;this.scale=f;this.nK=d.nK;this.ZW=new b.h(d.Bc,0);this.oK=d.oK;this.KO=d.KO;new b.h(d.Bc,d.bottom);this.LO=d.LO},b.No.prototype=Object.create(b.G.prototype),b.No.prototype.constructor=b.No,b.No.prototype.resize=function(){},b.No.prototype.debug=function(){this.a.debug.text(this.l.width+" x "+this.l.height,this.l.x+4,this.l.y+16);this.a.debug.Bq(this.l,"rgba(0,0,255,0.9",!1);this.a.debug.Bq(this.nK,"rgba(255,255,255,0.9");this.a.debug.Bq(this.ZW,
"rgba(255,255,255,0.9");this.a.debug.Bq(this.oK,"rgba(255,255,255,0.9")},b.ia={z4:function(a,c,d,f){return b.Me.Pw?(f<<24|d<<16|c<<8|a)>>>0:(a<<24|c<<16|d<<8|f)>>>0},gX:function(a,c,d,f){return void 0!==c&&null!==c||(c=b.ia.Ah()),void 0!==d&&null!==d||(d=!1),void 0!==f&&null!==f||(f=!1),b.Me.Pw?(c.R=(4278190080&a)>>>24,c.L=(16711680&a)>>>16,c.vb=(65280&a)>>>8,c.r=255&a):(c.r=(4278190080&a)>>>24,c.vb=(16711680&a)>>>16,c.L=(65280&a)>>>8,c.R=255&a),c.color=a,c.wr="rgba("+c.r+","+c.vb+","+c.L+","+c.R/
255+")",d&&b.ia.wM(c.r,c.vb,c.L,c),f&&b.ia.xM(c.r,c.vb,c.L,c),c},E2:function(a,c){return c||(c=b.ia.Ah()),c.r=(4278190080&a)>>>24,c.vb=(16711680&a)>>>16,c.L=(65280&a)>>>8,c.R=255&a,c.wr="rgba("+c.r+","+c.vb+","+c.L+","+c.R+")",c},w5:function(a,b,d,f){return a<<24|b<<16|d<<8|f},v5:function(a,b,d,f){return(f<<24|d<<16|b<<8|a)>>>0},wM:function(a,c,d,f){f||(f=b.ia.Ah(a,c,d,1));a/=255;c/=255;d/=255;var e=Math.min(a,c,d),g=Math.max(a,c,d);if(f.sd=0,f.iB=0,f.HH=(g+e)/2,g!==e){var h=g-e;f.iB=.5<f.HH?h/(2-
g-e):h/(g+e);g===a?f.sd=(c-d)/h+(c<d?6:0):g===c?f.sd=(d-a)/h+2:g===d&&(f.sd=(a-c)/h+4);f.sd/=6}return f},QL:function(a,c,d,f){if(f?(f.r=d,f.vb=d,f.L=d):f=b.ia.Ah(d,d,d),0!==c)c=.5>d?d*(1+c):d+c-d*c,d=2*d-c,f.r=b.ia.Mz(d,c,a+1/3),f.vb=b.ia.Mz(d,c,a),f.L=b.ia.Mz(d,c,a-1/3);return f.r=Math.floor(255*f.r|0),f.vb=Math.floor(255*f.vb|0),f.L=Math.floor(255*f.L|0),b.ia.Or(f),f},xM:function(a,c,d,f){f||(f=b.ia.Ah(a,c,d,255));a/=255;c/=255;d/=255;var e=Math.min(a,c,d),g=Math.max(a,c,d),h=g-e;return f.sd=0,
f.iB=0===g?0:h/g,f.aC=g,g!==e&&(g===a?f.sd=(c-d)/h+(c<d?6:0):g===c?f.sd=(d-a)/h+2:g===d&&(f.sd=(a-c)/h+4),f.sd/=6),f},RL:function(a,c,d,f){void 0===f&&(f=b.ia.Ah(0,0,0,1,a,c,0,d));var e,g,h,k=Math.floor(6*a),l=6*a-k;a=d*(1-c);var n=d*(1-l*c);c=d*(1-(1-l)*c);switch(k%6){case 0:e=d;g=c;h=a;break;case 1:e=n;g=d;h=a;break;case 2:e=a;g=d;h=c;break;case 3:e=a;g=n;h=d;break;case 4:e=c;g=a;h=d;break;case 5:e=d,g=a,h=n}return f.r=Math.floor(255*e),f.vb=Math.floor(255*g),f.L=Math.floor(255*h),b.ia.Or(f),f},
Mz:function(a,b,d){return 0>d&&(d+=1),1<d&&--d,d<1/6?a+6*(b-a)*d:.5>d?b:d<2/3?a+(b-a)*(2/3-d)*6:a},Ah:function(a,c,d,f,e,g,h,k){return b.ia.Or({r:a||0,vb:c||0,L:d||0,R:f||1,sd:e||0,iB:g||0,HH:h||0,aC:k||0,color:0,GP:0,wr:""})},Or:function(a){return a.wr="rgba("+a.r.toString()+","+a.vb.toString()+","+a.L.toString()+","+a.R.toString()+")",a.color=b.ia.Ku(a.r,a.vb,a.L),a.GP=b.ia.Lu(255*a.R,a.r,a.vb,a.L),a},Lu:function(a,b,d,f){return a<<24|b<<16|d<<8|f},Ku:function(a,b,d){return a<<16|b<<8|d},k0:function(a,
c,d,f,e){return void 0===f&&(f=255),void 0===e&&(e="#"),"#"===e?"#"+(16777216+(a<<16)+(c<<8)+d).toString(16).slice(1):"0x"+b.ia.Nj(f)+b.ia.Nj(a)+b.ia.Nj(c)+b.ia.Nj(d)},c3:function(a){if(a=b.ia.fH(a))return b.ia.Lu(a.R,a.r,a.vb,a.L)},fH:function(a,c){a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});var d=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(d){var f=parseInt(d[1],16),e=parseInt(d[2],16),d=parseInt(d[3],16);c?(c.r=f,c.vb=e,c.L=d):
c=b.ia.Ah(f,e,d)}return c},NX:function(a,c){c||(c=b.ia.Ah());var d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a);return d&&(c.r=parseInt(d[1],10),c.vb=parseInt(d[2],10),c.L=parseInt(d[3],10),c.R=void 0!==d[4]?parseFloat(d[4]):1,b.ia.Or(c)),c},HX:function(a,c){if(c||(c=b.ia.Ah()),"string"==typeof a)return 0===a.indexOf("rgb")?b.ia.NX(a,c):(c.R=1,b.ia.fH(a,c));if("number"==typeof a){var d=b.ia.Eq(a);return c.r=d.r,c.vb=d.vb,c.L=d.L,c.R=d.R/255,c}return c},Nj:function(a){a=
a.toString(16);return 1===a.length?"0"+a:a},FZ:function(a,c){void 0===a&&(a=1);void 0===c&&(c=1);for(var d=[],f=0;359>=f;f++)d.push(b.ia.RL(f/359,a,c));return d},EZ:function(a,c){void 0===a&&(a=.5);void 0===c&&(c=.5);for(var d=[],f=0;359>=f;f++)d.push(b.ia.QL(f/359,a,c));return d},n3:function(a,c,d,f,e){void 0===e&&(e=255);a=b.ia.Eq(a);c=b.ia.Eq(c);return b.ia.Lu(e,(c.red-a.red)*f/d+a.red,(c.green-a.green)*f/d+a.green,(c.blue-a.blue)*f/d+a.blue)},o3:function(a,c,d,f,e,g){a=b.ia.Eq(a);return b.ia.Ku((c-
a.red)*g/e+a.red,(d-a.green)*g/e+a.green,(f-a.blue)*g/e+a.blue)},p3:function(a,c,d,f,e,g,h,k){return b.ia.Ku((f-a)*k/h+a,(e-c)*k/h+c,(g-d)*k/h+d)},T2:function(a,c,d){return(void 0===a&&(a=0),void 0===c&&(c=255),void 0===d&&(d=255),255<c||a>c)?b.ia.Ku(255,255,255):b.ia.Lu(d,a+Math.round(Math.random()*(c-a)),a+Math.round(Math.random()*(c-a)),a+Math.round(Math.random()*(c-a)))},Eq:function(a){return 16777215<a?{alpha:a>>>24,red:a>>16&255,green:a>>8&255,blue:255&a,R:a>>>24,r:a>>16&255,vb:a>>8&255,L:255&
a}:{alpha:255,red:a>>16&255,green:a>>8&255,blue:255&a,R:255,r:a>>16&255,vb:a>>8&255,L:255&a}},a3:function(a){if("object"==typeof a)return"rgba("+a.r.toString()+","+a.vb.toString()+","+a.L.toString()+","+(a.R/255).toString()+")";a=b.ia.Eq(a);return"rgba("+a.r.toString()+","+a.vb.toString()+","+a.L.toString()+","+(a.R/255).toString()+")"},L2:function(a){return a>>>24},M2:function(a){return(a>>>24)/255},V2:function(a){return a>>16&255},Q2:function(a){return a>>8&255},O2:function(a){return 255&a},V1:function(a){return a},
$E:function(a,b){return b>a?b:a},ZE:function(a,b){return b>a?a:b},CO:function(a,b){return a*b/255},Q1:function(a,b){return(a+b)/2},WE:function(a,b){return Math.min(255,a+b)},GO:function(a,b){return Math.max(0,a+b-255)},xO:function(a,b){return Math.abs(a-b)},U1:function(a,b){return 255-Math.abs(255-a-b)},EO:function(a,b){return 255-((255-a)*(255-b)>>8)},yO:function(a,b){return a+b-2*a*b/255},aF:function(a,b){return 128>b?2*a*b/255:255-2*(255-a)*(255-b)/255},FO:function(a,b){return 128>b?b/255*((a>>
1)+64)*2:255-2*(255-((a>>1)+64))*(255-b)/255},zO:function(a,c){return b.ia.aF(c,a)},YE:function(a,b){return 255===b?b:Math.min(255,(a<<8)/(255-b))},XE:function(a,b){return 0===b?b:Math.max(0,255-(255-a<<8)/b)},BO:function(a,c){return b.ia.WE(a,c)},AO:function(a,c){return b.ia.GO(a,c)},T1:function(a,c){return 128>c?b.ia.AO(a,2*c):b.ia.BO(a,2*(c-128))},HO:function(a,c){return 128>c?b.ia.XE(a,2*c):b.ia.YE(a,2*(c-128))},X1:function(a,c){return 128>c?b.ia.ZE(a,2*c):b.ia.$E(a,2*(c-128))},S1:function(a,
c){return 128>b.ia.HO(a,c)?0:255},DO:function(a,b){return 255===b?b:Math.min(255,a*a/(255-b))},R1:function(a,c){return b.ia.DO(c,a)},W1:function(a,b){return Math.min(a,b)-Math.max(a,b)+255}},b.f=function(a,b){b=b||{};this.a=a;this.Da=b;this.Qc=this.Mc=this.hk=this.Va=this.Id=null;this.Hl()},b.f.nj=0,b.f.Qo=1,b.f.Tw=2,b.f.ms=3,b.f.JY=4,b.f.PC=5,b.f.prototype={Hl:function(){this.Da.hasOwnProperty("arcade")&&!0!==this.Da.Id||!b.f.hasOwnProperty("Arcade")||(this.Id=new b.f.$(this.a));this.Da.hasOwnProperty("ninja")&&
!0===this.Da.hk&&b.f.hasOwnProperty("Ninja")&&(this.hk=new b.f.SC(this.a));this.Da.hasOwnProperty("p2")&&!0===this.Da.Va&&b.f.hasOwnProperty("P2")&&(this.Va=new b.f.o(this.a,this.Da));this.Da.hasOwnProperty("box2d")&&!0===this.Da.Mc&&b.f.hasOwnProperty("BOX2D")&&(this.Mc=new b.f.ms(this.a,this.Da));this.Da.hasOwnProperty("matter")&&!0===this.Da.Qc&&b.f.hasOwnProperty("Matter")&&(this.Qc=new b.f.hM(this.a,this.Da))},GW:function(a){a===b.f.nj?this.Id=new b.f.$(this.a):a===b.f.Qo?null===this.Va?this.Va=
new b.f.o(this.a,this.Da):this.Va.reset():a===b.f.Tw?this.hk=new b.f.SC(this.a):a===b.f.ms?null===this.Mc?this.Mc=new b.f.uL(this.a,this.Da):this.Mc.reset():a===b.f.PC&&(null===this.Qc?this.Qc=new b.f.hM(this.a,this.Da):this.Qc.reset())},enable:function(a,c,d){void 0===c&&(c=b.f.nj);void 0===d&&(d=!1);c===b.f.nj?this.Id.enable(a):c===b.f.Qo&&this.Va?this.Va.enable(a,d):c===b.f.Tw&&this.hk?this.hk.v2(a):c===b.f.ms&&this.Mc?this.Mc.enable(a):c===b.f.PC&&this.Qc?this.Qc.enable(a):console.warn(a.key+
" is attempting to enable a physics body using an unknown physics system.")},X:function(){this.Va&&this.Va.X();this.Mc&&this.Mc.X();this.Qc&&this.Qc.X()},update:function(){this.Va&&this.Va.update();this.Mc&&this.Mc.update();this.Qc&&this.Qc.update()},ef:function(){this.Id&&this.Id.ef();this.hk&&this.hk.ef();this.Va&&this.Va.ef();this.Mc&&this.Mc.ef();this.Qc&&this.Qc.ef()},clear:function(){this.Va&&this.Va.clear();this.Mc&&this.Mc.clear();this.Qc&&this.Qc.clear()},reset:function(){this.Va&&this.Va.reset();
this.Mc&&this.Mc.reset();this.Qc&&this.Qc.reset()},j:function(){this.Va&&this.Va.j();this.Mc&&this.Mc.j();this.Qc&&this.Qc.j();this.Qc=this.Mc=this.Va=this.hk=this.Id=null}},b.f.prototype.constructor=b.f,b.f.$=function(a){this.a=a;this.Ab=new b.h;this.l=new b.v(0,0,a.g.width,a.g.height);this.ee={Rb:!0,Nb:!0,left:!0,right:!0};this.Xi=10;this.TC=this.Wi=4;this.TQ=!1;this.ei=b.f.$.ys;this.xB=!0;this.dg=!1;this.Qn=new b.tj(this.a.g.l.x,this.a.g.l.y,this.a.g.l.width,this.a.g.l.height,this.Xi,this.Wi);
this.Fj=0;this.ef()},b.f.$.prototype.constructor=b.f.$,b.f.$.DM=0,b.f.$.ys=1,b.f.$.bx=2,b.f.$.gx=3,b.f.$.Fw=4,b.f.$.prototype={Wv:function(a,b,d,f){this.l.P(a,b,d,f)},ef:function(){this.l.Jd(this.a.g.l)},enable:function(a,c){void 0===c&&(c=!0);var d;if(Array.isArray(a))for(d=a.length;d--;)a[d]instanceof b.G?this.enable(a[d].children,c):(this.ul(a[d]),c&&a[d].hasOwnProperty("children")&&0<a[d].children.length&&this.enable(a[d],!0));else a instanceof b.G?this.enable(a.children,c):(this.ul(a),c&&a.hasOwnProperty("children")&&
0<a.children.length&&this.enable(a.children,!0))},ul:function(a){a.hasOwnProperty("body")&&null===a.body&&(a.body=new b.f.$.Body(a),a.parent&&a.parent instanceof b.G&&a.parent.JE(a))},qX:function(a){a.Pa+=this.Oy(0,a,a.Pa,a.QE,a.Ot,a.xS)-a.Pa;a.rotation+=a.Pa*this.a.time.ke;a.i.x=this.Oy(1,a,a.i.x,a.acceleration.x,a.Yy.x,a.WH.x);a.i.y=this.Oy(2,a,a.i.y,a.acceleration.y,a.Yy.y,a.WH.y)},Oy:function(a,b,d,f,e,g){return void 0===g&&(g=1E4),1===a&&b.ME?d+=(this.Ab.x+b.Ab.x)*this.a.time.ke:2===a&&b.ME&&
(d+=(this.Ab.y+b.Ab.y)*this.a.time.ke),f?d+=f*this.a.time.ke:e&&(e*=this.a.time.ke,0<d-e?d-=e:0>d+e?d+=e:d=0),d>g?d=g:d<-g&&(d=-g),d},LI:function(a,b,d,f,e){if(d=d||null,f=f||null,e=e||d,this.Fj=0,!Array.isArray(a)&&Array.isArray(b))for(var c=0;c<b.length;c++)this.Mj(a,b[c],d,f,e,!0);else if(Array.isArray(a)&&!Array.isArray(b))for(c=0;c<a.length;c++)this.Mj(a[c],b,d,f,e,!0);else if(Array.isArray(a)&&Array.isArray(b))for(c=0;c<a.length;c++)for(var g=0;g<b.length;g++)this.Mj(a[c],b[g],d,f,e,!0);else this.Mj(a,
b,d,f,e,!0);return 0<this.Fj},DP:function(a,b,d,f,e){if(d=d||null,f=f||null,e=e||d,this.Fj=0,!Array.isArray(a)&&Array.isArray(b))for(var c=0;c<b.length;c++)this.Mj(a,b[c],d,f,e,!1);else if(Array.isArray(a)&&!Array.isArray(b))for(c=0;c<a.length;c++)this.Mj(a[c],b,d,f,e,!1);else if(Array.isArray(a)&&Array.isArray(b))for(c=0;c<a.length;c++)for(var g=0;g<b.length;g++)this.Mj(a[c],b[g],d,f,e,!1);else this.Mj(a,b,d,f,e,!1);return 0<this.Fj},wW:function(a,b){return a.body&&b.body?a.body.x-b.body.x:0},yW:function(a,
b){return a.body&&b.body?b.body.x-a.body.x:0},zW:function(a,b){return a.body&&b.body?a.body.y-b.body.y:0},tW:function(a,b){return a.body&&b.body?b.body.y-a.body.y:0},sort:function(a,c){null!==a.VI?c=a.VI:void 0===c&&(c=this.ei);c===b.f.$.ys?a.hash.sort(this.wW):c===b.f.$.bx?a.hash.sort(this.yW):c===b.f.$.gx?a.hash.sort(this.zW):c===b.f.$.Fw&&a.hash.sort(this.tW)},Mj:function(a,c,d,f,e,g){return void 0===c&&a.gc===b.Vd?(this.sort(a),void this.EP(a,d,f,e,g)):void(a&&c&&a.Ia&&c.Ia&&(this.ei!==b.f.$.DM&&
(a.gc===b.Vd&&this.sort(a),c.gc===b.Vd&&this.sort(c)),a.gc===b.tg?c.gc===b.tg?this.Jy(a,c,d,f,e,g):c.gc===b.Vd?this.Iy(a,c,d,f,e,g):c.gc===b.bp&&this.Ky(a,c,d,f,e,g):a.gc===b.Vd?c.gc===b.tg?this.Iy(c,a,d,f,e,g):c.gc===b.Vd?this.JF(a,c,d,f,e,g):c.gc===b.bp&&this.KF(a,c,d,f,e,g):a.gc===b.bp&&(c.gc===b.tg?this.Ky(c,a,d,f,e,g):c.gc===b.Vd&&this.KF(c,a,d,f,e,g))))},Jy:function(a,b,d,f,e,g){return!(!a.body||!b.body)&&(this.JJ(a.body,b.body,f,e,g)&&(d&&d.call(e,a,b),this.Fj++),!0)},Iy:function(a,c,d,f,e,
g){if(0!==c.length&&a.body)if(this.xB||a.body.xB)for(var h={},m=0;m<c.hash.length;m++){var k=c.hash[m];if(k&&k.Ia&&k.body){if(h=k.body.xa(h),this.ei===b.f.$.ys){if(a.body.right<h.x)break;if(h.right<a.body.x)continue}else if(this.ei===b.f.$.bx){if(a.body.x>h.right)break;if(h.x>a.body.right)continue}else if(this.ei===b.f.$.gx){if(a.body.bottom<h.y)break;if(h.bottom<a.body.y)continue}else if(this.ei===b.f.$.Fw){if(a.body.y>h.bottom)break;if(h.y>a.body.bottom)continue}this.Jy(a,k,d,f,e,g)}}else for(this.Qn.clear(),
this.Qn.reset(this.a.g.l.x,this.a.g.l.y,this.a.g.l.width,this.a.g.l.height,this.Xi,this.Wi),this.Qn.wU(c),c=this.Qn.Un(a),m=0;m<c.length;m++)this.JJ(a.body,c[m],f,e,g)&&(d&&d.call(e,a,c[m].b),this.Fj++)},EP:function(a,c,d,f,e){if(0!==a.length)for(var g=0;g<a.hash.length;g++){var h={},m=a.hash[g];if(m&&m.Ia&&m.body)for(var h=m.body.xa(h),k=g+1;k<a.hash.length;k++){var l={},n=a.hash[k];if(n&&n.Ia&&n.body){if(l=n.body.xa(l),this.ei===b.f.$.ys){if(h.right<l.x)break;if(l.right<h.x)continue}else if(this.ei===
b.f.$.bx){if(h.x>l.right)continue;if(l.x>h.right)break}else if(this.ei===b.f.$.gx){if(h.bottom<l.y)continue;if(l.bottom<h.y)break}else if(this.ei===b.f.$.Fw){if(h.y>l.bottom)continue;if(l.y>m.body.bottom)break}this.Jy(m,n,c,d,f,e)}}}},JF:function(a,c,d,f,e,g){if(0!==a.length&&0!==c.length)for(var h=0;h<a.children.length;h++)a.children[h].Ia&&(a.children[h].gc===b.Vd?this.JF(a.children[h],c,d,f,e,g):this.Iy(a.children[h],c,d,f,e,g))},JJ:function(a,b,d,f,e){if(!a.enable||!b.enable||a.ee.Be||b.ee.Be||
!this.Xb(a,b)||d&&!1===d.call(f,a.b,b.b))return!1;if(a.fc&&b.fc)return this.KJ(a,b,e);if(a.fc!==b.fc){d=a.fc?b:a;var c=a.fc?a:b;f=d.x;var g=d.right,h=d.bottom,m=c.x+c.w,c=c.y+c.w;if((c<d.y||c>h)&&(m<f||m>g))return this.KJ(a,b,e)}f=d=!1;this.TQ||Math.abs(this.Ab.y+a.Ab.y)<Math.abs(this.Ab.x+a.Ab.x)?(d=this.MJ(a,b,e),this.Xb(a,b)&&(f=this.NJ(a,b,e))):(f=this.NJ(a,b,e),this.Xb(a,b)&&(d=this.MJ(a,b,e)));d=d||f;return d&&(e?(a.kk&&a.kk.s(a.b,b.b),b.kk&&b.kk.s(b.b,a.b)):(a.ik&&a.ik.s(a.b,b.b),b.ik&&b.ik.s(b.b,
a.b))),d},Xb:function(a,c){return a!==c&&(a.fc?c.fc?b.Math.fb(a.$a.x,a.$a.y,c.$a.x,c.$a.y)<=a.w+c.w:this.xF(a,c):c.fc?this.xF(c,a):!(a.right<=c.position.x)&&!(a.bottom<=c.position.y)&&!(a.position.x>=c.right)&&!(a.position.y>=c.bottom))},xF:function(a,c){var d=b.Math.Vf(a.$a.x,c.left,c.right),f=b.Math.Vf(a.$a.y,c.top,c.bottom);return(a.$a.x-d)*(a.$a.x-d)+(a.$a.y-f)*(a.$a.y-f)<=a.w*a.w},KJ:function(a,c,d){this.XG(a,c);this.YG(a,c);var f=Math.atan2(c.$a.y-a.$a.y,c.$a.x-a.$a.x),e=0;if(a.fc!==c.fc){var g=
c.fc?a.position.x:c.position.x,h=c.fc?a.position.y:c.position.y,k=c.fc?a.right:c.right,l=c.fc?a.bottom:c.bottom,n=a.fc?a.position.x+a.w:c.position.x+c.w,t=a.fc?a.position.y+a.w:c.position.y+c.w,y=a.fc?a.w:c.w;t<h?n<g?e=b.Math.fb(n,t,g,h)-y:n>k&&(e=b.Math.fb(n,t,k,h)-y):t>l&&(n<g?e=b.Math.fb(n,t,g,l)-y:n>k&&(e=b.Math.fb(n,t,k,l)-y));e*=-1}else e=a.w+c.w-b.Math.fb(a.$a.x,a.$a.y,c.$a.x,c.$a.y);if(d||0===e||a.Bb&&c.Bb||a.jq||c.jq)return 0!==e&&(a.kk&&a.kk.s(a.b,c.b),c.kk&&c.kk.s(c.b,a.b)),0!==e;k=a.i.x*
Math.cos(f)+a.i.y*Math.sin(f);d=a.i.x*Math.sin(f)-a.i.y*Math.cos(f);l=c.i.x*Math.cos(f)+c.i.y*Math.sin(f);g=c.i.x*Math.sin(f)-c.i.y*Math.cos(f);h=((a.wa-c.wa)*k+2*c.wa*l)/(a.wa+c.wa);k=(2*a.wa*k+(c.wa-a.wa)*l)/(a.wa+c.wa);return a.Bb||(a.i.x=(h*Math.cos(f)-d*Math.sin(f))*a.dc.x,a.i.y=(d*Math.cos(f)+h*Math.sin(f))*a.dc.y),c.Bb||(c.i.x=(k*Math.cos(f)-g*Math.sin(f))*c.dc.x,c.i.y=(g*Math.cos(f)+k*Math.sin(f))*c.dc.y),Math.abs(f)<Math.PI/2?0<a.i.x&&!a.Bb&&c.i.x>a.i.x?a.i.x*=-1:0>c.i.x&&!c.Bb&&a.i.x<c.i.x?
c.i.x*=-1:0<a.i.y&&!a.Bb&&c.i.y>a.i.y?a.i.y*=-1:0>c.i.y&&!c.Bb&&a.i.y<c.i.y&&(c.i.y*=-1):Math.abs(f)>Math.PI/2&&(0>a.i.x&&!a.Bb&&c.i.x<a.i.x?a.i.x*=-1:0<c.i.x&&!c.Bb&&a.i.x>c.i.x?c.i.x*=-1:0>a.i.y&&!a.Bb&&c.i.y<a.i.y?a.i.y*=-1:0<c.i.y&&!c.Bb&&a.i.x>c.i.y&&(c.i.y*=-1)),a.Bb||(a.x+=a.i.x*this.a.time.ke-e*Math.cos(f),a.y+=a.i.y*this.a.time.ke-e*Math.sin(f)),c.Bb||(c.x+=c.i.x*this.a.time.ke+e*Math.cos(f),c.y+=c.i.y*this.a.time.ke+e*Math.sin(f)),a.ik&&a.ik.s(a.b,c.b),c.ik&&c.ik.s(c.b,a.b),!0},XG:function(a,
b,d){var c=0,e=a.nu()+b.nu()+this.TC;return 0===a.deltaX()&&0===b.deltaX()?(a.Ki=!0,b.Ki=!0):a.deltaX()>b.deltaX()?(c=a.right-b.x,c>e&&!d||!1===a.ee.right||!1===b.ee.left?c=0:(a.mb.Be=!1,a.mb.right=!0,b.mb.Be=!1,b.mb.left=!0)):a.deltaX()<b.deltaX()&&(c=a.x-b.width-b.x,-c>e&&!d||!1===a.ee.left||!1===b.ee.right?c=0:(a.mb.Be=!1,a.mb.left=!0,b.mb.Be=!1,b.mb.right=!0)),a.hr=c,b.hr=c,c},YG:function(a,b,d){var c=0,e=a.ou()+b.ou()+this.TC;return 0===a.deltaY()&&0===b.deltaY()?(a.Ki=!0,b.Ki=!0):a.deltaY()>
b.deltaY()?(c=a.bottom-b.y,c>e&&!d||!1===a.ee.Nb||!1===b.ee.Rb?c=0:(a.mb.Be=!1,a.mb.Nb=!0,b.mb.Be=!1,b.mb.Rb=!0)):a.deltaY()<b.deltaY()&&(c=a.y-b.bottom,-c>e&&!d||!1===a.ee.Rb||!1===b.ee.Nb?c=0:(a.mb.Be=!1,a.mb.Rb=!0,b.mb.Be=!1,b.mb.Nb=!0)),a.ir=c,b.ir=c,c},MJ:function(a,b,d){var c=this.XG(a,b,d);if(d||0===c||a.Bb&&b.Bb||a.jq||b.jq)return 0!==c||a.Ki&&b.Ki;d=a.i.x;var e=b.i.x;a.Bb||b.Bb?a.Bb?(b.x+=c,b.i.x=d-e*b.dc.x,a.Bn&&(b.y+=(a.y-a.da.y)*a.ag.y)):(a.x-=c,a.i.x=e-d*a.dc.x,b.Bn&&(a.y+=(b.y-b.da.y)*
b.ag.y)):(c*=.5,a.x-=c,b.x+=c,c=Math.sqrt(e*e*b.wa/a.wa)*(0<e?1:-1),d=Math.sqrt(d*d*a.wa/b.wa)*(0<d?1:-1),e=.5*(c+d),a.i.x=e+(c-e)*a.dc.x,b.i.x=e+(d-e)*b.dc.x);return!0},NJ:function(a,b,d){var c=this.YG(a,b,d);if(d||0===c||a.Bb&&b.Bb||a.Qy||b.Qy)return 0!==c||a.Ki&&b.Ki;d=a.i.y;var e=b.i.y;a.Bb||b.Bb?a.Bb?(b.y+=c,b.i.y=d-e*b.dc.y,a.Bn&&(b.x+=(a.x-a.da.x)*a.ag.x)):(a.y-=c,a.i.y=e-d*a.dc.y,b.Bn&&(a.x+=(b.x-b.da.x)*b.ag.x)):(c*=.5,a.y-=c,b.y+=c,c=Math.sqrt(e*e*b.wa/a.wa)*(0<e?1:-1),d=Math.sqrt(d*d*a.wa/
b.wa)*(0<d?1:-1),e=.5*(c+d),a.i.y=e+(c-e)*a.dc.y,b.i.y=e+(d-e)*b.dc.y);return!0},NS:function(a,b,d,f){void 0===d&&(d=60);void 0===f&&(f=0);var c=Math.atan2(b.y-a.y,b.x-a.x);return 0<f&&(d=this.kQ(a,b)/(f/1E3)),a.body.i.x=Math.cos(c)*d,a.body.i.y=Math.sin(c)*d,c},kQ:function(a,b,d){void 0===d&&(d=!1);var c=d?a.g.x-b.g.x:a.x-b.x;a=d?a.g.y-b.g.y:a.y-b.y;return Math.sqrt(c*c+a*a)},lQ:function(a,b,d,f){void 0===f&&(f=!1);b=f?a.g.x-b:a.x-b;a=f?a.g.y-d:a.y-d;return Math.sqrt(b*b+a*a)},cO:function(a,b,d){return void 0===
d&&(d=!1),d?Math.atan2(b.g.y-a.g.y,b.g.x-a.g.x):Math.atan2(b.y-a.y,b.x-a.x)}},b.f.$.Body=function(a){this.b=a;this.a=a.a;this.type=b.f.nj;this.enable=!0;this.fc=!1;this.w=0;this.offset=new b.h;this.position=new b.h(a.x,a.y);this.da=new b.h(this.position.x,this.position.y);this.aO=!0;this.NA=this.rotation=a.angle;this.width=a.width;this.height=a.height;this.Er=a.width;this.Dr=a.height;a.c&&(this.Er=a.c.frame.width,this.Dr=a.c.frame.height);this.Bc=Math.abs(a.width/2);this.dd=Math.abs(a.height/2);this.$a=
new b.h(a.x+this.Bc,a.y+this.dd);this.i=new b.h;this.rA=new b.h;this.Hh=new b.h;this.acceleration=new b.h;this.Yy=new b.h;this.ME=!0;this.Ab=new b.h;this.dc=new b.h;this.kk=this.ik=this.KI=this.xw=null;this.WH=new b.h(1E4,1E4);this.ag=new b.h(1,0);this.Ot=this.QE=this.Pa=0;this.xS=1E3;this.wa=1;this.speed=this.angle=0;this.facing=b.NONE;this.Bb=!1;this.Bn=!0;this.Qy=this.jq=!1;this.ir=this.hr=0;this.LF=this.Ki=!1;this.ee={Be:!1,L1:!0,Rb:!0,Nb:!0,left:!0,right:!0};this.mb={Be:!0,Rb:!1,Nb:!1,left:!1,
right:!1};this.Wr={Be:!0,Rb:!1,Nb:!1,left:!1,right:!1};this.Za={Rb:!1,Nb:!1,left:!1,right:!1};this.ow=new b.h;this.Yu=this.NW=this.xB=this.m=!1;this.KW=!0;this.mA=this.eI=this.nA=0;this.moveEnd=this.dk=null;this.DT=new b.D;this.PS=this.fI=null;this.zi=!0;this.Ct=a.scale.x;this.Dt=a.scale.y;this.sf=this.rf=0},b.f.$.Body.prototype={DK:function(){if(this.NW){var a=this.b.xa();a.nP();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this.zi=!0)}else{var a=Math.abs(this.b.scale.x),
b=Math.abs(this.b.scale.y);a===this.Ct&&b===this.Dt||(this.width=this.Er*a,this.height=this.Dr*b,this.Ct=a,this.Dt=b,this.zi=!0)}this.zi&&(this.Bc=Math.floor(this.width/2),this.dd=Math.floor(this.height/2),this.$a.P(this.position.x+this.Bc,this.position.y+this.dd))},X:function(){this.enable&&!this.a.ta.Id.dg&&(this.m=!0,this.Wr.Be=this.mb.Be,this.Wr.Rb=this.mb.Rb,this.Wr.Nb=this.mb.Nb,this.Wr.left=this.mb.left,this.Wr.right=this.mb.right,this.mb.Be=!0,this.mb.Rb=!1,this.mb.Nb=!1,this.mb.left=!1,this.mb.right=
!1,this.Za.Rb=!1,this.Za.Nb=!1,this.Za.left=!1,this.Za.right=!1,this.Ki=!1,this.DK(),this.position.x=this.b.g.x-this.b.anchor.x*this.b.width+this.b.scale.x*this.offset.x,this.position.x-=0>this.b.scale.x?this.width:0,this.position.y=this.b.g.y-this.b.anchor.y*this.b.height+this.b.scale.y*this.offset.y,this.position.y-=0>this.b.scale.y?this.height:0,this.rotation=this.b.angle,this.NA=this.rotation,(this.zi||this.b.Gu)&&(this.da.x=this.position.x,this.da.y=this.position.y),this.Bn&&(this.a.ta.Id.qX(this),
this.rA.set(this.i.x*this.a.time.ke,this.i.y*this.a.time.ke),this.position.x+=this.rA.x,this.position.y+=this.rA.y,this.position.x===this.da.x&&this.position.y===this.da.y||(this.angle=Math.atan2(this.i.y,this.i.x)),this.speed=Math.sqrt(this.i.x*this.i.x+this.i.y*this.i.y),this.LF&&this.eu()&&this.KI&&this.KI.s(this.b,this.Za.Rb,this.Za.Nb,this.Za.left,this.Za.right)),this.rf=this.deltaX(),this.sf=this.deltaY(),this.zi=!1)},rX:function(){var a=0,b=0!==this.hr||0!==this.ir;if(0<this.mA?(this.nA+=this.a.time.sl,
a=this.nA/this.mA):(this.dk.end.set(this.position.x,this.position.y),a=this.dk.length/this.eI),this.fI)var d=this.fI.call(this.PS,this,this.i,a);return!(b||1<=a||void 0!==d&&!0!==d)||(this.JW(1<=a||this.KW&&b),!1)},JW:function(a){this.Yu&&(this.Yu=!1,a&&this.i.set(0),this.DT.s(this.b,0!==this.hr||0!==this.ir))},Fb:function(){this.enable&&this.m&&(this.Yu&&this.rX(),this.m=!1,0>this.deltaX()?this.facing=b.Nw:0<this.deltaX()&&(this.facing=b.$w),0>this.deltaY()?this.facing=b.ix:0<this.deltaY()&&(this.facing=
b.Iw),this.Bn&&(this.rf=this.deltaX(),this.sf=this.deltaY(),0!==this.Hh.x&&0!==this.rf&&(0>this.rf&&this.rf<-this.Hh.x?this.rf=-this.Hh.x:0<this.rf&&this.rf>this.Hh.x&&(this.rf=this.Hh.x)),0!==this.Hh.y&&0!==this.sf&&(0>this.sf&&this.sf<-this.Hh.y?this.sf=-this.Hh.y:0<this.sf&&this.sf>this.Hh.y&&(this.sf=this.Hh.y)),this.b.position.x+=this.rf,this.b.position.y+=this.sf,this.zi=!0),this.$a.P(this.position.x+this.Bc,this.position.y+this.dd),this.aO&&(this.b.angle+=this.deltaZ()),this.da.x=this.position.x,
this.da.y=this.position.y)},eu:function(){var a=this.position,b=this.a.ta.Id.l,d=this.a.ta.Id.ee,f=this.xw?-this.xw.x:-this.dc.x,e=this.xw?-this.xw.y:-this.dc.y;if(this.fc){var g=this.$a.y-this.w,h=this.$a.x+this.w,k=this.$a.y+this.w;this.$a.x-this.w<b.x&&d.left?(a.x=b.x-this.Bc+this.w,this.i.x*=f,this.Za.left=!0):h>b.right&&d.right&&(a.x=b.right-this.Bc-this.w,this.i.x*=f,this.Za.right=!0);g<b.y&&d.Rb?(a.y=b.y-this.dd+this.w,this.i.y*=e,this.Za.Rb=!0):k>b.bottom&&d.Nb&&(a.y=b.bottom-this.dd-this.w,
this.i.y*=e,this.Za.Nb=!0)}else a.x<b.x&&d.left?(a.x=b.x,this.i.x*=f,this.Za.left=!0):this.right>b.right&&d.right&&(a.x=b.right-this.width,this.i.x*=f,this.Za.right=!0),a.y<b.y&&d.Rb?(a.y=b.y,this.i.y*=e,this.Za.Rb=!0):this.bottom>b.bottom&&d.Nb&&(a.y=b.bottom-this.height,this.i.y*=e,this.Za.Nb=!0);return this.Za.Rb||this.Za.Nb||this.Za.left||this.Za.right},moveTo:function(a,c,d){a=c/(a/1E3);if(0===a)return!1;var f;return void 0===d?(f=this.angle,d=this.a.Pc.Rn(f)):f=this.a.Pc.Gh(d),c=Math.abs(c),
this.mA=0,this.eI=c,null===this.dk&&(this.dk=new b.sb,this.moveEnd=new b.h),this.dk.XQ(this.x,this.y,f,c),this.moveEnd.set(this.dk.end.x,this.dk.end.y),this.dk.P(this.x,this.y,this.x,this.y),0===d||180===d?this.i.set(Math.cos(f)*a,0):90===d||270===d?this.i.set(0,Math.sin(f)*a):this.i.set(Math.cos(f)*a,Math.sin(f)*a),this.Yu=!0,!0},Xn:function(a,b,d,f){void 0===d&&(d=this.offset.x);void 0===f&&(f=this.offset.y);this.Er=a;this.Dr=b;this.width=this.Er*this.Ct;this.height=this.Dr*this.Dt;this.Bc=Math.floor(this.width/
2);this.dd=Math.floor(this.height/2);this.offset.P(d,f);this.$a.P(this.position.x+this.Bc,this.position.y+this.dd);this.fc=!1;this.w=0},reset:function(a,b){this.i.set(0);this.acceleration.set(0);this.QE=this.Pa=this.speed=0;this.position.x=a-this.b.anchor.x*this.b.width+this.b.scale.x*this.offset.x;this.position.x-=0>this.b.scale.x?this.width:0;this.position.y=b-this.b.anchor.y*this.b.height+this.b.scale.y*this.offset.y;this.position.y-=0>this.b.scale.y?this.height:0;this.da.x=this.position.x;this.da.y=
this.position.y;this.NA=this.rotation=this.b.angle;this.Ct=this.b.scale.x;this.Dt=this.b.scale.y;this.$a.P(this.position.x+this.Bc,this.position.y+this.dd)},xa:function(a){return this.fc?(a.x=this.$a.x-this.w,a.y=this.$a.y-this.w,a.right=this.$a.x+this.w,a.bottom=this.$a.y+this.w):(a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom),a},zl:function(a,c){return this.fc?b.ob.contains(this,a,c):b.v.contains(this,a,c)},nu:function(){return 0<this.deltaX()?this.deltaX():-this.deltaX()},ou:function(){return 0<
this.deltaY()?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.da.x},deltaY:function(){return this.position.y-this.da.y},deltaZ:function(){return this.rotation-this.NA},j:function(){this.b.parent&&this.b.parent instanceof b.G&&this.b.parent.Nv(this.b);this.b=this.b.body=null}},Object.defineProperty(b.f.$.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(b.f.$.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),
Object.defineProperty(b.f.$.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(b.f.$.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(b.f.$.Body.prototype,"x",{get:function(){return this.position.x},set:function(a){this.position.x=a}}),Object.defineProperty(b.f.$.Body.prototype,"y",{get:function(){return this.position.y},set:function(a){this.position.y=a}}),b.f.$.Body.Xa=function(a,b,d,f){void 0===f&&(f=!0);d=d||
"rgba(0,255,0,0.4)";a.fillStyle=d;a.strokeStyle=d;b.fc?(a.beginPath(),a.arc(b.$a.x-b.a.K.x,b.$a.y-b.a.K.y,b.w,0,2*Math.PI),f?a.fill():a.stroke()):f?a.fillRect(b.position.x-b.a.K.x,b.position.y-b.a.K.y,b.width,b.height):a.strokeRect(b.position.x-b.a.K.x,b.position.y-b.a.K.y,b.width,b.height)},b.f.$.Body.Q4=function(a,b){a.Ff("x: "+b.x.toFixed(2),"y: "+b.y.toFixed(2),"width: "+b.width,"height: "+b.height);a.Ff("velocity x: "+b.i.x.toFixed(2),"y: "+b.i.y.toFixed(2),"deltaX: "+b.rf.toFixed(2),"deltaY: "+
b.sf.toFixed(2));a.Ff("acceleration x: "+b.acceleration.x.toFixed(2),"y: "+b.acceleration.y.toFixed(2),"speed: "+b.speed.toFixed(2),"angle: "+b.angle.toFixed(2));a.Ff("gravity x: "+b.Ab.x,"y: "+b.Ab.y,"bounce x: "+b.dc.x.toFixed(2),"y: "+b.dc.y.toFixed(2));a.Ff("touching left: "+b.mb.left,"right: "+b.mb.right,"up: "+b.mb.Rb,"down: "+b.mb.Nb);a.Ff("blocked left: "+b.Za.left,"right: "+b.Za.right,"up: "+b.Za.Rb,"down: "+b.Za.Nb)},b.f.$.Body.prototype.constructor=b.f.$.Body,b.f.$.rD=function(){},b.f.$.rD.prototype=
{Ns:16,Ky:function(a,b,d,f,e,g){if(a.body){var c=b.wR(a.body.position.x-a.body.ow.x,a.body.position.y-a.body.ow.y,a.body.width+a.body.ow.x,a.body.height+a.body.ow.y,!1,!1);if(0!==c.length)for(var h=0;h<c.length;h++)f?f.call(e,a,c[h])&&this.LJ(h,a.body,c[h],b,g)&&(this.Fj++,d&&d.call(e,a,c[h])):this.LJ(h,a.body,c[h],b,g)&&(this.Fj++,d&&d.call(e,a,c[h]))}},KF:function(a,b,d,f,e,g){if(0!==a.length)for(var c=0;c<a.children.length;c++)a.children[c].Ia&&this.Ky(a.children[c],b,d,f,e,g)},LJ:function(a,b,
d,f,e){if(!b.enable)return!1;a=f.Ld?0:f.position.x;var c=f.Ld?0:f.position.y;if(!d.Xb(b.position.x-a,b.position.y-c,b.right-a,b.bottom-c))return!1;if(e)return!0;if(d.nl&&!d.nl.call(d.fu,b.b,d)||"undefined"!=typeof d.ze.dn&&d.ze.dn[d.index]&&!d.ze.dn[d.index].pc.call(d.ze.dn[d.index].U,b.b,d)||!(d.Kh||d.Lh||d.Mh||d.Jh))return!1;var g=e=0,h=0,m=1;if(b.nu()>b.ou()?h=-1:b.nu()<b.ou()&&(m=-1),0!==b.deltaX()&&0!==b.deltaY()&&(d.Kh||d.Lh)&&(d.Mh||d.Jh)&&(h=Math.min(Math.abs(b.position.x-a-d.right),Math.abs(b.right-
a-d.left)),m=Math.min(Math.abs(b.position.y-c-d.bottom),Math.abs(b.bottom-c-d.top))),h<m){if((d.Kh||d.Lh)&&(e=this.hK(b,d,f),0!==e&&!d.Xb(b.position.x-a,b.position.y-c,b.right-a,b.bottom-c)))return!0;(d.Mh||d.Jh)&&(g=this.iK(b,d,f))}else{if((d.Mh||d.Jh)&&(g=this.iK(b,d,f),0!==g&&!d.Xb(b.position.x-a,b.position.y-c,b.right-a,b.bottom-c)))return!0;(d.Kh||d.Lh)&&(e=this.hK(b,d,f))}return 0!==e||0!==g},hK:function(a,b,d){var c=0;d=d.Ld?0:d.position.x;return 0>a.deltaX()&&!a.Za.left&&b.ll&&a.ee.left?b.Lh&&
a.x-d<b.right&&(c=a.x-d-b.right,c<-this.Ns&&(c=0)):0<a.deltaX()&&!a.Za.right&&b.kl&&a.ee.right&&b.Kh&&a.right-d>b.left&&(c=a.right-d-b.left,c>this.Ns&&(c=0)),0!==c&&(a.jq?a.hr=c:this.MU(a,c)),c},iK:function(a,b,d){var c=0;d=d.Ld?0:d.position.y;return 0>a.deltaY()&&!a.Za.Rb&&b.jl&&a.ee.Rb?b.Jh&&a.y-d<b.bottom&&(c=a.y-d-b.bottom,c<-this.Ns&&(c=0)):0<a.deltaY()&&!a.Za.Nb&&b.ml&&a.ee.Nb&&b.Mh&&a.bottom-d>b.top&&(c=a.bottom-d-b.top,c>this.Ns&&(c=0)),0!==c&&(a.Qy?a.ir=c:this.NU(a,c)),c},MU:function(a,b){0>
b?a.Za.left=!0:0<b&&(a.Za.right=!0);a.position.x-=b;0===a.dc.x?a.i.x=0:a.i.x=-a.i.x*a.dc.x},NU:function(a,b){0>b?a.Za.Rb=!0:0<b&&(a.Za.Nb=!0);a.position.y-=b;0===a.dc.y?a.i.y=0:a.i.y=-a.i.y*a.dc.y}},b.nc.kA(b.f.$.prototype,b.f.$.rD.prototype),p2.Body.prototype.parent=null,p2.Lk.prototype.parent=null,b.f.o=function(a,c){this.a=a;void 0===c?c={Ab:[0,0],bn:new p2.gD}:(c.hasOwnProperty("gravity")||(c.Ab=[0,0]),c.hasOwnProperty("broadphase")||(c.bn=new p2.gD));this.Da=c;this.g=new p2.ld(this.Da);this.GG=
1/60;this.paused=this.CX=!1;this.Ab=new b.f.o.si(this,this.g.Ab);this.ji={left:null,right:null,top:null,bottom:null};this.YS=new b.D;this.ZS=new b.D;this.QT=new b.D;this.fT=new b.D;this.gT=new b.D;this.hT=new b.D;this.U=null;this.kv=new b.D;this.lv=new b.D;c.hasOwnProperty("mpx")&&c.hasOwnProperty("pxm")&&c.hasOwnProperty("mpxi")&&c.hasOwnProperty("pxmi")&&(this.Wq=c.Wq,this.ek=c.ek,this.Cc=c.Cc,this.Wa=c.Wa);this.g.af("beginContact",this.vy,this);this.g.af("endContact",this.fz,this);this.xy=new b.f.o.xC(2);
this.Ci=[];this.zD=this.DD=this.CD=this.AD=!0;this.BD=!1;this.ef(!0,!0,!0,!0,!1)},b.f.o.prototype={bV:function(a){this.Ci.push(a)},X:function(){for(var a=this.Ci.length;a--;)this.pk(this.Ci[a]);this.Ci.length=0},enable:function(a,c,d){void 0===c&&(c=!1);void 0===d&&(d=!0);var f;if(Array.isArray(a))for(f=a.length;f--;)a[f]instanceof b.G?this.enable(a[f].children,c,d):(this.ul(a[f],c),d&&a[f].hasOwnProperty("children")&&0<a[f].children.length&&this.enable(a[f],c,!0));else a instanceof b.G?this.enable(a.children,
c,d):(this.ul(a,c),d&&a.hasOwnProperty("children")&&0<a.children.length&&this.enable(a.children,c,!0))},ul:function(a,c){a.hasOwnProperty("body")&&null===a.body&&(a.body=new b.f.o.Body(this.a,a,a.x,a.y,1),a.body.debug=c,"undefined"!=typeof a.anchor&&a.anchor.set(.5))},vy:function(a){a.aa&&a.ca&&(this.kv.s(a.aa,a.ca,a.Dc,a.Ec,a.ua),a.aa.parent&&a.aa.parent.kv.s(a.ca.parent,a.ca,a.Dc,a.Ec,a.ua),a.ca.parent&&a.ca.parent.kv.s(a.aa.parent,a.aa,a.Ec,a.Dc,a.ua))},fz:function(a){a.aa&&a.ca&&(this.lv.s(a.aa,
a.ca,a.Dc,a.Ec),a.aa.parent&&a.aa.parent.lv.s(a.ca.parent,a.ca,a.Dc,a.Ec),a.ca.parent&&a.ca.parent.lv.s(a.aa.parent,a.aa,a.Ec,a.Dc))},ef:function(a,b,d,f,e){this.Wv(this.a.g.l.x,this.a.g.l.y,this.a.g.l.width,this.a.g.l.height,a,b,d,f,e)},Wv:function(a,b,d,f,e,g,h,k,l){void 0===e&&(e=this.AD);void 0===g&&(g=this.CD);void 0===h&&(h=this.DD);void 0===k&&(k=this.zD);void 0===l&&(l=this.BD);this.bw(e,"left",a,b,1.5707963267948966,l);this.bw(g,"right",a+d,b,-1.5707963267948966,l);this.bw(h,"top",a,b,-3.141592653589793,
l);this.bw(k,"bottom",a,b+f,0,l);this.AD=e;this.CD=g;this.DD=h;this.zD=k;this.BD=l},bw:function(a,b,d,e,g,h){a?(this.ji[b]?this.ji[b].position=[this.Wa(d),this.Wa(e)]:(this.ji[b]=new p2.Body({wa:0,position:[this.Wa(d),this.Wa(e)],angle:g}),this.ji[b].Pp(new p2.YC),this.g.Tm(this.ji[b])),h&&(this.ji[b].wb[0].zh=this.xy.Gf)):this.ji[b]&&(this.g.pk(this.ji[b]),this.ji[b]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.CX?this.g.step(this.a.time.ke):
this.g.step(this.GG))},reset:function(){this.g.af("beginContact",this.vy,this);this.g.af("endContact",this.fz,this);this.xy=new b.f.o.xC(2);this.ef(!0,!0,!0,!0,!1)},clear:function(){this.g.time=0;this.g.A2=0;this.g.uk&&this.g.uk.sa.length&&this.g.uk.Lv();for(var a=this.g.kn,b=a.length-1;0<=b;b--)this.g.sr(a[b]);a=this.g.Qa;for(b=a.length-1;0<=b;b--)this.g.pk(a[b]);a=this.g.bo;for(b=a.length-1;0<=b;b--)this.g.tr(a[b]);a=this.g.fq;for(b=a.length-1;0<=b;b--)this.g.Mv(a[b]);this.g.Xq("beginContact",this.vy,
this);this.g.Xq("endContact",this.fz,this);this.U=null;this.Ci=[];this.ji={left:null,right:null,top:null,bottom:null}},j:function(){this.clear();this.a=null},Tm:function(a){return!a.data.g&&(this.g.Tm(a.data),this.YS.s(a),!0)},pk:function(a){return a.data.g===this.g&&(this.g.pk(a.data),this.ZS.s(a)),a},tr:function(a){return a instanceof b.f.o.Lk||a instanceof b.f.o.dx?this.g.tr(a.data):this.g.tr(a),this.QT.s(a),a},iy:function(a){return this.g.iy(a),this.fT.s(a),a},sr:function(a){return this.g.sr(a),
this.gT.s(a),a},Mv:function(a){return this.g.Mv(a),this.hT.s(a),a},xz:function(a,b){return this.g.xz(a,b)},OG:function(){for(var a=[],b=this.g.Qa.length;b--;)a.push(this.g.Qa[b].parent);return a},zl:function(a,c,d,e){void 0===c&&(c=this.g.Qa);void 0===d&&(d=5);void 0===e&&(e=!1);a=[this.Wa(a.x),this.Wa(a.y)];for(var f=[],g=c.length;g--;)c[g]instanceof b.f.o.Body&&(!e||c[g].data.type!==p2.Body.hd)?f.push(c[g].data):c[g]instanceof p2.Body&&c[g].parent&&(!e||c[g].type!==p2.Body.hd)?f.push(c[g]):c[g]instanceof
b.ka&&c[g].hasOwnProperty("body")&&(!e||c[g].body.data.type!==p2.Body.hd)&&f.push(c[g].body.data);return this.g.zl(a,f,d)},toJSON:function(){return this.g.toJSON()},Wq:function(a){return 20*a},Cc:function(a){return.05*a},ek:function(a){return-20*a},Wa:function(a){return-.05*a}},Object.defineProperty(b.f.o.prototype,"friction",{get:function(){return this.g.pl.ag},set:function(a){this.g.pl.ag=a}}),Object.defineProperty(b.f.o.prototype,"restitution",{get:function(){return this.g.pl.jg},set:function(a){this.g.pl.jg=
a}}),Object.defineProperty(b.f.o.prototype,"contactMaterial",{get:function(){return this.g.pl},set:function(a){this.g.pl=a}}),Object.defineProperty(b.f.o.prototype,"applySpringForces",{get:function(){return this.g.ny},set:function(a){this.g.ny=a}}),Object.defineProperty(b.f.o.prototype,"applyDamping",{get:function(){return this.g.dl},set:function(a){this.g.dl=a}}),Object.defineProperty(b.f.o.prototype,"applyGravity",{get:function(){return this.g.my},set:function(a){this.g.my=a}}),Object.defineProperty(b.f.o.prototype,
"solveConstraints",{get:function(){return this.g.DB},set:function(a){this.g.DB=a}}),Object.defineProperty(b.f.o.prototype,"time",{get:function(){return this.g.time}}),Object.defineProperty(b.f.o.prototype,"emitImpactEvent",{get:function(){return this.g.bz},set:function(a){this.g.bz=a}}),Object.defineProperty(b.f.o.prototype,"sleepMode",{get:function(){return this.g.ew},set:function(a){this.g.ew=a}}),Object.defineProperty(b.f.o.prototype,"total",{get:function(){return this.g.Qa.length}}),b.f.o.ML=
function(a){Array.isArray(a)||(a=[a]);this.lJ=a;this.rb();this.parse(this.lJ)},b.f.o.ML.prototype={rb:function(){this.SS={};this.Hq=[]},parse:function(){var a,b,d,e;d=this.lJ;e=[];for(a in d)b=d[a],isNaN(a-0)?this.SS[a]=this.Cu(b):(this.Hq[a]=this.Hq[a]||[],this.Hq[a]=this.Hq[a].concat(b)),e.push(this.Cu(this.Hq))},Cu:function(a){var b,d;return b=[],d=arguments.callee,a.forEach(function(a){return Array.prototype.push.apply(b,Array.isArray(a)?d(a):[a])}),b}},b.f.o.rm=function(a,b){this.g=a;this.destination=
b},b.f.o.rm.prototype.constructor=b.f.o.rm,Object.defineProperty(b.f.o.rm.prototype,"x",{get:function(){return this.g.Wq(this.destination[0])},set:function(a){this.destination[0]=this.g.Cc(a)}}),Object.defineProperty(b.f.o.rm.prototype,"y",{get:function(){return this.g.Wq(this.destination[1])},set:function(a){this.destination[1]=this.g.Cc(a)}}),Object.defineProperty(b.f.o.rm.prototype,"mx",{get:function(){return this.destination[0]},set:function(a){this.destination[0]=a}}),Object.defineProperty(b.f.o.rm.prototype,
"my",{get:function(){return this.destination[1]},set:function(a){this.destination[1]=a}}),b.f.o.si=function(a,b){this.g=a;this.destination=b},b.f.o.si.prototype.constructor=b.f.o.si,Object.defineProperty(b.f.o.si.prototype,"x",{get:function(){return this.g.ek(this.destination[0])},set:function(a){this.destination[0]=this.g.Wa(a)}}),Object.defineProperty(b.f.o.si.prototype,"y",{get:function(){return this.g.ek(this.destination[1])},set:function(a){this.destination[1]=this.g.Wa(a)}}),Object.defineProperty(b.f.o.si.prototype,
"mx",{get:function(){return this.destination[0]},set:function(a){this.destination[0]=-a}}),Object.defineProperty(b.f.o.si.prototype,"my",{get:function(){return this.destination[1]},set:function(a){this.destination[1]=-a}}),b.f.o.Body=function(a,c,d,e,g){c=c||null;d=d||0;e=e||0;void 0===g&&(g=1);this.a=a;this.g=a.ta.Va;this.b=c;this.type=b.f.Qo;this.offset=new b.h;this.data=new p2.Body({position:[this.g.Wa(d),this.g.Wa(e)],wa:g});this.data.parent=this;this.i=new b.f.o.si(this.g,this.data.i);this.force=
new b.f.o.si(this.g,this.data.force);this.Ab=new b.h;this.kv=new b.D;this.lv=new b.D;this.jn=[];this.pJ=!1;this.Af=null;this.m=!1;this.Bm=!0;this.tx={};this.sx={};this.zi=!1;c&&(this.XV(c),c.Ia&&this.a.ta.Va.Tm(this))},b.f.o.Body.prototype={WF:function(a,b,d){null===b?(delete this.tx[a.Gf],delete this.sx[a.Gf]):(this.tx[a.Gf]=b,this.sx[a.Gf]=d)},RG:function(){var a=0;this.Bm&&(a=this.a.ta.Va.xy.Gf);for(var b=0;b<this.jn.length;b++)a|=this.jn[b].Gf;return a},FK:function(a){var b=this.RG();if(void 0===
a)for(a=this.data.wb.length-1;0<=a;a--)this.data.wb[a].yf=b;else a.yf=b},hn:function(a,b,d,e){if(Array.isArray(a))for(var c=0;c<a.length;c++)-1===this.jn.indexOf(a[c])&&(this.jn.push(a[c]),b&&this.WF(a[c],b,d));else-1===this.jn.indexOf(a)&&(this.jn.push(a),b&&this.WF(a,b,d));a=this.RG();if(void 0===e)for(c=this.data.wb.length-1;0<=c;c--)this.data.wb[c].yf=a;else e.yf=a},dl:function(a){this.data.dl(a)},el:function(a,b,d){this.data.el(a,[this.g.Wa(b),this.g.Wa(d)])},aw:function(){this.data.aw()},hW:function(){this.data.Pa=
0},iW:function(){this.data.i[0]=0;this.data.i[1]=0},gW:function(){this.data.zf=0;this.data.Vm=0},gi:function(a,b){return this.data.gi(a,b)},cm:function(a,b){return this.data.cm(a,b)},BV:function(a){this.data.Pa=this.g.Cc(-a)},CV:function(a){this.data.Pa=this.g.Cc(a)},reverse:function(a){a=this.g.Wa(-a);var b=this.data.angle+Math.PI/2;this.data.force[0]-=a*Math.cos(b);this.data.force[1]-=a*Math.sin(b)},X:function(){this.m=!0;this.pJ&&(this.Ov(),this.pJ=!1)},Fb:function(){this.b.x=this.g.ek(this.data.position[0])+
this.offset.x;this.b.y=this.g.ek(this.data.position[1])+this.offset.y;this.Ni||(this.b.rotation=this.data.angle);this.Af&&this.Af.NK();this.m=!1},reset:function(a,b,d,e){void 0===d&&(d=!1);void 0===e&&(e=!1);this.aw();this.iW();this.hW();d&&this.gW();e&&(this.wa=1);this.x=a;this.y=b},Qp:function(){if(this.a.ta.Va.Ci)for(var a=0;a<this.a.ta.Va.Ci.length;a++)this.a.ta.Va.Ci[a]===this&&this.a.ta.Va.Ci.splice(a,1);this.data.g!==this.a.ta.Va.g&&this.a.ta.Va.Tm(this)},Ov:function(){this.data.g===this.a.ta.Va.g&&
this.a.ta.Va.bV(this)},j:function(){this.Ov();this.HF();this.tx={};this.sx={};this.Af&&this.Af.j(!0,!0);this.Af=null;this.b&&(this.b.body=null,this.b=null)},HF:function(){for(var a=this.data.wb.length;a--;)this.data.XA(this.data.wb[a]);this.tB()},Pp:function(a,b,d,e){return void 0===b&&(b=0),void 0===d&&(d=0),void 0===e&&(e=0),this.data.Pp(a,[this.g.Wa(b),this.g.Wa(d)],e),this.tB(),a},QN:function(a,b,d,e,g){a=new p2.Gw({width:this.g.Cc(a),height:this.g.Cc(b)});return this.Pp(a,d,e,g)},XA:function(a){a=
this.data.XA(a);return this.tB(),a},XV:function(a){return void 0===a&&(a=this.b),this.HF(),this.QN(a.width,a.height,0,0,a.rotation)},tB:function(){this.Af&&this.Af.Pj()}},b.f.o.Body.prototype.constructor=b.f.o.Body,b.f.o.Body.te=1,b.f.o.Body.hd=2,b.f.o.Body.ih=4,Object.defineProperty(b.f.o.Body.prototype,"static",{get:function(){return this.data.type===b.f.o.Body.hd},set:function(a){a&&this.data.type!==b.f.o.Body.hd?(this.data.type=b.f.o.Body.hd,this.wa=0):a||this.data.type!==b.f.o.Body.hd||(this.data.type=
b.f.o.Body.te,this.wa=1)}}),Object.defineProperty(b.f.o.Body.prototype,"dynamic",{get:function(){return this.data.type===b.f.o.Body.te},set:function(a){a&&this.data.type!==b.f.o.Body.te?(this.data.type=b.f.o.Body.te,this.wa=1):a||this.data.type!==b.f.o.Body.te||(this.data.type=b.f.o.Body.hd,this.wa=0)}}),Object.defineProperty(b.f.o.Body.prototype,"kinematic",{get:function(){return this.data.type===b.f.o.Body.ih},set:function(a){a&&this.data.type!==b.f.o.Body.ih?(this.data.type=b.f.o.Body.ih,this.wa=
4):a||this.data.type!==b.f.o.Body.ih||(this.data.type=b.f.o.Body.hd,this.wa=0)}}),Object.defineProperty(b.f.o.Body.prototype,"allowSleep",{get:function(){return this.data.Hj},set:function(a){a!==this.data.Hj&&(this.data.Hj=a)}}),Object.defineProperty(b.f.o.Body.prototype,"angle",{get:function(){return b.Math.yw(b.Math.Rn(this.data.angle))},set:function(a){this.data.angle=b.Math.Gh(b.Math.yw(a))}}),Object.defineProperty(b.f.o.Body.prototype,"angularDamping",{get:function(){return this.data.Vm},set:function(a){this.data.Vm=
a}}),Object.defineProperty(b.f.o.Body.prototype,"angularForce",{get:function(){return this.data.pd},set:function(a){this.data.pd=a}}),Object.defineProperty(b.f.o.Body.prototype,"angularVelocity",{get:function(){return this.data.Pa},set:function(a){this.data.Pa=a}}),Object.defineProperty(b.f.o.Body.prototype,"damping",{get:function(){return this.data.zf},set:function(a){this.data.zf=a}}),Object.defineProperty(b.f.o.Body.prototype,"fixedRotation",{get:function(){return this.data.Ni},set:function(a){a!==
this.data.Ni&&(this.data.Ni=a)}}),Object.defineProperty(b.f.o.Body.prototype,"inertia",{get:function(){return this.data.Nq},set:function(a){this.data.Nq=a}}),Object.defineProperty(b.f.o.Body.prototype,"mass",{get:function(){return this.data.wa},set:function(a){a!==this.data.wa&&(this.data.wa=a,this.data.YB())}}),Object.defineProperty(b.f.o.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(a){a!==this.data.type&&(this.data.type=a)}}),Object.defineProperty(b.f.o.Body.prototype,
"rotation",{get:function(){return this.data.angle},set:function(a){this.data.angle=a}}),Object.defineProperty(b.f.o.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.Sl},set:function(a){this.data.Sl=a}}),Object.defineProperty(b.f.o.Body.prototype,"x",{get:function(){return this.g.ek(this.data.position[0])},set:function(a){this.data.position[0]=this.g.Wa(a)}}),Object.defineProperty(b.f.o.Body.prototype,"y",{get:function(){return this.g.ek(this.data.position[1])},set:function(a){this.data.position[1]=
this.g.Wa(a)}}),Object.defineProperty(b.f.o.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(b.f.o.Body.prototype,"debug",{get:function(){return null!==this.Af},set:function(a){a&&!this.Af?this.Af=new b.f.o.Ao(this.a,this.data):!a&&this.Af&&(this.Af.j(),this.Af=null)}}),Object.defineProperty(b.f.o.Body.prototype,"collideWorldBounds",{get:function(){return this.Bm},set:function(a){a&&!this.Bm?(this.Bm=!0,this.FK()):!a&&this.Bm&&(this.Bm=!1,this.FK())}}),b.f.o.Ao=function(a,
c,d){b.G.call(this,a);var e={sU:a.ta.Va.Wq(1),bQ:!1,lineWidth:1,alpha:.5};this.sB=b.nc.extend(e,d);this.hc=this.sB.sU;this.hc*=-1;this.body=c;this.canvas=new b.S(a);this.canvas.alpha=this.sB.alpha;this.add(this.canvas);this.Pj();this.NK()},b.f.o.Ao.prototype=Object.create(b.G.prototype),b.f.o.Ao.prototype.constructor=b.f.o.Ao,b.nc.extend(b.f.o.Ao.prototype,{NK:function(){this.position.x=this.body.position[0]*this.hc;this.position.y=this.body.position[1]*this.hc;this.rotation=this.body.angle},Pj:function(){var a,
b,d,e,g,h,k,l,n,q,t,y,v;if(k=this.body,n=this.canvas,n.clear(),d=parseInt(this.QU(),16),h=this.lineWidth,k instanceof p2.Body&&k.wb.length){var x=k.wb.length;for(e=0;e!==x;){if(b=k.wb[e],l=b.position||0,a=b.angle||0,b instanceof p2.ob)this.rl(n,l[0]*this.hc,l[1]*this.hc,a,b.w*this.hc,d,h);else if(b instanceof p2.zL)this.pQ(n,l[0]*this.hc,l[1]*this.hc,a,b.length*this.hc,b.w*this.hc,16711680,d,h);else if(b instanceof p2.YC)this.sQ(n,l[0]*this.hc,-l[1]*this.hc,d,16711680,5*h,10*h,10*h,100*this.hc,a);
else if(b instanceof p2.sb)this.rQ(n,b.length*this.hc,16711680,h);else if(b instanceof p2.Gw)this.uQ(n,l[0]*this.hc,l[1]*this.hc,a,b.width*this.hc,b.height*this.hc,16711680,d,h);else if(b instanceof p2.CL){q=[];t=p2.SK.create();g=y=0;for(v=b.u.length;0<=v?y<v:y>v;g=0<=v?++y:--y)g=b.u[g],p2.SK.rotate(t,g,a),q.push([(t[0]+l[0])*this.hc,-(t[1]+l[1])*this.hc]);this.qQ(n,q,b.Mr,16711680,d,h,this.sB.bQ,[l[0]*this.hc,-l[1]*this.hc])}e++}}},uQ:function(a,b,d,e,g,h,k,l,n){void 0===n&&(n=1);void 0===k&&(k=
0);a.Sg(n,k,1);a.fl(l);a.tQ(b-g/2,d-h/2,g,h)},rl:function(a,b,d,e,g,h,k){void 0===k&&(k=1);void 0===h&&(h=16777215);a.Sg(k,0,1);a.fl(h,1);a.rl(b,d,2*-g);a.sq();a.moveTo(b,d);a.lineTo(b+g*Math.cos(-e),d+g*Math.sin(-e))},rQ:function(a,b,d,e){void 0===e&&(e=1);void 0===d&&(d=0);a.Sg(5*e,d,1);a.moveTo(-b/2,0);a.lineTo(b/2,0)},qQ:function(a,b,d,e,g,h,k,l){var c,f;if(void 0===h&&(h=1),void 0===e&&(e=0),k){e=[16711680,65280,255];for(d=0;d!==b.length+1;)c=b[d%b.length],k=b[(d+1)%b.length],g=c[0],f=c[1],c=
k[0],k=k[1],a.Sg(h,e[d%e.length],1),a.moveTo(g,-f),a.lineTo(c,-k),a.rl(g,-f,2*h),d++;return a.Sg(h,0,1),a.rl(l[0],l[1],2*h)}a.Sg(h,e,1);a.fl(g);for(d=0;d!==b.length;)l=b[d],h=l[0],l=l[1],0===d?a.moveTo(h,-l):a.lineTo(h,-l),d++;if(a.sq(),2<b.length)return a.moveTo(b[b.length-1][0],-b[b.length-1][1]),a.lineTo(b[0][0],-b[0][1])},u2:function(a,b,d,e,g){var c,f,h,m,k,l,n,v,x,A;void 0===g&&(g=1);void 0===d&&(d=0);a.Sg(g,d,1);"number"==typeof e&&a.fl(e);f=g=null;for(d=0;d<b.length;)x=b[d],A=x[0],x=x[1],
A===g&&x===f||(0===d?a.moveTo(A,x):(h=g,m=f,k=A,l=x,n=b[(d+1)%b.length][0],v=b[(d+1)%b.length][1],c=(k-h)*(v-m)-(n-h)*(l-m),0!==c&&a.lineTo(A,x)),g=A,f=x),d++;"number"==typeof e&&a.sq();2<b.length&&"number"==typeof e&&(a.moveTo(b[b.length-1][0],b[b.length-1][1]),a.lineTo(b[0][0],b[0][1]))},sQ:function(a,b,d,e,g,h,k,l,n,q){void 0===h&&(h=1);void 0===e&&(e=16777215);a.Sg(h,g,11);a.fl(e);a.moveTo(b,-d);e=b+Math.cos(q)*this.a.width;g=d+Math.sin(q)*this.a.height;a.lineTo(e,-g);a.moveTo(b,-d);e=b+Math.cos(q)*
-this.a.width;g=d+Math.sin(q)*-this.a.height;a.lineTo(e,-g)},pQ:function(a,b,d,e,g,h,k,l,n){void 0===n&&(n=1);void 0===k&&(k=0);a.Sg(n,k,1);var c=Math.cos(e);e=Math.sin(e);a.fl(l,1);a.rl(-g/2*c+b,-g/2*e+d,2*-h);a.rl(g/2*c+b,g/2*e+d,2*-h);a.sq();a.Sg(n,k,0);a.fl(l,1);a.moveTo(-g/2*c+h*e+b,-g/2*e+h*c+d);a.lineTo(g/2*c+h*e+b,g/2*e+h*c+d);a.lineTo(g/2*c-h*e+b,g/2*e-h*c+d);a.lineTo(-g/2*c-h*e+b,-g/2*e-h*c+d);a.sq();a.Sg(n,k,1);a.moveTo(-g/2*c+h*e+b,-g/2*e+h*c+d);a.lineTo(g/2*c+h*e+b,g/2*e+h*c+d);a.moveTo(-g/
2*c-h*e+b,-g/2*e-h*c+d);a.lineTo(g/2*c-h*e+b,g/2*e-h*c+d)},QU:function(){var a,b,d,e;return d=[255,255,255],e=Math.floor(256*Math.random()),b=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),e=Math.floor((e+3*d[0])/4),b=Math.floor((b+3*d[1])/4),a=Math.floor((a+3*d[2])/4),this.AV(e,b,a)},AV:function(a,b,d){return this.Nj(a)+this.Nj(b)+this.Nj(d)},Nj:function(a){var b;return b=a.toString(16),2===b.length?b:b+"0"}}),b.f.o.Lk=function(a,b,d,e,g,h,k,l,n,q){this.a=a.a;this.g=a;void 0===e&&
(e=1);void 0===g&&(g=100);void 0===h&&(h=1);e=a.Cc(e);e={Sv:e,Qd:g,zf:h};"undefined"!=typeof k&&null!==k&&(e.dL=[a.Cc(k[0]),a.Cc(k[1])]);"undefined"!=typeof l&&null!==l&&(e.eL=[a.Cc(l[0]),a.Cc(l[1])]);"undefined"!=typeof n&&null!==n&&(e.td=[a.Cc(n[0]),a.Cc(n[1])]);"undefined"!=typeof q&&null!==q&&(e.ud=[a.Cc(q[0]),a.Cc(q[1])]);this.data=new p2.fM(b,d,e);this.data.parent=this},b.f.o.Lk.prototype.constructor=b.f.o.Lk,b.f.o.dx=function(a,b,d,e,g,h){this.a=a.a;this.g=a;void 0===e&&(e=null);void 0===g&&
(g=100);void 0===h&&(h=1);e&&(e=a.Cc(e));this.data=new p2.dx(b,d,{Rv:e,Qd:g,zf:h});this.data.parent=this},b.f.o.Lk.prototype.constructor=b.f.o.Lk,b.f.o.pm=function(a){this.name=a;p2.pm.call(this)},b.f.o.pm.prototype=Object.create(p2.pm.prototype),b.f.o.pm.prototype.constructor=b.f.o.pm,b.f.o.km=function(a,b,d){p2.km.call(this,a,b,d)},b.f.o.km.prototype=Object.create(p2.km.prototype),b.f.o.km.prototype.constructor=b.f.o.km,b.f.o.xC=function(a){this.Gf=a},b.f.o.mm=function(a,b,d,e,g,h,k){void 0===e&&
(e=100);void 0===g&&(g=[0,0]);void 0===h&&(h=[0,0]);void 0===k&&(k=Number.MAX_VALUE);this.a=a.a;this.g=a;e=a.Cc(e);g=[a.Wa(g[0]),a.Wa(g[1])];h=[a.Wa(h[0]),a.Wa(h[1])];p2.mm.call(this,b,d,{fb:e,td:g,ud:h,hb:k})},b.f.o.mm.prototype=Object.create(p2.mm.prototype),b.f.o.mm.prototype.constructor=b.f.o.mm,b.f.o.nm=function(a,b,d,e,g){void 0===e&&(e=0);void 0===g&&(g=1);this.a=a.a;this.g=a;p2.nm.call(this,b,d,{angle:e,ratio:g})},b.f.o.nm.prototype=Object.create(p2.nm.prototype),b.f.o.nm.prototype.constructor=
b.f.o.nm,b.f.o.om=function(a,b,d,e,g,h){void 0===e&&(e=[0,0]);void 0===g&&(g=0);void 0===h&&(h=Number.MAX_VALUE);this.a=a.a;this.g=a;e=[a.Cc(e[0]),a.Cc(e[1])];p2.om.call(this,b,d,{fg:e,bk:g,hb:h})},b.f.o.om.prototype=Object.create(p2.om.prototype),b.f.o.om.prototype.constructor=b.f.o.om,b.f.o.sm=function(a,b,d,e,g,h,k,l){void 0===e&&(e=!0);void 0===g&&(g=[0,0]);void 0===h&&(h=[0,0]);void 0===k&&(k=[0,0]);void 0===l&&(l=Number.MAX_VALUE);this.a=a.a;this.g=a;g=[a.Wa(g[0]),a.Wa(g[1])];h=[a.Wa(h[0]),
a.Wa(h[1])];p2.sm.call(this,b,d,{td:g,ud:h,cv:k,hb:l,iQ:!e})},b.f.o.sm.prototype=Object.create(p2.sm.prototype),b.f.o.sm.prototype.constructor=b.f.o.sm,b.f.o.tm=function(a,b,d,e,g,h,k){void 0===h&&(h=Number.MAX_VALUE);void 0===k&&(k=null);this.a=a.a;this.g=a;d=[a.Wa(d[0]),a.Wa(d[1])];g=[a.Wa(g[0]),a.Wa(g[1])];k&&(k=[a.Wa(k[0]),a.Wa(k[1])]);p2.tm.call(this,b,e,{gC:k,uS:d,vS:g,hb:h})},b.f.o.tm.prototype=Object.create(p2.tm.prototype),b.f.o.tm.prototype.constructor=b.f.o.tm,b.ws=function(a,b,d,e,g,h,
k){this.name=a;this.Zf=0|b;this.La=k||{};this.images=[];this.total=0},b.ws.prototype={Um:function(a,b){this.images.push({Cz:a,qb:b});this.total++}},b.ws.prototype.constructor=b.ws,b.nf=function(a,b,d,e,g,h){this.ze=a;this.index=b;this.x=d;this.y=e;this.rotation=0;this.mz=!1;this.so=d*g;this.to=e*h;this.width=g;this.height=h;this.qd=Math.abs(g/2);this.rd=Math.abs(h/2);this.alpha=1;this.La={};this.jl=this.ml=this.ll=this.kl=this.Lh=this.Kh=this.Jh=this.Mh=!1;this.nl=null;this.fu=this},b.nf.prototype=
{ju:function(a,b){return!(a<this.so||b<this.to||a>this.right||b>this.bottom)},Xb:function(a,b,d,e){return!(d<=this.so)&&!(e<=this.to)&&!(a>=this.so+this.width)&&!(b>=this.to+this.height)},j:function(){this.La=this.fu=this.nl=null},cS:function(a,b){return a&&b?this.kl||this.ll||this.ml||this.jl||this.Mh||this.Jh||this.Kh||this.Lh||this.nl:a?this.kl||this.ll||this.ml||this.jl:!!b&&(this.Mh||this.Jh||this.Kh||this.Lh)},O:function(a){this.index=a.index;this.alpha=a.alpha;this.La=a.La;this.ml=a.ml;this.jl=
a.jl;this.kl=a.kl;this.ll=a.ll;this.nl=a.nl;this.fu=a.fu}},b.nf.prototype.constructor=b.nf,Object.defineProperty(b.nf.prototype,"collides",{get:function(){return this.kl||this.ll||this.ml||this.jl}}),Object.defineProperty(b.nf.prototype,"canCollide",{get:function(){return this.kl||this.ll||this.ml||this.jl||this.nl}}),Object.defineProperty(b.nf.prototype,"left",{get:function(){return this.so}}),Object.defineProperty(b.nf.prototype,"right",{get:function(){return this.so+this.width}}),Object.defineProperty(b.nf.prototype,
"top",{get:function(){return this.to}}),Object.defineProperty(b.nf.prototype,"bottom",{get:function(){return this.to+this.height}}),b.ac=function(a,c,d,e,g,h){this.a=a;this.key=c;a=b.sD.parse(this.a,c,d,e,g,h);null!==a&&(this.width=a.width,this.height=a.height,this.yd=a.yd,this.xd=a.xd,this.orientation=a.orientation,this.format=a.format,this.version=a.version,this.La=a.La,this.fh=a.fh,this.Og=a.Og,this.ba=a.ba,this.lg=a.lg,this.mH=a.mH,this.fi=a.fi,this.ga=a.ga,this.My=a.My,this.images=a.images,this.wu=
!1,this.Ig=0,this.cG=[],this.Ka=[])},b.ac.Do=0,b.ac.Ms=1,b.ac.XZ=0,b.ac.WY=1,b.ac.z0=2,b.ac.Z0=3,b.ac.prototype={create:function(a,b,d,e,g,h){return void 0===h&&(h=this.a.g),this.width=b,this.height=d,this.bW(e,g),this.ba.length=0,this.PP(a,b,d,e,g,h)},bW:function(a,b){this.yd=a;this.xd=b;this.fh=this.width*a;this.Og=this.height*b},PP:function(a,c,d,e,g,h){if(void 0===h&&(h=this.a.g),null!==this.TG(a))return void console.warn("Tilemap.createBlankLayer: Layer with matching name already exists: "+a);
for(var f,m={name:a,x:0,y:0,width:c,height:d,fh:c*e,Og:d*g,alpha:1,visible:!0,La:{},nH:[],dn:[],Qa:[],data:null},k=[],l=0;l<d;l++){f=[];for(var n=0;n<c;n++)f.push(new b.nf(m,-1,n,l,e,g));k.push(f)}m.data=k;this.ba.push(m);this.Ig=this.ba.length-1;c=m.fh;m=m.Og;c>this.a.width&&(c=this.a.width);m>this.a.height&&(m=this.a.height);k=new b.cb(this.a,this,this.ba.length-1,c,m);return k.name=a,h.add(k)},Mg:function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return c;return null},TG:function(a){return this.Mg(this.ba,
a)},Sj:function(a){return void 0===a?a=this.Ig:"string"==typeof a?a=this.TG(a):a instanceof b.cb&&(a=a.index),a},gP:function(a){if(this.J4)return void(this.b4[a]=!0);for(var b=null,d=null,e=null,g=null,h=0,k=this.ba[a].height;h<k;h++)for(var l=0,n=this.ba[a].width;l<n;l++){var q=this.ba[a].data[h][l];q&&(b=this.rR(a,l,h),d=this.sR(a,l,h),e=this.tR(a,l,h),g=this.uR(a,l,h),q.hn&&(q.Mh=!0,q.Jh=!0,q.Kh=!0,q.Lh=!0),b&&b.hn&&(q.Mh=!1),d&&d.hn&&(q.Jh=!1),e&&e.hn&&(q.Kh=!1),g&&g.hn&&(q.Lh=!1))}},rR:function(a,
b,d){return 0<d?this.ba[a].data[d-1][b]:null},sR:function(a,b,d){return d<this.ba[a].height-1?this.ba[a].data[d+1][b]:null},tR:function(a,b,d){return 0<b?this.ba[a].data[d][b-1]:null},uR:function(a,b,d){return b<this.ba[a].width-1?this.ba[a].data[d][b+1]:null},UV:function(a){a=this.Sj(a);this.ba[a]&&(this.Ig=a)},O:function(a,b,d,e,g){if(g=this.Sj(g),!this.ba[g])return void(this.Ka.length=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=this.ba[g].width);void 0===e&&(e=this.ba[g].height);0>a&&
(a=0);0>b&&(b=0);d>this.ba[g].width&&(d=this.ba[g].width);e>this.ba[g].height&&(e=this.ba[g].height);this.Ka.length=0;this.Ka.push({x:a,y:b,width:d,height:e,ze:g});for(var c=b;c<b+e;c++)for(var f=a;f<a+d;f++)this.Ka.push(this.ba[g].data[c][f]);return this.Ka},lr:function(a,b,d,e){if(void 0===a&&(a=0),void 0===b&&(b=0),e=this.Sj(e),d&&!(2>d.length)){a-=d[1].x;b-=d[1].y;for(var c=1;c<d.length;c++)this.ba[e].data[b+d[c].y][a+d[c].x].O(d[c]);this.ba[e].m=!0;this.gP(e)}},forEach:function(a,b,d,e,g,h,k){k=
this.Sj(k);this.O(d,e,g,h,k);2>this.Ka.length||(this.Ka.forEach(a,b),this.lr(d,e,this.Ka,k))},replace:function(a,b,d,e,g,h,k){if(k=this.Sj(k),this.O(d,e,g,h,k),!(2>this.Ka.length)){for(g=1;g<this.Ka.length;g++)this.Ka[g].index===a&&(this.Ka[g].index=b);this.lr(d,e,this.Ka,k)}},random:function(a,b,d,e,g){if(g=this.Sj(g),this.O(a,b,d,e,g),!(2>this.Ka.length)){d=[];for(e=1;e<this.Ka.length;e++)if(this.Ka[e].index){var c=this.Ka[e].index;-1===d.indexOf(c)&&d.push(c)}for(e=1;e<this.Ka.length;e++)this.Ka[e].index=
this.a.sc.IA(d);this.lr(a,b,this.Ka,g)}},SJ:function(a,c,d,e,g){if(g=this.Sj(g),this.O(a,c,d,e,g),!(2>this.Ka.length)){d=[];for(e=1;e<this.Ka.length;e++)this.Ka[e].index&&d.push(this.Ka[e].index);b.Dw.SJ(d);for(e=1;e<this.Ka.length;e++)this.Ka[e].index=d[e-1];this.lr(a,c,this.Ka,g)}},fill:function(a,b,d,e,g,h){if(h=this.Sj(h),this.O(b,d,e,g,h),!(2>this.Ka.length)){for(e=1;e<this.Ka.length;e++)this.Ka[e].index=a;this.lr(b,d,this.Ka,h)}},aV:function(){this.Ig=this.ba.length=0},dump:function(){for(var a=
"",b=[""],d=0;d<this.ba[this.Ig].height;d++){for(var e=0;e<this.ba[this.Ig].width;e++)a+="%c  ",1<this.ba[this.Ig].data[d][e]?this.cG[this.ba[this.Ig].data[d][e]]?b.push("background: "+this.cG[this.ba[this.Ig].data[d][e]]):b.push("background: #ffffff"):b.push("background: rgb(0, 0, 0)");a+="\n"}b[0]=a;console.log.apply(console,b)},j:function(){this.aV();this.data=[];this.a=null}},b.ac.prototype.constructor=b.ac,Object.defineProperty(b.ac.prototype,"layer",{get:function(){return this.ba[this.Ig]},
set:function(a){a!==this.Ig&&this.UV(a)}}),b.cb=function(a,c,d,e,g){e|=0;g|=0;b.ka.call(this,a,0,0);this.map=c;this.index=d;this.ze=c.ba[d];this.canvas=PIXI.ab.create(this,e,g);this.context=this.canvas.getContext("2d");this.fj(new PIXI.bb(new PIXI.Uc(this.canvas)));this.gc=this.type=b.bp;this.bB={yQ:!1,y4:.2,UF:null};this.debug=!1;this.Ia=!0;this.Eh={$H:"rgb(255,255,255)",dG:"rgba(0,255,0,0.4)",PQ:!0,aQ:.5,rG:"rgba(0,255,0,1)",MF:"rgba(0,255,0,0.2)"};this.Rl=this.Ql=1;this.m=!0;this.dy=!1;this.Oa=
{scrollX:0,scrollY:0,dB:0,$A:0,yd:c.yd,xd:c.xd,Ii:c.yd,ch:c.xd,lg:[]};this.Ej=this.Dj=0;this.Ka=[];a.pa.Ay||(this.bB.UF=b.cb.BQ());this.Ld=!0},b.cb.prototype=Object.create(b.ka.prototype),b.cb.prototype.constructor=b.cb,b.cb.prototype.cf=b.B.Tb.X,b.cb.uB=null,b.cb.BQ=function(){return this.uB||(this.uB=PIXI.ab.create(this,2,2)),this.uB},b.cb.prototype.X=function(){return this.cf()},b.cb.prototype.Fb=function(){this.Ld&&(this.position.x=(this.a.K.view.x+this.ja.x)/this.a.K.scale.x,this.position.y=
(this.a.K.view.y+this.ja.y)/this.a.K.scale.y);this.Dj=this.a.K.view.x*this.Ql/this.scale.x;this.Ej=this.a.K.view.y*this.Rl/this.scale.y},b.cb.prototype.$d=function(a){this.Ld&&(this.position.x=(this.a.K.view.x+this.ja.x)/this.a.K.scale.x,this.position.y=(this.a.K.view.y+this.ja.y)/this.a.K.scale.y);this.Dj=this.a.K.view.x*this.Ql/this.scale.x;this.Ej=this.a.K.view.y*this.Rl/this.scale.y;this.Xa();PIXI.ka.prototype.$d.call(this,a)},b.cb.prototype.nd=function(a){this.Ld&&(this.position.x=(this.a.K.view.x+
this.ja.x)/this.a.K.scale.x,this.position.y=(this.a.K.view.y+this.ja.y)/this.a.K.scale.y);this.Dj=this.a.K.view.x*this.Ql/this.scale.x;this.Ej=this.a.K.view.y*this.Rl/this.scale.y;this.Xa();PIXI.ka.prototype.nd.call(this,a)},b.cb.prototype.j=function(){PIXI.ab.remove(this);b.B.Jo.prototype.j.call(this)},b.cb.prototype.resize=function(a,b){this.canvas.width=a;this.canvas.height=b;this.c.frame.resize(a,b);this.c.width=a;this.c.height=b;this.c.la.width=a;this.c.la.height=b;this.c.A.width=a;this.c.A.height=
b;this.c.A.m();this.c.rV=!0;this.c.Op();this.m=!0},b.cb.prototype.WM=function(a){return 1===this.Ql||0===this.Ql&&0===this.position.x?a:0===this.Ql&&0!==this.position.x?a-this.position.x:this.Dj+(a-this.Dj/this.Ql)},b.cb.prototype.XM=function(a){return 1===this.Rl||0===this.Rl&&0===this.position.y?a:0===this.Rl&&0!==this.position.y?a-this.position.y:this.Ej+(a-this.Ej/this.Rl)},b.cb.prototype.wR=function(a,b,d,e,g,h){void 0===g&&(g=!1);void 0===h&&(h=!1);var c=!(g||h);a=this.WM(a);b=this.XM(b);var f=
Math.floor(a/(this.Oa.Ii*this.scale.x)),m=Math.floor(b/(this.Oa.ch*this.scale.y));a=Math.ceil((a+d)/(this.Oa.Ii*this.scale.x))-f;for(b=Math.ceil((b+e)/(this.Oa.ch*this.scale.y))-m;this.Ka.length;)this.Ka.pop();for(e=m;e<m+b;e++)for(d=f;d<f+a;d++){var k=this.ze.data[e];k&&k[d]&&(c||k[d].cS(g,h))&&this.Ka.push(k[d])}return this.Ka.slice()},b.cb.prototype.xV=function(a){var b=this.Oa.lg;if(2E3>a)for(;b.length<a;)b.push(void 0);var d=this.map.fi[a]&&this.map.fi[a][2];return null!==d&&(d=this.map.lg[d])&&
d.NP(a)?b[a]=d:b[a]=null},b.cb.prototype.kW=function(a,b,d){var c=a.canvas,e=c.width-Math.abs(b),g=c.height-Math.abs(d),h=0,k=0,l=b,n=d;0>b&&(h=-b,l=0);0>d&&(k=-d,n=0);(b=this.bB.UF)?((b.width<e||b.height<g)&&(b.width=e,b.height=g),d=b.getContext("2d"),d.clearRect(0,0,e,g),d.drawImage(c,h,k,e,g,0,0,e,g),a.clearRect(l,n,e,g),a.drawImage(b,0,0,e,g,l,n,e,g)):(a.save(),a.globalCompositeOperation="copy",a.drawImage(c,h,k,e,g,l,n,e,g),a.restore())},b.cb.prototype.aB=function(a,b,d,e,g,h){var c=this.context,
f=this.ze.width,k=this.ze.height,m=this.Oa.yd,l=this.Oa.xd,n=this.Oa.lg,p=NaN;this.dy||(d<=g&&(d=Math.max(0,d),g=Math.min(f-1,g)),e<=h&&(e=Math.max(0,e),h=Math.min(k-1,h)));var x,A,B=d*m-a,z=(d+1048576*f)%f;a=(e+1048576*k)%k;h-=e;for(e=e*l-b;0<=h;a++,h--,e+=l){a>=k&&(a-=k);var D=this.ze.data[a];x=z;A=g-d;for(b=B;0<=A;x++,A--,b+=m){x>=f&&(x-=f);var E=D[x];if(E&&!(0>E.index)){var H=E.index,I=n[H];void 0===I&&(I=this.xV(H));E.alpha===p||this.debug||(c.globalAlpha=E.alpha,p=E.alpha);I?E.rotation||E.mz?
(c.save(),c.translate(b+E.qd,e+E.rd),c.rotate(E.rotation),E.mz&&c.scale(-1,1),I.Pj(c,-E.qd,-E.rd,H),c.restore()):I.Pj(c,b,e,H):this.Eh.$H&&(c.fillStyle=this.Eh.$H,c.fillRect(b,e,m,l));E.debug&&this.Eh.dG&&(c.fillStyle=this.Eh.dG,c.fillRect(b,e,m,l))}}}},b.cb.prototype.lV=function(a,b){var c=this.Oa.scrollX,e=this.Oa.scrollY,g=this.canvas.width,h=this.canvas.height,k=this.Oa.yd,l=this.Oa.xd,n=0,q=-k,t=0,y=-l;if(0>a?(n=g+a,q=g-1):0<a&&(q=a),0>b?(t=h+b,y=h-1):0<b&&(y=b),this.kW(this.context,a,b),n=Math.floor((n+
c)/k),q=Math.floor((q+c)/k),t=Math.floor((t+e)/l),y=Math.floor((y+e)/l),n<=q)this.context.clearRect(n*k-c,0,(q-n+1)*k,h),this.aB(c,e,n,Math.floor((0+e)/l),q,Math.floor((h-1+e)/l));t<=y&&(this.context.clearRect(0,t*l-e,g,(y-t+1)*l),this.aB(c,e,Math.floor((0+c)/k),t,Math.floor((g-1+c)/k),y))},b.cb.prototype.mV=function(){var a=this.Oa.scrollX,b=this.Oa.scrollY,d=this.canvas.width,e=this.canvas.height,g=this.Oa.yd,h=this.Oa.xd,k=Math.floor(a/g),g=Math.floor((d-1+a)/g),l=Math.floor(b/h),h=Math.floor((e-
1+b)/h);this.context.clearRect(0,0,d,e);this.aB(a,b,k,l,g,h)},b.cb.prototype.Xa=function(){var a=!1;if(this.visible){(this.m||this.ze.m)&&(this.ze.m=!1,a=!0);var b=this.canvas.width,d=this.canvas.height,e=0|this.Dj,g=0|this.Ej,h=this.Oa,k=h.scrollX-e,l=h.scrollY-g;if(a||0!==k||0!==l||h.dB!==b||h.$A!==d)return this.context.save(),h.scrollX=e,h.scrollY=g,h.dB===b&&h.$A===d||(h.dB=b,h.$A=d),this.debug&&(this.context.globalAlpha=this.Eh.aQ,this.Eh.PQ&&(a=!0)),!a&&this.bB.yQ&&Math.abs(k)+Math.abs(l)<Math.min(b,
d)?this.lV(k,l):this.mV(),this.debug&&(this.context.globalAlpha=1,this.kV()),this.c.A.m(),this.m=!1,this.context.restore(),!0}},b.cb.prototype.kV=function(){var a,b,d,e,g,h;e=this.Oa.scrollX;a=this.Oa.scrollY;var k=this.context,l=this.ze.width,n=this.ze.height,q=this.Oa.yd,t=this.Oa.xd,y=Math.floor(e/q),v=Math.floor((this.canvas.width-1+e)/q);b=Math.floor(a/t);h=Math.floor((this.canvas.height-1+a)/t);var x=y*q-e,A=(y+1048576*l)%l;k.strokeStyle=this.Eh.rG;e=(b+1048576*n)%n;h-=b;for(b=b*t-a;0<=h;e++,
h--,b+=t){e>=n&&(e-=n);var B=this.ze.data[e];d=A;g=v-y;for(a=x;0<=g;d++,g--,a+=q){d>=l&&(d-=l);var z=B[d];!z||0>z.index||!z.hn||(this.Eh.MF&&(k.fillStyle=this.Eh.MF,k.fillRect(a,b,this.Oa.Ii,this.Oa.ch)),this.Eh.rG&&(k.beginPath(),z.Mh&&(k.moveTo(a,b),k.lineTo(a+this.Oa.Ii,b)),z.Jh&&(k.moveTo(a,b+this.Oa.ch),k.lineTo(a+this.Oa.Ii,b+this.Oa.ch)),z.Kh&&(k.moveTo(a,b),k.lineTo(a,b+this.Oa.ch)),z.Lh&&(k.moveTo(a+this.Oa.Ii,b),k.lineTo(a+this.Oa.Ii,b+this.Oa.ch)),k.closePath(),k.stroke()))}}},Object.defineProperty(b.cb.prototype,
"wrap",{get:function(){return this.dy},set:function(a){this.dy=a;this.m=!0}}),Object.defineProperty(b.cb.prototype,"scrollX",{get:function(){return this.Dj},set:function(a){this.Dj=a}}),Object.defineProperty(b.cb.prototype,"scrollY",{get:function(){return this.Ej},set:function(a){this.Ej=a}}),Object.defineProperty(b.cb.prototype,"collisionWidth",{get:function(){return this.Oa.Ii},set:function(a){this.Oa.Ii=0|a;this.m=!0}}),Object.defineProperty(b.cb.prototype,"collisionHeight",{get:function(){return this.Oa.ch},
set:function(a){this.Oa.ch=0|a;this.m=!0}}),b.sD={UL:!1,parse:function(a,c,d,e,g,h){if(void 0===d&&(d=32),void 0===e&&(e=32),void 0===g&&(g=10),void 0===h&&(h=10),void 0===c)return this.yz();if(null===c)return this.yz(d,e,g,h);if(a=a.cache.vR(c)){if(a.format===b.ac.Do)return this.fU(c,a.data,d,e);if(!a.format||a.format===b.ac.Ms)return this.gU(a.data)}else console.warn("Phaser.TilemapParser.parse - No map data found for key "+c)},fU:function(a,c,d,e){var f=this.yz();c=c.trim();var g=[];c=c.split("\n");
for(var h=c.length,k=0,l=0;l<c.length;l++){g[l]=[];for(var n=c[l].split(","),t=0;t<n.length;t++)g[l][t]=new b.nf(f.ba[0],parseInt(n[t],10),t,l,d,e);0===k&&(k=n.length)}return f.format=b.ac.Do,f.name=a,f.width=k,f.height=h,f.yd=d,f.xd=e,f.fh=k*d,f.Og=h*e,f.ba[0].width=k,f.ba[0].height=h,f.ba[0].fh=f.fh,f.ba[0].Og=f.Og,f.ba[0].data=g,f},yz:function(a,b,d,e){return{width:void 0!==d&&null!==d?d:0,height:void 0!==e&&null!==e?e:0,yd:void 0!==a&&null!==a?a:0,xd:void 0!==b&&null!==b?b:0,orientation:"orthogonal",
version:"1",La:{},fh:0,Og:0,ba:[{name:"layer",x:0,y:0,width:0,height:0,fh:0,Og:0,alpha:1,visible:!0,La:{},nH:[],dn:[],Qa:[],data:[]}],images:[],ga:{},My:{},lg:[],fi:[]}},gU:function(a){function c(a,b){var c={},d;for(d in b){var e=b[d];"undefined"!=typeof a[e]&&(c[e]=a[e])}return c}if("orthogonal"!==a.orientation)return console.warn("TilemapParser.parseTiledJSON - Only orthogonal map types are supported in this version of Phaser"),null;for(var d={width:a.width,height:a.height,yd:a.bm,xd:a.$l,orientation:a.orientation,
format:b.ac.Ms,version:a.version,La:a.La,fh:a.width*a.bm,Og:a.height*a.$l},e=[],g=0;g<a.ba.length;g++)if("tilelayer"===a.ba[g].type){var h=a.ba[g];if(!h.IP&&h.encoding&&"base64"===h.encoding){for(var k=window.atob(h.data),l=k.length,n=Array(l),q=0;q<l;q+=4)n[q/4]=(k.charCodeAt(q)|k.charCodeAt(q+1)<<8|k.charCodeAt(q+2)<<16|k.charCodeAt(q+3)<<24)>>>0;h.data=n;delete h.encoding}else if(h.IP){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+h.name+"'");
continue}n={name:h.name,x:h.x,y:h.y,width:h.width,height:h.height,fh:h.width*a.bm,Og:h.height*a.$l,alpha:h.opacity,visible:h.visible,La:{},nH:[],dn:[],Qa:[]};h.La&&(n.La=h.La);for(var t,y,v,x,q=0,A=[],B=[],k=0,l=h.data.length;k<l;k++){if(t=0,y=!1,x=h.data[k],v=0,536870912<x)switch(2147483648<x&&(x-=2147483648,v+=4),1073741824<x&&(x-=1073741824,v+=2),536870912<x&&(x-=536870912,v+=1),v){case 5:t=Math.PI/2;break;case 6:t=Math.PI;break;case 3:t=3*Math.PI/2;break;case 4:t=0;y=!0;break;case 7:t=Math.PI/
2;y=!0;break;case 2:t=Math.PI;y=!0;break;case 1:t=3*Math.PI/2,y=!0}if(0<x){var z=new b.nf(n,x,q,B.length,a.bm,a.$l);z.rotation=t;z.mz=y;0!==v&&(z.B2=v);A.push(z)}else b.sD.UL?A.push(null):A.push(new b.nf(n,-1,q,B.length,a.bm,a.$l));q++;q===h.width&&(B.push(A),q=0,A=[])}n.data=B;e.push(n)}d.ba=e;l=[];for(g=0;g<a.ba.length;g++)"imagelayer"===a.ba[g].type&&(x=a.ba[g],q={name:x.name,qb:x.qb,x:x.x,y:x.y,alpha:x.opacity,visible:x.visible,La:{}},x.La&&(q.La=x.La),l.push(q));d.images=l;k=[];e=[];h=null;for(g=
0;g<a.lg.length;g++){l=a.lg[g];if(l.qb)x=new b.Ps(l.name,l.Zf,l.bm,l.$l,l.margin,l.Fr,l.La),l.SW&&(x.LB=l.SW),x.zX(l.j3,l.i3),k.push(x);else{var n=new b.ws(l.name,l.Zf,l.bm,l.$l,l.margin,l.Fr,l.La),D;for(D in l.fi)q=l.fi[D].qb,x=l.Zf+parseInt(D,10),n.Um(x,q);e.push(n)}h&&(h.D3=l.Zf-1);h=l}d.lg=k;d.mH=e;D={};x={};for(g=0;g<a.ba.length;g++)if("objectgroup"===a.ba[g].type)for(q=a.ba[g],D[q.name]=[],x[q.name]=[],k=0,l=q.ga.length;k<l;k++){if(q.ga[k].Cz)e={Cz:q.ga[k].Cz,name:q.ga[k].name,type:q.ga[k].hasOwnProperty("type")?
q.ga[k].type:"",x:q.ga[k].x,y:q.ga[k].y,visible:q.ga[k].visible,La:q.ga[k].La},q.ga[k].rotation&&(e.rotation=q.ga[k].rotation);else if(q.ga[k].pr){e={name:q.ga[k].name,type:q.ga[k].type,x:q.ga[k].x,y:q.ga[k].y,width:q.ga[k].width,height:q.ga[k].height,visible:q.ga[k].visible,La:q.ga[k].La};q.ga[k].rotation&&(e.rotation=q.ga[k].rotation);e.pr=[];for(h=0;h<q.ga[k].pr.length;h++)e.pr.push([q.ga[k].pr[h].x,q.ga[k].pr[h].y]);x[q.name].push(e)}else if(q.ga[k].or)for(e=c(q.ga[k],"name type x y visible rotation properties".split(" ")),
e.or=[],h=0;h<q.ga[k].or.length;h++)e.or.push([q.ga[k].or[h].x,q.ga[k].or[h].y]);else q.ga[k].ellipse?e=c(q.ga[k],"name type ellipse x y width height visible rotation properties".split(" ")):(e=c(q.ga[k],"name type x y width height visible rotation properties".split(" ")),e.WU=!0);D[q.name].push(e)}d.ga=D;d.My=x;d.fi=[];for(g=0;g<d.lg.length;g++)for(l=d.lg[g],a=q=l.xk,e=x=D=0,k=l.Zf;k<l.Zf+l.total&&(d.fi[k]=[q,a,g],q+=l.yd+l.yk,D++,D!==l.total)&&(x++,x!==l.bq||(q=l.xk,a+=l.xd+l.yk,x=0,e++,e!==l.rows));k++);
for(var E,g=0;g<d.ba.length;g++)for(n=d.ba[g],l=null,q=0;q<n.data.length;q++)for(A=n.data[q],a=0;a<A.length;a++)z=A[a],null===z||0>z.index||(E=d.fi[z.index][2],l=d.lg[E],l.LB&&l.LB[z.index-l.Zf]&&(z.La=b.nc.jA(l.LB[z.index-l.Zf],z.La)));return d}},b.Ps=function(a,b,d,e,g,h,k){(void 0===d||0>=d)&&(d=32);(void 0===e||0>=e)&&(e=32);void 0===g&&(g=0);void 0===h&&(h=0);this.name=a;this.Zf=0|b;this.yd=0|d;this.xd=0|e;this.xk=0|g;this.yk=0|h;this.La=k||{};this.qb=null;this.total=this.bq=this.rows=0;this.nn=
[]},b.Ps.prototype={Pj:function(a,b,d,e){e=e-this.Zf<<1;0<=e&&e+1<this.nn.length&&a.drawImage(this.qb,this.nn[e],this.nn[e+1],this.yd,this.xd,b,d,this.yd,this.xd)},NP:function(a){return a>=this.Zf&&a<this.Zf+this.total},zX:function(a,b){var c=(b-2*this.xk+this.yk)/(this.xd+this.yk),e=(a-2*this.xk+this.yk)/(this.yd+this.yk);0===c%1&&0===e%1||console.warn("Phaser.Tileset - "+this.name+" image tile area is not an even multiple of tile size");c=Math.floor(c);e=Math.floor(e);(this.rows&&this.rows!==c||
this.bq&&this.bq!==e)&&console.warn("Phaser.Tileset - actual and expected number of tile rows and columns differ");this.rows=c;this.bq=e;this.total=c*e;this.nn.length=0;for(var e=c=this.xk,g=0;g<this.rows;g++){for(var h=0;h<this.bq;h++)this.nn.push(c),this.nn.push(e),c+=this.yd+this.yk;c=this.xk;e+=this.xd+this.yk}}},b.Ps.prototype.constructor=b.Ps,b.sj=function(a,c,d,e,g){b.ka.call(this,a,c,d,e,g);this.Zm=!1;this.Pl=null;this.Yk=0;this.Ym=!1;this.Rp=null;this.fp=0},b.sj.prototype=Object.create(b.ka.prototype),
b.sj.prototype.constructor=b.sj,b.sj.prototype.update=function(){this.Zm&&(this.Yk--,this.Yk?this.scale.set(this.Pl[this.Yk].x,this.Pl[this.Yk].y):this.Zm=!1);this.Ym&&(this.fp--,this.fp?this.alpha=this.Rp[this.fp].aC:this.Ym=!1)},b.sj.prototype.NV=function(a){this.Rp=a;this.fp=a.length-1;this.alpha=this.Rp[this.fp].aC;this.Ym=!0},b.sj.prototype.YV=function(a){this.Pl=a;this.Yk=a.length-1;this.scale.set(this.Pl[this.Yk].x,this.Pl[this.Yk].y);this.Zm=!0},b.sj.prototype.reset=function(a,c,d){return b.B.Hs.prototype.reset.call(this,
a,c,d),this.alpha=1,this.scale.set(1),this.Zm=!1,this.Ym=!1,this},b.Ub=function(a){this.a=a;this.rq={};this.TL=0},b.Ub.prototype={add:function(a){return this.rq[a.name]=a,a},remove:function(a){delete this.rq[a.name]},update:function(){for(var a in this.rq)this.rq[a].Ia&&this.rq[a].update()}},b.Ub.prototype.constructor=b.Ub,b.Ub.$={},b.Ub.$.fd=function(a,c,d,e){this.UH=e||50;b.G.call(this,a);this.name="emitter"+this.a.Il.TL++;this.type=b.GL;this.gc=b.Vd;this.ra=new b.v(c,d,1,1);this.ZH=new b.h(-100,
-100);this.TH=new b.h(100,100);this.SH=this.YH=1;this.Pl=null;this.IS=-360;this.BS=360;this.AS=this.GS=1;this.Rp=null;this.Ab=100;this.kU=new b.h;this.Ot=0;this.frequency=100;this.Si=2E3;this.dc=new b.h;this.af=!1;new b.h(.5,.5);this.cc=b.Ve.ui;this.cz=c;this.dz=d;this.mU=this.hU=this.Ym=this.Zm=!1;this.pt=new b.h(1,1);this.ot=new b.h(1,1);this.np=this.KD=this.Tk=this.$x=this.Qx=0;this.ya=null},b.Ub.$.fd.prototype=Object.create(b.G.prototype),b.Ub.$.fd.prototype.constructor=b.Ub.$.fd,b.Ub.$.fd.prototype.update=
function(){if(this.af&&this.a.time.time>=this.$x)if(this.$x=this.a.time.time+this.frequency*this.a.time.Cr,0!==this.np)if(0<this.KD)for(var a=0;a<this.KD;a++){if(this.vu()&&(this.Tk++,-1!==this.np&&this.Tk>=this.np)){this.af=!1;break}}else this.vu()&&(this.Tk++,-1!==this.np&&this.Tk>=this.np&&(this.af=!1));else this.vu()&&(this.Tk++,0<this.Qx&&this.Tk>=this.Qx&&(this.af=!1));for(a=this.children.length;a--;)this.children[a].Ia&&this.children[a].update()},b.Ub.$.fd.prototype.$j=function(){return this.af=
!1,this.Dg=!1,this.Ia=!1,this},b.Ub.$.fd.prototype.BJ=function(){return this.Dg=!0,this.Ia=!0,this},b.Ub.$.fd.prototype.start=function(a,b,d,e,g){if(void 0===a&&(a=!0),void 0===b&&(b=0),void 0!==d&&null!==d||(d=250),void 0===e&&(e=0),void 0===g&&(g=!1),e>this.UH&&(e=this.UH),this.BJ(),this.visible=!0,this.Si=b,this.frequency=d,a||g)for(a=0;a<e;a++)this.vu();else this.af=!0,this.Qx=e,this.Tk=0,this.$x=this.a.time.time+d*this.a.time.Cr;return this},b.Ub.$.fd.prototype.vu=function(a,b,d,e){void 0===
a&&(a=null);void 0===b&&(b=null);var c=this.zz();if(null===c)return!1;var f=this.a.sc;void 0!==d&&void 0!==e?c.Th(d,e):void 0!==d&&c.Th(d);d=this.cz;var g=this.dz;null!==a?d=a:1<this.width&&(d=f.wf(this.left,this.right));null!==b?g=b:1<this.height&&(g=f.wf(this.top,this.bottom));c.reset(d,g);c.angle=0;c.Si=this.Si;this.hU?this.wh(c):this.mU&&this.kB(c);this.Zm?c.YV(this.Pl):1!==this.YH||1!==this.SH?c.scale.set(f.Sn(this.YH,this.SH)):this.pt.x===this.ot.x&&this.pt.y===this.ot.y||c.scale.set(f.Sn(this.pt.x,
this.ot.x),f.Sn(this.pt.y,this.ot.y));void 0===e&&(Array.isArray(this.ya)?c.frame=this.a.sc.IA(this.ya):c.frame=this.ya);this.Ym?c.NV(this.Rp):c.alpha=f.Sn(this.GS,this.AS);c.cc=this.cc;a=c.body;return a.DK(),a.dc.Jd(this.dc),a.Yy.Jd(this.kU),a.i.x=f.wf(this.ZH.x,this.TH.x),a.i.y=f.wf(this.ZH.y,this.TH.y),a.Pa=f.wf(this.IS,this.BS),a.Ab.y=this.Ab,a.Ot=this.Ot,!0},b.Ub.$.fd.prototype.j=function(){this.a.Il.remove(this);b.G.prototype.j.call(this,!0,!1)},b.Ub.$.fd.prototype.Xn=function(a,b){return this.ra.width=
a,this.ra.height=b,this},Object.defineProperty(b.Ub.$.fd.prototype,"width",{get:function(){return this.ra.width},set:function(a){this.ra.width=a}}),Object.defineProperty(b.Ub.$.fd.prototype,"height",{get:function(){return this.ra.height},set:function(a){this.ra.height=a}}),Object.defineProperty(b.Ub.$.fd.prototype,"x",{get:function(){return this.cz},set:function(a){this.cz=a}}),Object.defineProperty(b.Ub.$.fd.prototype,"y",{get:function(){return this.dz},set:function(a){this.dz=a}}),Object.defineProperty(b.Ub.$.fd.prototype,
"left",{get:function(){return Math.floor(this.x-this.ra.width/2)}}),Object.defineProperty(b.Ub.$.fd.prototype,"right",{get:function(){return Math.floor(this.x+this.ra.width/2)}}),Object.defineProperty(b.Ub.$.fd.prototype,"top",{get:function(){return Math.floor(this.y-this.ra.height/2)}}),Object.defineProperty(b.Ub.$.fd.prototype,"bottom",{get:function(){return Math.floor(this.y+this.ra.height/2)}}),b.eb=function(a,c){b.Plugin.call(this,a,c);this.Uf=null;this.rO=this.nO=!1;this.uq=this.vB=0;this.uG=
100;this.vG=0;this.Eb=new b.v(0,0,1,1);this.KQ=b.iL;this.XO=!1;this.Vt="";this.dP=this.VO=this.WO=!1;this.yy=this.TO=this.eP=0;this.cP=200;this.ZO=this.aP=this.Zt=0;this.hF=new b.h(0,0);this.bP=!1;this.UO=this.YO="";this.jx=b.jm;this.ED=!1;this.kx=b.eb.JC;this.xg={ZP:!1,width:0,height:0,offsetX:0,offsetY:0};this.l=new b.v;this.Wt=a.g.l;this.Yt=[];this.Xt=0;this.dO={};this.jT=new b.D;this.uT=new b.D;this.kT=new b.D;this.zk=this.pe=null;this.xK=!1;this.hi=new b.h;this.zx=0;this.Qm=new b.h},b.eb.prototype=
Object.create(b.Plugin.prototype),b.eb.prototype.constructor=b.eb,b.eb.MZ=0,b.eb.HC=1,b.eb.bM=2,b.eb.IC=3,b.eb.aM=4,b.eb.JC=5,b.eb.cM=6,b.eb.prototype.forEach=function(a,b){return this.Uf.BG(a,b,arguments),this},b.eb.prototype.TI=function(){return this.Uf.Wn("body.enable",!1),this},b.eb.prototype.zJ=function(){return this.Uf.Wn("body.enable",!0),this},b.eb.prototype.j=function(){this.parent.remove(this,!1);this.Uf.j();this.parent=this.a=null;this.visible=this.active=!1},b.eb.prototype.update=function(){this.kx===
b.eb.IC&&(this.pe?(this.pe.Cb(),this.l.Fi(this.pe.Yr.x,this.pe.Yr.y)):this.zk&&this.l.Fi(this.zk.so,this.zk.to));this.rO&&this.JQ()},b.eb.prototype.JQ=function(a,c,d){if(this.a.time.now<this.zx||0<this.uq&&this.vB===this.uq)return!1;var e=this.cP;0!==this.Zt&&(e+=b.Math.wf(-this.Zt,this.Zt));a?1<this.Eb.width?this.Eb.Fi(a.x,a.y):(this.Eb.x=a.x,this.Eb.y=a.y):this.pe?(this.xK?(this.Qm.set(this.pe.g.x+this.hi.x,this.pe.g.y+this.hi.y),this.Qm.rotate(this.pe.g.x,this.pe.g.y,this.pe.rotation),1<this.Eb.width?
this.Eb.Fi(this.Qm.x,this.Qm.y):(this.Eb.x=this.Qm.x,this.Eb.y=this.Qm.y)):1<this.Eb.width?this.Eb.Fi(this.pe.g.x+this.hi.x,this.pe.g.y+this.hi.y):(this.Eb.x=this.pe.g.x+this.hi.x,this.Eb.y=this.pe.g.y+this.hi.y),this.XO&&(e+=this.pe.body.speed)):this.zk&&(1<this.Eb.width?this.Eb.Fi(this.zk.g.x+this.hi.x,this.zk.g.y+this.hi.y):(this.Eb.x=this.zk.g.x+this.hi.x,this.Eb.y=this.zk.g.y+this.hi.y));a=1<this.Eb.width?this.Eb.RU:this.Eb.x;var g=1<this.Eb.height?this.Eb.SU:this.Eb.y,h=this.xK?this.pe.angle:
this.KQ;void 0!==c&&void 0!==d&&(h=this.a.Pc.Rn(Math.atan2(d-g,c-a)));0!==this.yy&&(h+=b.Math.wf(-this.yy,this.yy));var k=d=0;0===h||180===h?d=Math.cos(this.a.Pc.Gh(h))*e:90===h||270===h?k=Math.sin(this.a.Pc.Gh(h))*e:(d=Math.cos(this.a.Pc.Gh(h))*e,k=Math.sin(this.a.Pc.Gh(h))*e);c=null;if(this.nO?(c=this.Uf.zz(!0,a,g,this.YO,this.UO),c.data.$p=this):c=this.Uf.zz(),c)(c.reset(a,g),c.data.KG=a,c.data.LG=g,c.data.Zz=this.$O,c.data.FH=this.ZO,c.data.CJ=this.bP,this.$O===b.eb.HC&&(c.Si=this.aP),c.angle=
h+this.TO,""!==this.Vt)?(null===c.Lb.aR(this.Vt)&&(a=this.dO[this.Vt],c.Lb.add(a.name,a.frames,a.GG,a.loop,a.B5)),c.Lb.play(this.Vt)):this.VO?(c.frame=this.Yt[this.Xt],this.Xt++,this.Xt>=this.Yt.length&&(this.Xt=0)):this.WO&&(c.frame=this.Yt[Math.floor(Math.random()*this.Yt.length)]),(c.data.cF&&(this.xg.ZP&&c.body.Xn(this.xg.width,this.xg.height,this.xg.offsetX,this.xg.offsetY),c.body.LF=this.Z1,c.data.cF=!1),c.body.i.set(d,k),c.body.Ab.set(this.hF.x,this.hF.y),0!==this.Zt)?(a=this.uG,a+=b.Math.wf(-this.vG,
this.vG),0>a&&(a=0),this.zx=this.a.time.now+a):this.zx=this.a.time.now+this.uG,this.vB++,this.jT.s(c,this,e),0<this.uq&&this.vB===this.uq&&this.kT.s(this,this.uq);return c},b.eb.prototype.debug=function(a,b,d){void 0===a&&(a=16);void 0===b&&(b=32);void 0===d&&(d=!1);this.a.debug.text("Weapon Plugin",a,b);this.a.debug.text("Bullets Alive: "+this.Uf.total+" - Total: "+this.Uf.length,a,b+24);d&&this.Uf.BG(this.a.debug.body,this.a.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(b.eb.prototype,
"bulletClass",{get:function(){return this.jx},set:function(a){this.jx=a;this.Uf.CF=this.jx}}),Object.defineProperty(b.eb.prototype,"bulletKillType",{get:function(){return this.kx},set:function(a){switch(a){case b.eb.cM:case b.eb.IC:this.Wt=this.l;break;case b.eb.aM:this.Wt=this.a.K.view;break;case b.eb.JC:this.Wt=this.a.g.l}this.kx=a}}),Object.defineProperty(b.eb.prototype,"bulletCollideWorldBounds",{get:function(){return this.ED},set:function(a){this.ED=a;this.Uf.Wn("body.collideWorldBounds",a);
this.Uf.Wn("data.bodyDirty",!1)}}),Object.defineProperty(b.eb.prototype,"x",{get:function(){return this.Eb.x},set:function(a){this.Eb.x=a}}),Object.defineProperty(b.eb.prototype,"y",{get:function(){return this.Eb.y},set:function(a){this.Eb.y=a}}),b.jm=function(a,c,d,e,g){b.ka.call(this,a,c,d,e,g);this.anchor.set(.5);this.data={$p:null,KG:0,LG:0,cF:!0,CJ:!1,Zz:0,FH:0}},b.jm.prototype=Object.create(b.ka.prototype),b.jm.prototype.constructor=b.jm,b.jm.prototype.$j=function(){return this.Dg=!1,this.Ia=
!1,this.visible=!1,this.data.$p.uT.s(this),this},b.jm.prototype.update=function(){this.Ia&&(this.data.Zz>b.eb.HC&&(this.data.Zz===b.eb.bM?this.a.ta.Id.lQ(this,this.data.KG,this.data.LG,!0)>this.data.FH&&this.$j():this.data.$p.Wt.Xb(this)||this.$j()),this.data.CJ&&(this.rotation=Math.atan2(this.body.i.y,this.body.i.x)),this.data.$p.dP&&this.a.g.$r(this,this.data.$p.eP))},b.Bd=function(a,c,d){if(void 0===c&&(c=null),void 0===d&&(d=null),this.a=a,this.key=c,this.width=0,this.height=0,this.type=b.VIDEO,
this.Vy=!1,this.Fc=!1,this.Gl=new b.D,this.uA=new b.D,this.hg=new b.D,this.timeout=15E3,this.al=null,this.video=null,this.po=null,this.Wz=!1,this.AJ=20,this.Tv=0,this.hB=500,this.Ip=null,this.Sk=!1,this.bc=!1,this.Xd=!1,this.Zc=!1,this.QM=!1,this.lp=null,this.yt=null,c&&this.a.cache.vP(c)){var e=this.a.cache.aH(c);e.wH?this.RP(e.data):this.video=e.data;this.width=this.video.videoWidth;this.height=this.video.videoHeight}else d&&this.SP(d,!1);this.video&&!d?(this.A=new PIXI.Uc(this.video),this.A.oz(this.width,
this.height)):(this.A=new PIXI.Uc(b.Cache.DEFAULT.A.source),this.A.oz(this.width,this.height));this.c=new PIXI.bb(this.A);this.ho=new b.ue(0,0,0,this.width,this.height,"video");this.c.Jf(this.ho);this.c.valid=!1;null!==c&&this.video&&(this.c.valid=this.video.$t);this.BB=null;b.Ke&&(this.BB=new b.Ke(this.a,"",this.width,this.height));!this.a.pa.xf&&(this.a.pa.Vj||this.a.pa.Sp)||window.gd&&window.gd.FQ?this.rB():e&&(e.locked=!1)},b.Bd.prototype={RP:function(a){var b=this;return this.video=document.createElement("video"),
this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.addEventListener("loadeddata",function(a){b.ng(a)},!0),this.video.src=window.URL.createObjectURL(a),this.video.$t=!0,this},SP:function(a,b){return void 0===b&&(b=!1),this.c&&(this.c.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,b&&this.video.setAttribute("autoplay","autoplay"),this.video.src=a,this.video.$t=!0,this.video.load(),this.Tv=this.AJ,this.Ip=window.setTimeout(this.Fy.bind(this),
this.hB),this.key=a,this},ng:function(a,b,d){a=!1;void 0!==b&&null!==b||(b=this.video.videoWidth,a=!0);void 0!==d&&null!==d||(d=this.video.videoHeight);this.width=b;this.height=d;this.A.source!==this.video&&(this.A.source=this.video);this.A.oz(b,d);this.c.frame.resize(b,d);this.c.width=b;this.c.height=d;this.c.valid=!0;this.BB&&this.BB.resize(b,d);a&&null!==this.key&&(this.uA.s(this,b,d),this.QM&&(this.video.play(),this.Gl.s(this,this.loop,this.playbackRate)))},complete:function(){this.hg.s(this)},
play:function(a,b){return void 0===a&&(a=!1),void 0===b&&(b=1),this.a.ma.jk&&(this.a.ma.jk.add(this.qk,this),this.a.ma.BA.add(this.fm,this),this.a.ma.iv&&this.qk()),this.a.Ce.add(this.oB,this),this.a.Pd.add(this.pB,this),this.lp=this.complete.bind(this),this.video.addEventListener("ended",this.lp,!0),this.video.addEventListener("webkitendfullscreen",this.lp,!0),a?this.video.loop="loop":this.video.loop="",this.video.playbackRate=b,this.Fc||(null!==this.key&&(4!==this.video.readyState?(this.Tv=this.AJ,
this.Ip=window.setTimeout(this.Fy.bind(this),this.hB)):(this.yt=this.tU.bind(this),this.video.addEventListener("playing",this.yt,!0))),this.video.play(),this.Gl.s(this,a,b)),this},tU:function(){this.video.removeEventListener("playing",this.yt,!0);this.ng()},stop:function(){return this.a.ma.jk&&(this.a.ma.jk.remove(this.qk,this),this.a.ma.BA.remove(this.fm,this)),this.a.Ce.remove(this.oB,this),this.a.Pd.remove(this.pB,this),this.Wz?(this.video.QS?(this.video.QS.stop(),this.video.src=null):(this.video.src=
"",this.po.active?this.po.active=!1:this.po.getTracks?this.po.getTracks().forEach(function(a){a.stop()}):this.po.stop()),this.po=null,this.Wz=!1):(this.video.removeEventListener("ended",this.lp,!0),this.video.removeEventListener("webkitendfullscreen",this.lp,!0),this.video.removeEventListener("playing",this.yt,!0),this.Fc||this.video.pause()),this},add:function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++)a[b].Th&&a[b].Th(this);else a.Th(this);return this},Qp:function(a,b,d,e,g,h){g=g||1;h=h||
1;a=this.a.add.qb(a,b,this);return a.anchor.set(d,e),a.scale.set(g,h),a},Xa:function(){!this.Vy&&this.H4&&this.A.m()},qk:function(){this.bc||(this.bc=!0,this.video.muted=!0)},fm:function(){this.bc&&!this.Sk&&(this.bc=!1,this.video.muted=!1)},oB:function(){this.Zc||this.Fc||(this.Zc=!0,this.video.pause())},pB:function(){!this.Zc||this.Xd||this.Fc||(this.Zc=!1,this.video.ended||this.video.play())},Fy:function(){4===this.video.readyState?this.ng():(this.Tv--,0<this.Tv?this.Ip=window.setTimeout(this.Fy.bind(this),
this.hB):console.warn("Phaser.Video: Unable to start downloading video in time",this.Wz))},rB:function(){this.a.input.ah.ly(this.unlock,this);this.Fc=!0},unlock:function(){if(this.Fc=!1,this.video.play(),this.Gl.s(this,this.loop,this.playbackRate),this.key){var a=this.a.cache.aH(this.key);a&&!a.wH&&(a.locked=!1)}return!0},hV:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay");
this.video.removeAttribute("src");this.video=null}},j:function(){this.stop();this.hV();this.Fc&&this.a.input.ah.gV(this.unlock,this);this.Ip&&window.clearTimeout(this.Ip)}},Object.defineProperty(b.Bd.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(a){this.video.currentTime=a}}),Object.defineProperty(b.Bd.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(b.Bd.prototype,"progress",{get:function(){return this.video?
this.video.currentTime/this.video.duration:0}}),Object.defineProperty(b.Bd.prototype,"mute",{get:function(){return this.bc},set:function(a){a?this.bc||(this.Sk=!0,this.qk()):this.bc&&(this.Sk=!1,this.fm())}}),Object.defineProperty(b.Bd.prototype,"paused",{get:function(){return this.Zc},set:function(a){(a=a||null,this.Fc)||(a?this.Zc||(this.Xd=!0,this.oB()):this.Zc&&(this.Xd=!1,this.pB()))}}),Object.defineProperty(b.Bd.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(a){0>
a?a=0:1<a&&(a=1);this.video&&(this.video.volume=a)}}),Object.defineProperty(b.Bd.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(a){this.video&&(this.video.playbackRate=a)}}),Object.defineProperty(b.Bd.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(a){a&&this.video?this.video.loop="loop":this.video&&(this.video.loop="")}}),Object.defineProperty(b.Bd.prototype,"playing",{get:function(){return!(this.video.paused&&
this.video.ended)}}),b.Bd.prototype.constructor=b.Bd,void 0===PIXI.Ve&&(PIXI.Ve=b.Ve),void 0===PIXI.tc&&(PIXI.tc=b.tc),void 0===PIXI.bb.pG&&(PIXI.bb.pG=new PIXI.bb(new PIXI.Uc)),void 0===PIXI.zd.Fd&&(PIXI.zd.Fd=new PIXI.rg),void 0===PIXI.Sa.gK&&(PIXI.Sa.gK=new PIXI.rg),PIXI.S&&void 0===PIXI.S.Ro&&(PIXI.S.Ro=b.WC,PIXI.S.Ds=b.dD,PIXI.S.Co=b.Nf,PIXI.S.ps=b.AC,PIXI.S.Gs=b.fD),PIXI.pD=!0,"undefined"!=typeof exports?("undefined"!=typeof module&&module.V&&(exports=module.V=b),exports.XC=b):"undefined"!=
typeof define&&define.bO?define("Phaser",this.XC=b):this.XC=b,b}).call(this);var C=new Phaser.Oo(700,700,Phaser.Cw,"game"),F,ia,ja,qa,ta,ya,za,T=[],Aa=[],Y=[0,0],Ba=[Y.toString()],Ea;
C.state.add("play",{rb:function(){C.ta.GW(Phaser.f.nj);C.g.Wv(0,0,2100,2100)},qr:function(){C.load.qb("bookShelf","images/book_shelf.png");C.load.qb("bullet","images/bullet.png");C.load.qb("lamp","images/lamp.png");C.load.qb("piano","images/piano.png");C.load.qb("room","images/room.png");C.load.hw("bug","images/bug.png",40,40);C.load.hw("frog","images/frog.png",40,40);C.load.hw("soldier","images/soldier.png",40,40);C.load.audio("backgroundMusic","sounds/background_music.mp3");C.load.audio("shoot",
"sounds/shoot.mp3");C.load.audio("die","sounds/die.mp3")},create:function(){C.background=C.add.kK(0,0,2100,2100,"room");F={direction:"up",b:{},IH:0};F.b=C.add.b(1050,1270,"frog");F.b.anchor.set(.5,.5);C.K.NQ(F.b);F.b.Lb.add("run");F.b.Lb.play("run",10,!0);C.ta.enable(F.b);T.push(F.b);var n=C.add.b(910,870,"piano");C.ta.Id.enable(n);n.body.Bb=!0;T.push(n);C.add.b(1610,870,"piano");C.add.b(910,1570,"piano");C.add.b(1610,1570,"piano");n=C.add.b(1150,1110,"bookShelf");C.ta.Id.enable(n);n.body.Bb=!0;T.push(n);
C.add.b(1130,1094,"lamp");C.add.b(1850,1110,"bookShelf");C.add.b(1830,1094,"lamp");C.add.b(1150,1810,"bookShelf");C.add.b(1130,1794,"lamp");C.add.b(1850,1810,"bookShelf");C.add.b(1830,1794,"lamp");C.add.b(450,1110,"bookShelf");C.add.b(430,1094,"lamp");C.add.b(1150,410,"bookShelf");C.add.b(1130,394,"lamp");C.add.b(450,410,"bookShelf");C.add.b(430,394,"lamp");C.add.b(450,1810,"bookShelf");C.add.b(430,1794,"lamp");C.add.b(1850,410,"bookShelf");C.add.b(1830,394,"lamp");n=C.add.audio("backgroundMusic");
n.loop=!0;n.play();ya=C.add.audio("die");ya.volume=.25;za=C.add.audio("shoot");za.volume=.25;ta=3;for(var n=[[790,490,220,300],[490,790,300,220],[1090,490,220,300],[1310,790,300,220],[490,1090,300,220],[790,1310,220,300],[1310,1090,300,220],[1090,1310,220,300]],b=0;b<n.length;b++){var g=C.add.b(n[b][0],n[b][1]);C.ta.enable(g);g.width=n[b][2];g.height=n[b][3];g.body.Bb=!0;T.push(g)}qa=C.add.group();n=C.add.gl(100,100);n.Bh.fillStyle="#362d10";n.Bh.fillRect(0,0,100,100);qa.add(C.add.b(650,1E3,n));qa.add(C.add.b(1350,
1E3,n));qa.add(C.add.b(1E3,650,n));qa.add(C.add.b(1E3,1350,n));ja=C.add.text(0,0,"",{font:"20px monospace",fill:"#b7b4ae",backgroundColor:"black"});qa.add(ja);ia=C.input.eg.QP();C.input.eg.EE(Phaser.jh.lD)},update:function(){ia.Rb.va?(F.direction="up",F.b.rotation=0):ia.Nb.va?(F.direction="down",F.b.rotation=Math.PI):ia.left.va?(F.direction="left",F.b.rotation=1.5*Math.PI):ia.right.va&&(F.direction="right",F.b.rotation=.5*Math.PI);F.b.body.i.x=0;F.b.body.i.y=0;switch(F.direction){case "up":F.b.body.i.y=
-150;break;case "down":F.b.body.i.y=150;break;case "left":F.b.body.i.x=-150;break;case "right":F.b.body.i.x=150}Fa();for(var n=0;n<Aa.length;n++){if(C.ta.Id.LI(Aa[n],F.b)&&!F.vH){F.b.Gb=16711680;F.vH=!0;ta--;ya.play();C.time.F.add(1E3,function(){F.b.Gb=16777215;F.vH=!1});if(1>ta){var b=C.add.text(F.b.body.x,F.b.body.y,"ur dead\n\nrooms explored:"+Ba.length,{font:"40px monospace",fill:"#b7b4ae",backgroundColor:"black"});b.anchor.set(.5,.5);C.paused=!0;setTimeout(function(){location.reload()},3E3)}break}C.ta.Id.NS(Aa[n],
F.b,70)}for(n=0;n<T.length;n++)for(var g=0;g<T.length;g++)n!=g&&C.ta.Id.DP(T[n],T[g]);700>F.b.body.x?(Y[0]--,Ga()):700>F.b.body.y?(Y[1]--,Ga()):1400<=F.b.body.x?(Y[0]++,Ga()):1400<=F.b.body.y&&(Y[1]++,Ga());Ea&&Phaser.v.Xb(F.b.xa(),Ea.xa())&&(Ea.j(),Ea=null,3>ta&&ta++);ja.text="current room: "+Y[0]+","+Y[1]+"\nrooms explored: "+Ba.length+"\nhealth: ";for(n=0;n<ta;n++)ja.text+="\u2764";ja.x=F.b.body.x-300;ja.y=F.b.body.y-300;C.g.wh(qa);b&&C.g.wh(b)}},!0);
function Ga(){for(var n=0;n<Aa.length;n++)Aa[n].j();for(n=0;n<T.length;n++)"bug"==T[n].key?(T.splice(n,1),n--):"bullet"==T[n].key&&(T[n].j(),T.splice(n,1),n--);Aa=[];for(var b=Math.abs(Y[0])+Math.abs(Y[1]),n=0;n<b;n++){var g=C.add.b(Sa(),Sa(),"bug");g.Lb.add("run");g.Lb.play("run",5,!0);C.ta.enable(g);Aa.push(g);T.push(g)}-1==Ba.indexOf(Y.toString())&&Ba.push(Y.toString());F.b.body.x=F.b.body.x%700+700;F.b.body.y=F.b.body.y%700+700;Ea&&Ea.j();Ea=null;2<b&&1>3*Math.random()&&(Ea=C.add.text(Sa(),Sa(),
"\u2764",{font:"40px monospace",fill:"#cc6e9f"}),C.ta.enable(Ea))}function Sa(){return 40*Math.floor(11*Math.random())+830}
function Fa(){var n,b;if(C.input.eg.va(Phaser.jh.lD)&&F.IH+700<C.time.time){switch(F.direction){case "up":n=[F.b.body.position.x,F.b.body.position.y-50];b=[0,-1];break;case "down":n=[F.b.body.position.x,F.b.body.position.y+50];b=[0,1];break;case "left":n=[F.b.body.position.x-50,F.b.body.position.y];b=[-1,0];break;case "right":n=[F.b.body.position.x+50,F.b.body.position.y],b=[1,0]}n=C.add.b(n[0],n[1],"bullet");C.ta.enable(n);n.body.wa=4.06;n.body.i.x=400*b[0];n.body.i.y=400*b[1];T.push(n);F.IH=C.time.time;
za.play()}};
	</script>
  </head>
  <body>
    <div id="game"></div>
    <p>made by <a href="https://twitter.com/jumpcarefully">@jumpcarefully</a> for <a href="http://ludumdare.com/compo/">ludum dare</a> 37</p>
    <p>arrows = movement, space = shoot coconut</p>
  </body>
</html>
